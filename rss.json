[{"title":"如何评价动画《大理寺日志》第二季第九集？","date":"2023-01-07 09:09:41","description":"\n<p data-pid=\"Tx8DF8U4\">大家好，我是大理寺日志的导演槐佳佳，很高兴能够在项目上线的时候在知乎跟各位分享每一集的制作心路历程。</p>\n<p><img src=\"https://picx.zhimg.com/v2-6657fee15463ae340a2fe66656d5f441_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-6657fee15463ae340a2fe66656d5f441\" data-watermark-src=\"v2-4ee711ecc4032bd40a805b6f0102ff8c\" data-private-watermark-src=\"v2-973870e77e8fa8bb820d4127869850a7\"></p>\n<p data-pid=\"yq2QKRzP\">创作的过程是非常痛苦并且孤独的，好在一路有各位相伴，让我在创作做的道路上可以砥砺前行。从第一季到第二季，我们和故事里的人物更像是一起走出了新手村，各项技能都在不断的成长，也认识到了自身的不足以及问题。</p>\n<p><img src=\"https://picx.zhimg.com/v2-9c9237c484c612f5fdc7e2ae77feb781_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-9c9237c484c612f5fdc7e2ae77feb781\" data-watermark-src=\"v2-4a7ed37eba38e6811e650fe9d44c4f0f\" data-private-watermark-src=\"v2-383f1aa43995df9a6c4ebd5d40189478\"></p>\n<p data-pid=\"bnKdsNix\">第九集我们着重刻画描写的是丘神纪这个人物，借用当下最流行的话就是，你要讲丘神纪，你就不能只讲丘神纪。我们要从与他有关联的人物下手，多点的讲述和描写才可以让这个人物更加的丰富和生动。</p>\n<p><img src=\"https://picx.zhimg.com/v2-73be1799edab500d3f69ae1b9d695961_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-73be1799edab500d3f69ae1b9d695961\" data-watermark-src=\"v2-48d440f38782257060aa577b1e1f122a\" data-private-watermark-src=\"v2-604c52cb87fadeb836b2292d04e4c88d\"></p>\n<p data-pid=\"GlMKLnN5\">正如第二季开篇就没有很多的爆笑日常，反而是给大家渲染了一种朝堂争斗的阴谋，大唐的盛世是要有对比的。一开始我们计划由浅入深的剧情分配。看上去像是轻松日常，其实各位追到后面发现大理寺的故事是很复杂冗长的，人物命运的悲欢离合，在第二季拉开了一个序幕。</p>\n<p><img src=\"https://picx.zhimg.com/v2-5ebe2a914742eeaa0a3727aef707607f_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-5ebe2a914742eeaa0a3727aef707607f\" data-watermark-src=\"v2-536f3e7f76aaed453b19dd8fa047c41e\" data-private-watermark-src=\"v2-36eee6b7ad838ba605da341e9c5b192b\"></p>\n<p data-pid=\"Xi0y_nEG\">也正是因为要找到且找准复杂剧情的呈现逻辑，以我为首的任性了一把。我认为大理寺不是一个线性叙事，它是需要中间穿插着倒叙插叙等回忆篇幅的。我们做的就是保证观众能够看明白的前提下，讲清楚每一个角色的故事。制作时，我们重视每一场戏的情绪氛围渲染，以及戏与戏之间的起承转合。我们制作团队的内部是有明确制度要求的，就是在呈现不同的时空交错时，不可以只用简单的粗暴的黑屏切换，而要有一些列的有设计感的镜头语言去组织连接。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-cdd29d10ea51fcbc5768152a6c92900d_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-cdd29d10ea51fcbc5768152a6c92900d\" data-watermark-src=\"v2-14364a9e8cf70960846d24a18788638a\" data-private-watermark-src=\"v2-c783aeb20ab49122af9c16982ada78c0\"></p>\n<p data-pid=\"z_Xhk5yO\">正剧的内核在于多元化的价值观表达，我们希望呈现一个波澜壮阔的世界，这个世界不是非黑即白的，各种各样的人物都有不同的立场。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-055127eef1777b493918c549fbcd5536_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-055127eef1777b493918c549fbcd5536\" data-watermark-src=\"v2-5e9ef84b2ca01ee1c86415e046937aa1\" data-private-watermark-src=\"v2-91be19e68964dcc85f94674213ae2637\"></p>\n<p data-pid=\"WpSD_XyU\">大理寺日志已经更新至第九集，我接下来会带着所有已经解决和未解决的问题，踏上新的旅途。正如大家熟知的大理寺slogan，但将行好事，莫要问前程。仍是我走下去的定力。</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/hadj-46?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">槐佳佳</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/577321573/answer/2834129926?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">2 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/575907778?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何评价动画《大理寺日志》第二季第八集？</a><br><a href=\"http://www.zhihu.com/question/571607535?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何评价动画《大理寺日志》第二季第五集？</a><br>\n","link":"http://www.zhihu.com/question/577321573/answer/2834129926?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"如何用 VOSviewer 和 BiblioShiny 快速梳理陌生领域的文献？","date":"2023-01-07 08:59:14","description":"VOSviewer 和 BiblioShiny 使用技巧分享<p>[......]</p>\n<a href=\"https://sspai.com/post/75738\" target=\"_blank\">查看全文</a><p>本文为付费栏目文章，出自<a href=\"https://sspai.com/series/278\" target=\"_blank\">《经验卷轴：入门学术论文写作》</a>，订阅后可阅读全文。</p>\n","link":"https://sspai.com/post/75738"},{"title":"《喜羊羊与灰太狼之勇闯四季城》开播，你有什么评价？","date":"2023-01-07 08:40:37","description":"\n<h2>随笔：《勇闯四季城》1-6集</h2>\n<p data-pid=\"AmHuLx4N\">每半年的喜羊羊集中回答又来了，本季故事《勇闯四季城》带来全新的设定而不是故事。<br>从第一集开始就给出了两个相互影响的媒介，一个是神话故事，一个是话剧排练，以极快的速度将“冒险游戏”这一概念介入到作品之中。</p>\n<hr>\n<p data-pid=\"buczNfiI\">毕竟喜灰的叙事已经走上了与开心超人完全不同的道路，后者拥有隐约可见的主线剧情，剧情本身又牵扯到宏大的世界观和叙事，而前者则更接近于持续不断的二创，前面几部羊村守护者系列围绕着黑暗能量的话题已经连续进行了很多次不同方式的再创作，有外族入侵，有平行世界收集碎片，也穿越未来，也有去往异世界冒险，不过这所有的叙事类型都可以归结为一点，那就是冒险游戏。</p>\n<p data-pid=\"pxXBoJs6\">对于冒险游戏来说：<b>他们（我们）只是一群小学生，和一个中年男人</b>。喜灰里也总是会提及的日常系（或者说故事一开始和故事结束时回归的）生活，就是完成家庭作业与照顾家庭。</p>\n<p><img src=\"https://picx.zhimg.com/v2-f351f0e6c1570ca5a738614d45ea6ca8_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1085\" data-rawheight=\"626\" data-watermark=\"original\" data-original-src=\"v2-f351f0e6c1570ca5a738614d45ea6ca8\" data-watermark-src=\"v2-9cb5897a16900f9c9c48fd93c1d02658\" data-private-watermark-src=\"v2-cf315fd48865b7ec80921af7cfc24965\"></p>\n<p data-pid=\"_-p0GgP0\">喜灰需要平衡的也正是这种“天选之人”和“平凡之人”的落差。<br>按照沸羊羊的说法，一路走来的这么多事情，早就可以确定就是被选召的人（这一季我是主角）。但过分强调这一设定，又难免会给低幼动画的观众带来疏离感，所以不断强化需要“完整课堂作业”作为基础设定，成为每季动画都会唤醒的日常。</p>\n<p><img src=\"https://picx.zhimg.com/v2-e6b0384ff17360949612dbce425adcd1_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1096\" data-rawheight=\"618\" data-watermark=\"original\" data-original-src=\"v2-e6b0384ff17360949612dbce425adcd1\" data-watermark-src=\"v2-1a50f3ef1c1d010956a41df13e21c120\" data-private-watermark-src=\"v2-03087f84fb1d33e5eb847a5c8df28daa\"></p>\n<p data-pid=\"ENOGxM3M\">冒险成为了喜灰系列的新日常，而冒险结束之后的恢复的“正常生活”逐渐成为一个不可或缺但不会更多着墨的背景。</p>\n<hr>\n<p data-pid=\"-KkgkUz4\">第2集就开始获得装备，走的是一条放弃叙事的拥抱冒险游戏的道路，从守护石（五点血）到试炼场，再到获得装备（看起来像是在穿圣衣），故事的进展速度可以说非常快。比较同期羊村守护者系列，前几集还在铺垫剧情进度，要不怎么说游戏机制就是这么容易让人快速接受设定呢。</p>\n<p data-pid=\"cKhi4WmA\">灰太狼接下来贡献了一个非常标准的《搞笑漫画日和》的梗图，这个梗来自《西游记：旅行的终点》，唐僧让大家一起比赛跑的吐槽。就连其中的语气词“桀桀桀”都一模一样。</p>\n<p><img src=\"https://picx.zhimg.com/v2-f87900f5673fdcdc731e3c9e656958f6_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1307\" data-rawheight=\"728\" data-watermark=\"original\" data-original-src=\"v2-f87900f5673fdcdc731e3c9e656958f6\" data-watermark-src=\"v2-f1887307f560e33dc4914c5fdf5df0ac\" data-private-watermark-src=\"v2-73d776a19fa8a193247f40639318f11d\"></p>\n<p data-pid=\"32JidFsu\">喜灰系列里的颜艺越来越明显，除了迎合生活在网络世代下的孩子的兴趣以外，应该还有通过这种夸张的肢体动作弥补人物立绘表情过于平面的薄弱之处。</p>\n<p data-pid=\"sC6K2CV1\">而颜艺、吐槽和无厘头放在冒险故事里，变得更加不违和。毕竟任何成熟的类型片发展到最后，总有一脉会一直走在搞笑与自我解构的路上，其中勇者冒险的代表作就是《勇者义彦与魔王城》，里面的成名句就是“我这可是一把涂了毒药的毒刃”，说完这句话的杀手还舔了一下刀刃，然后就完杀了自己。</p>\n<p data-pid=\"HlW5VaqY\">在成为勇者获得装备的几集中，还出现了大量类似的无厘头的场景。</p>\n<p data-pid=\"e8IazgyB\">获得了力量，可以一跃三丈高，却不知道应该如何落下。</p>\n<p data-pid=\"-701phLQ\">拥有神弓的过程来的过于简单，需要搜集的5根杉木就放在一旁，甚至连神弓出现的场景都不过是一个老头，准备用来锯木头的工具。</p>\n<hr>\n<p data-pid=\"9MyNJXDZ\">动画的第3集与第4集分别讲述了其他几位伙伴获得装备的过程。</p>\n<p data-pid=\"QFTxTSPb\">同时我们可以看到当打冒险游戏当做整个故事的主线进展时，故事的讲述反而变得更简单了。不管是灰太狼获得三头花变成法杖，还是美羊羊获得一颗蛋作为装备。他们都是不需要去讲述这个东西为什么会出现在该地的，也就是说不需要去触发它的逻辑上的可能性。</p>\n<p data-pid=\"tdT6Sdkr\">总之就是随机的出现装备并且获取，然后随机接受这个设定。在很多类似大逃杀的游戏中，也是如此装备就散落的放在那里，他的出现没有缘由，他的获取不是特定的人物，不需要去解锁故事。</p>\n<p data-pid=\"0aoGMmK-\">这是一种非常典型的数据库消费的调用，它不仅是体现在调用相似的角色上，还体现在调用相似的装备上，我们在很多的游戏中就会发现类似的获得新装备、升级、附魔的过程。</p>\n<p data-pid=\"QaRRleIH\">这样就会让我们回想起，生活在日常世界中的人，如何参与到冒险世界的过程，那必然是通过游戏的机制进行参与，它不需要去寻找这个游戏世界和现实世界的关系，同时也不需要在这个游戏的世界中去寻求自己的身份定位，因为它已经被定位了，那就是勇者勇者作为一个政治身份的前置，被先天的放置在那里。</p>\n<p data-pid=\"nBtHEkw2\">这种叙事类型的改变，我们就可以看到原创动力，在针对不同年龄阶段和不同时代的少儿的心理动向的改变。</p>\n<p data-pid=\"_rSPYmrZ\">游戏如果没有全方面涉足到少儿群体之中，那么借用游戏的设定来讲故事的这一逻辑会变得比较先锋化，反而更加不易于接受理解。试想一下，如果该累，行放置在20年前，对于2000年的中国的少儿来说，他们就会很难理解，为什么突然莫名其妙会陷入战斗的场景，又为什么会攻击三头花，攻击了之后又为什么会掉落装备。</p>\n<p data-pid=\"HcctvbVR\">但是现在的孩子理解这种类型完全没有任何障碍，其中一大助力就是手机游戏。虽然国家进行了未成年人的防沉迷系统，但是各种各样的手机游戏依然充斥在我们的生活之中。英雄联盟、王者荣耀、APEX，以及最近流行的鹅鸭杀，要么会给出随机的大量的技能，要么会给出各式各样可供购买的商品装备。</p>\n<p data-pid=\"E6aV4sWS\">于是故事便可以就此光怪陆离而顺利的开展下去。</p>\n<hr>\n<p data-pid=\"2tN9Z3Hr\">如果在没有看到第5－6集的时候，我们或许会认为这个故事又与之前的打怪通关升级高度类似，但在这2集里，勇闯四季城继续往搞笑的道路上一去不复返。</p>\n<p data-pid=\"5VV32XoU\">先是发现了通往怪物城的后门，可以直接绕过四季城一级一级提升自己的传统RPG模式，就能直接见到影王。</p>\n<p data-pid=\"e_7BEwKq\">主角团们似乎根本就不想要走既定的上个世纪90年代的那种收集图鉴（碎片）步步升级，最后热血直面boss的路子。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-0e378c0c418b7b6dcdb129ff1750987c_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1267\" data-rawheight=\"727\" data-watermark=\"original\" data-original-src=\"v2-0e378c0c418b7b6dcdb129ff1750987c\" data-watermark-src=\"v2-11500fef9b44dfa52375e48eae9ad2b5\" data-private-watermark-src=\"v2-cbe0f3eb885ac6a77d73d841b30d29ce\"></p>\n<p data-pid=\"vk37tDl6\">然后是怪物城里的妖怪守卫里竟然严格遵循着现代社会下的社畜设定，只要下班时间一到，就再也不呆在自己的职位上。这与后面喜羊羊当上新的破影大网之后，不得不继续进行社畜工作相呼应。</p>\n<p data-pid=\"WoXdGaoj\">喜羊羊从原本是“在学校里完成家庭作业”和“在舞台上表演过家家的话剧”的校园日常里“咻的”一下进入到充满幻想的冒险国度，然后快速成长，抛弃中二，坠入到起名/剪彩/出席会议等现代生活的繁琐之中，一场反类型的异世界冒险通过杂糅设定的方式变得更加后现代起来。</p>\n<p data-pid=\"MN5Slhw2\">接下来是机缘巧合之下打败了影王的喜羊羊，很快被手环控制变成了新的影王。</p>\n<p data-pid=\"vUhhUGG5\">从“勇者斗恶龙”的故事变成了“勇者成为恶龙”的故事，也就意味着从前现代的神话冒险线性叙事逐渐变成了抗拒历史发展的循环叙事。勇者身上长出鳞片，最后变成恶龙的寓言，据说最早流行于缅甸。在美国记者拉金的书《在缅甸寻找乔治奥威尔》中是这样写的：</p>\n<blockquote data-pid=\"vTDhaQ4B\">每年，这条龙都会要求村庄献祭一名童女。每年村子里都会有一名勇敢的少年英雄翻山越岭，去与龙搏斗，但无人生还。当又有一名英雄出发，开始他九死一生的征程时，有人悄悄尾随，想看看到底会发生些什么。龙穴铺满金银财宝，男子来到这里，用剑刺死龙。当他坐在尸身之上，艳羡地看着闪烁的珠宝，开始慢慢地长出鳞片、尾巴和触角，直到他自己成为村民惧怕的龙。</blockquote>\n<p data-pid=\"2qgwUs0b\">这个故事还有一个动物的版本，就是奥威尔写的《动物农庄》。20世纪50年，这本书已经在缅甸流传很久了，被缅甸人重新翻译为《四条腿的革命》。我们都知道，凡是古老的神话传说，都拥有着丰富的人类经验寓意，很多神话母题在相似的国家与文明中也是相似出现的，</p>\n<p data-pid=\"E8j_PO1g\">不过在勇闯四季城里，喜羊羊一行人并不会面对这种民族主义与统治权交替的政治叙事，而是借用简单的打败影王就会成为影王的设定，让游戏继续进行下去。</p>\n<p data-pid=\"PpK-Khw8\">但是这种游戏机制的设定在另一个方面回避喜灰面对的核心问题，那就是黑暗能量的伦理学问题。</p>\n<p data-pid=\"Hcj0mtos\">我在半年前的澎湃专栏中，曾用将近六千字详细论述了贯穿于羊村守护者系列里的黑暗能量到底是不是有实体存在的问题：</p>\n<p data-pid=\"p4vU-t2v\"><a href=\"http://link.zhihu.com/?target=https%3A//www.thepaper.cn/newsDetail_forward_19458993\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">thepaper.cn/newsDetail_</span><span class=\"invisible\">forward_19458993</span><span class=\"ellipsis\"></span></a></p>\n<blockquote data-pid=\"0b_3O0iy\">在故事的终焉，拥有独立表达能力的黑暗能量出现，并对已经黑化过的喜羊羊和灰太狼说，只要封印它，就会坠入无尽的孤独。到此黑暗能量将自己从社会意识形态规训中脱离出来，再度明确自己是一个终极实体，并且将一切变坏的缘由归于它自身。这种做法让主角团队的善良包容变得更加容易触发的同时，也让反派的能指与所指被分离。反派角色的所有作恶，一开始都有个人原因，也由此形成个人魅力。但黑暗能量被反复提及，则变成只要没有黑暗能量的推进，所有的魅力反派都不复存在。<br>那么黑暗能量到底是社会性的，还是本质性的？这似乎是一组悖论。但其实并非如是。汉娜·阿伦特在提出“平庸之恶”概念之后，她的老师雅斯贝尔斯就认为，这牵涉到根本恶的问题，即“因为一种罪行如果超越了所有的刑责，这将无可避免地带有一种伟大的色彩(greatness)——恶魔的伟大”。故而，黑暗能量兼备了意识形态灾难与现实困境的双重属性，只要打败黑暗能量这一沉默的巨大物，“现实僵局的的一种想象性解决”[5]也随之生效。而对于《羊村守护者》系列来说，故事也就只能到此结束。<br>总之，如果说《羊村守护者》系列开启了全新的以黑暗能量介入的方式将人改变的新元设定，那么《奇妙大营救》就将这个元设定抬到了更高的地步，不只是将视角对准一个实体化的，有个人意志的黑暗能量，还将视野扩展到更宽阔的社会运行之中，扬弃了拼图式景观的设计思路。这也同时意味着，喜羊羊与灰太狼系列开启了一个全新的篇章，那些被改变之后的自己，也无需追问是否是真的自己。</blockquote>\n<p data-pid=\"dmNg1Mqe\">黑暗能量不再是一个设定，而变成了一个根植于人内心深处的恶魔，它具有了神话学与社会学交替形成的意义。不过在《勇闯四季城》里，以一种几乎是恶搞和儿戏的方式被消解了。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-dff067070fb6b0112e66133628874c25_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1234\" data-rawheight=\"671\" data-watermark=\"original\" data-original-src=\"v2-dff067070fb6b0112e66133628874c25\" data-watermark-src=\"v2-9985e23ebcaf788eb300a04e48197607\" data-private-watermark-src=\"v2-9c759381a04603d25a4930895241bfe5\"></p>\n<p data-pid=\"EBHP8D-6\">最后是全员开始上演“用语言感化喜羊羊让他清醒过来”的三流烂俗剧情。在暖羊羊和美羊羊摆出音响之后，灰太狼声情并茂地拿出稿子开始回忆过去。</p>\n<p data-pid=\"lno_FqHe\">吐槽、无厘头、打破第四堵墙，这三者似乎如影随形，只要其中一条出现，另外两条也会伴随。在面对喜羊羊变成破影大王之后，主角团们接连的吐槽和操作都显得非常后现代化，而后现代本身就是一出永远不会谢幕的喜剧。</p>\n<p data-pid=\"q-SI_1BB\">“喜羊羊又变坏了”</p>\n<p data-pid=\"0CzQaqIK\">“已经见怪不怪了，一点新意都没有”</p>\n<p data-pid=\"xQn1oLHa\">“每次喜羊羊变坏都是用语言感动他的”</p>\n<p><img src=\"https://picx.zhimg.com/v2-2827c8e2a1816524363ac33145afbd5d_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1275\" data-rawheight=\"669\" data-watermark=\"original\" data-original-src=\"v2-2827c8e2a1816524363ac33145afbd5d\" data-watermark-src=\"v2-6159588f4fa03f441722200fda9c3e05\" data-private-watermark-src=\"v2-358de95a1730eff930612b6aec1f39d0\"></p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/dandoliya?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">乌合之子</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/574419216/answer/2833662743?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">5 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/569269523?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">《喜羊羊与灰太狼之勇闯四季城》动画的剧情设计是怎样的？</a><br><a href=\"http://www.zhihu.com/question/378009775?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">你觉得在《喜羊羊与灰太狼》中谁才是顶级战力？</a><br>\n","link":"http://www.zhihu.com/question/574419216/answer/2833662743?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"如何评价《一人之下》中王震球这个角色？","date":"2023-01-07 08:38:57","description":"\n<p data-pid=\"FxuJElVq\">用一个词来概括王震球的话，我觉得就是 <b>妖孽</b>。</p>\n<p><br></p>\n<p data-pid=\"crqxx0Sn\">何为妖，事出反常乃是妖。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-f8852fca1827afee78f0a9daa1b930a3_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"785\" data-rawheight=\"400\" data-watermark=\"original\" data-original-src=\"v2-f8852fca1827afee78f0a9daa1b930a3\" data-watermark-src=\"v2-3e04749665a12106baad5c478a5b627f\" data-private-watermark-src=\"v2-26679e8a8e17630c7be840aeeafec3c1\"></p>\n<p data-pid=\"t56Y5aDU\">王震球这个小子，论形，有体态婀娜雌雄同体之妖；论神，有行事乖离正邪难辨之妖。</p>\n<p data-pid=\"DnfMpM_C\">神格面具与俳优，中性化的外型与马杀鸡，这些表面上的反常设计就已经让王震球妖气十足了。</p>\n<p data-pid=\"OLSgPEV9\">他身边那团疑似天外之物的橡皮泥（？）更是把“有妖气！”写在了脸上。</p>\n<p data-pid=\"COt1p3Hs\">但王震球之“妖”还来自于更深层次的反常。</p>\n<p data-pid=\"MPNLJPAD\">虽然张楚岚永远一副气定神闲智珠在握的样子，但只要王震球在场（比如碧游村、通天谷），读者就总能感到一丝隐隐的不安。</p>\n<p><img src=\"https://pica.zhimg.com/v2-226764668026f8261a290eb97f120bc4_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"400\" data-rawheight=\"231\" data-watermark=\"original\" data-original-src=\"v2-226764668026f8261a290eb97f120bc4\" data-watermark-src=\"v2-6f9ac487fa2650faa365f57a3d8570dc\" data-private-watermark-src=\"v2-5be131df86328a927f39d7c4086095f2\"></p>\n<p data-pid=\"3rqXNzZB\">因为我们知道王震球有他自己的行为动机和逻辑，且我们不知道这个动机和逻辑到底是什么、甚至不知道他究竟是不是和张楚岚站在一边的。</p>\n<p data-pid=\"fgejNQGx\">进而让我们产生“明知道不太妙但又拿他没办法”的心理上的悬空感。</p>\n<p data-pid=\"3GE69JtP\">纵观《一人之下》全书，单凭“在场”就可以营造出这种反常情绪的人有且仅有王震球一个。</p>\n<p data-pid=\"zkVz620Q\">怎一个妖字了得？</p>\n<p><br></p>\n<p data-pid=\"HGtTGtu9\">何为孽，爱憎难明方为孽。</p>\n<p data-pid=\"4JM5tCV2\">时至今日我们仍未得知王震球究竟所图为何，但他催生的那股“笑着把手伸进你衣服里四处摸索”的不适感就足以构成这个角色最大的魅力。</p>\n<p><img src=\"https://pica.zhimg.com/v2-ba277ef88c1044b0a633d51b43ed4fdf_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"1507\" data-watermark=\"original\" data-original-src=\"v2-ba277ef88c1044b0a633d51b43ed4fdf\" data-watermark-src=\"v2-1767986a7e90e351d17d7041f1598fd1\" data-private-watermark-src=\"v2-6ba1c7ad927986b1a87dece0cc1cdae2\"></p>\n<p data-pid=\"xFcvSEBS\">因为这种“令人上瘾又惹人生厌”的文艺形象本来就很有魅力。</p>\n<p data-pid=\"hzICVyZy\">一如江玉郎之于江小鱼，二如明智吾郎之于怪盗团，三如西索之于小杰。</p>\n<p data-pid=\"srrHvINm\">这样的角色你说他是坏人吧，他又明面上没对你做什么，甚至笑脸盈盈热情洋溢；你说他是好人吧，他又总想在言谈举止间试探你的底细、揣摩你的心理。</p>\n<p data-pid=\"W4Pfxurq\">所谓不怕贼偷就怕贼惦记。</p>\n<p data-pid=\"xROzCqvB\">王震球这么一个行为油滑如飞贼，心思奸猾如老贼，态度圆滑如孙贼的贼中之贼天天绕在主角身边，换了你是张楚岚你也会觉得自己肋下发凉。</p>\n<p><img src=\"https://picx.zhimg.com/v2-edbe6ad1508a4eb636b9b7ba422043c9_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"499\" data-watermark=\"original\" data-original-src=\"v2-edbe6ad1508a4eb636b9b7ba422043c9\" data-watermark-src=\"v2-80dc2c2acedd5528e03e865a58b9c784\" data-private-watermark-src=\"v2-65547a8267efd5ead2c53a2d8ee1d24e\"></p>\n<p data-pid=\"AiHhCsXh\">王震球值得交心吗？</p>\n<p data-pid=\"8banxJ5Z\">他在擅自打探些什么？</p>\n<p data-pid=\"pKYDWgZs\">他对冯宝宝的态度究竟为何？</p>\n<p data-pid=\"CzXtWnut\">一切都是未知数。</p>\n<p data-pid=\"EY25xvKS\">但讽刺的是，某种程度上他才是最懂张楚岚心理的那个人。</p>\n<p><img src=\"https://picx.zhimg.com/v2-090ce6c202115a11dfe45c3c6b635e72_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1402\" data-rawheight=\"630\" data-watermark=\"original\" data-original-src=\"v2-090ce6c202115a11dfe45c3c6b635e72\" data-watermark-src=\"v2-1c61ba2a6344f07804d7c7842faaf617\" data-private-watermark-src=\"v2-e3fd8f5eed0fb1b902190ed82bedb81a\"></p>\n<p data-pid=\"E04pVjQa\">这样的缘分，又怎一个孽字了得？</p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/wo-you-xu-duo-de-xiao-bing-qi?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">许多的小兵器</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/278187496/answer/2830707129?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">42 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/564539126?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">动画《一人之下》王震球的名场面有哪些？</a><br><a href=\"http://www.zhihu.com/question/402571340?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">《一人之下》王震球身边的那团会说话肉是什么？</a><br>\n","link":"http://www.zhihu.com/question/278187496/answer/2830707129?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"如何评价《原神》3.4版本前瞻特别节目「磬弦奏华夜」?","date":"2023-01-07 07:33:21","description":"\n<p data-pid=\"8m0eqTzk\">这次新春版本绝对堪称内容量爆炸的超级版本，除了璃月海灯节主活动外还将开启须弥沙漠剩余地区「千壑沙地」（让我想起了随 2.4 海灯节版本开启的「渊下宫」），甚至连稻妻都安排了活动，看来官方这是打算在春节假期给咱们喂到撑了（笑）。</p>\n<p data-pid=\"B92kdS7R\">鉴于前瞻中海灯节相关剧情被捂得严严实实、细节不多，所以姑且跳过，等到剧情正式开启、现实中节日氛围亦正浓时再说也不迟。这里我很想和大家就即将解锁的沙漠新区域展开聊一聊，毕竟个人一直都相当关注赤王与花神的剧情，游戏也已为他们铺垫了三个版本的细节，本次拥有庞大体量的新地图想必也会提供大量新线索，为我们更深入地揭开这对须弥古代神王伴侣的背景故事，实在令人万分期待。</p>\n<p data-pid=\"vmvGPjMl\">「沙漠书 2.0」大型任务已明确将围绕寻找传说中的永恒绿洲展开，在 PV 中，我们也终于得以一瞥大漠深处被尘沙风暴遮蔽的失落圣地、那座赤王为纪念死去的挚爱花神而修建的陵寝 ——「永恒绿洲」的真正模样了。</p>\n<p><img src=\"https://picx.zhimg.com/v2-137df06d988151ab7ed5d8210e7e7a1d_720w.jpg?source=b1748391?rss\" data-caption=\"时间凝固的永恒绿洲，一瞬即是永恒\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-137df06d988151ab7ed5d8210e7e7a1d\" data-watermark-src=\"v2-4f88f93117a9735a3f5985cb547291d0\" data-private-watermark-src=\"v2-70b45953ec6134ca49084384414c5984\"></p>\n<p data-pid=\"aljGp2FZ\">彼时花神为帮助赤王实现反抗天理的叛逆梦想选择自我牺牲，以生命为代价开启了通向禁忌知识的通道，花神陨落后，赤王利用深埋地下的天钉的力量凝固了时间，使得这片绿洲停驻在水天相接的永恒一刻，无论外界如何变幻，这一领域始终不枯不老、维持着绝对的静止，曾经作为花的女主人居所的世间无二的瑰丽花园，最终成为了她在宁静中长眠的场所<b>【注1】</b>。</p>\n<p data-pid=\"YF0Juvv3\">根据直播中的提供的信息可知，本次主世界任务正式名称应为「比勒琪丝的哀歌」（The Dirge of Bilqis），这样一来就确定了花神的原型之一是所罗门王（King Solomon）<b>【注2】</b>传说中出现的人物示巴女王（Queen of Sheba，也译作希巴女王），因为「比勒琪丝」（Bilqis）被认为正是女王的一个称呼<b>【注3】</b>。顺带一提，「示巴」（Sheba）的原意就是「乐土」，示巴女王可以被理解为「乐土的女主人」，这也符合花神在游戏世界观中的身份，因为赤王曾与她共同缔造了沙漠中的乐土「瓦力 · 韦杰」。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-304c7c01a19ae89acf9f475f0f259123_720w.jpg?source=b1748391?rss\" data-caption=\"花神将通过献祭自己的生命，并以乐土的毁灭为代价，为赤王搭建起通往天空与深渊一切知识的桥梁，最终把那深邃的奥秘引导进提瓦特。花神陨落之时，沙暴遮天，镇灵恸哭，乐土随之逝去\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-304c7c01a19ae89acf9f475f0f259123\" data-watermark-src=\"v2-bf97c2cc6328d44456826dfe4c302f1e\" data-private-watermark-src=\"v2-a31b4fd07a35705fb6a414387c19550f\"></p>\n<p data-pid=\"fIpfU_6j\">实际上，花神与示巴女王的联系在游戏内早有暗示，在 3.0 版本就已实装的书籍《浮槃歌卷》中，就描述了花神用三道难题试炼远方被人们称颂的翠木王女（即大慈树王）智慧的故事，而其原型正指向《旧约 · 列王记》中所记载的示巴女王会见所罗门王时为了考验王故意提出难题，而后被王的卓绝智慧与庞大财富折服献上厚礼的传说<b>【注4】</b>。</p>\n<p><img src=\"https://picx.zhimg.com/v2-fba288186a226685772a37a57c90f5ca_720w.jpg?source=b1748391?rss\" data-caption=\"《示巴女王会见所罗门王》，爱德华 · 波因特，1890\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"844\" data-watermark=\"original\" data-original-src=\"v2-fba288186a226685772a37a57c90f5ca\" data-watermark-src=\"v2-7b835a8ab25205adeb7f8f74dc3cae60\" data-private-watermark-src=\"v2-4562500a4a20ce81bb6f2ef4e5b0f8cd\"></p>\n<hr>\n<p data-pid=\"hHiBy6pw\"><b>【注1】有关赤王与花神的故事，之前我已经写过一篇万字长文进行了梳理与推测，这里非常推荐对这块还不太了解的朋友前去阅读，相信应该能为各位更好理解即将开启的新故事带来一些帮助：</b></p>\n<a href=\"https://zhuanlan.zhihu.com/p/591588713\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://picx.zhimg.com/v2-337a5b5932d385318507d52aeab8629c_qhd.jpg?source=b1748391\" data-image-width=\"3840\" data-image-height=\"1620\" class=\"internal\">呆罗：鲜花与狂想：花神赤王秘闻谈</a><p data-pid=\"0FM01xL7\"><b>【注2】</b>所罗门王是是大卫王与拔示巴的儿子，为以色列联合王国的第三任君主，传说所罗门王拥有超人的智慧、大量的财富和无上的权力，在其统治其间古以色列发展繁荣，走向鼎盛的黄金时代。所罗门王最大的功绩则是在耶路撒冷为犹太教神主耶和华修建起了一座圣殿，即「所罗门圣殿」（也称「第一圣殿」），由此奠定了耶路撒冷作为犹太教圣地的地位。拥有雄才大略的所罗门王因此被视为犹太民族历史上最伟大的贤王，也是世界上最传奇的君王之一。</p>\n<p><img src=\"https://picx.zhimg.com/v2-6055ae4b16ce93a35638dacc79724ffd_720w.jpg?source=b1748391?rss\" data-caption=\"传说所罗门王向耶和华诚心祈祷获得了神赐的无上智慧，以色列在其领导下走向鼎盛。所罗门王凭借其智慧与才能得到四方尊敬与朝拜，邻国每年都要派使臣朝贡金银财宝，由此积累了巨额财富，他的宝库中还收藏有各类珍贵圣物，譬如「金约柜」与「西奈法典」，这便是「所罗门王的宝藏」\" data-size=\"normal\" data-rawwidth=\"3027\" data-rawheight=\"2110\" data-watermark=\"original\" data-original-src=\"v2-6055ae4b16ce93a35638dacc79724ffd\" data-watermark-src=\"v2-a345d5e3fb51ec2bd15b3795ba909a26\" data-private-watermark-src=\"v2-ff87a52ec697668c41721e716fc3d2b1\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-9b120847b129ebf865a7a898f565813c_720w.jpeg?source=b1748391?rss\" data-caption=\"所罗门与群臣商议修建「第一圣殿」，此殿建在耶路撒冷的摩利亚山上，约于公元前 957 年竣工，其中安放犹太教圣物「约柜」，此殿为古希伯来人崇拜上帝的中心场所，被视为犹太民族的象征\" data-size=\"normal\" data-rawwidth=\"765\" data-rawheight=\"962\" data-watermark=\"original\" data-original-src=\"v2-9b120847b129ebf865a7a898f565813c\" data-watermark-src=\"v2-e212f224a59843fc070cba39a5b9e6a7\" data-private-watermark-src=\"v2-55d1888c7cb6fcbae559acf30d42a289\"></p>\n<p data-pid=\"6-5x0n5r\">由于所罗门王的传奇性，后来他也作为主角被纳入到神秘学创作中，由此诞生了著名的神秘学概念「所罗门七十二柱魔神」（72 demons of the Ars Goetia）。据恶魔学文献《所罗门的小钥匙》（Lemegeton）记载，所罗门王其实也是一位优秀的魔法师与恶魔召唤师，他曾和怠惰魔王贝利尔（Berial）订立契约，获得了指挥地狱恶魔的力量，其中最为有力的是七十二名地狱的王公贵族，它们的名字被刻在七十二根柱子上，被称作所罗门七十二柱魔神，供王自由驱使来为以色列增添荣耀。而作为回报，所罗门王将在死后将自己的灵魂献给贝利尔。</p>\n<p><img src=\"https://pica.zhimg.com/v2-ced1457fc1d0094ede4a5da47d1e1c75_720w.jpg?source=b1748391?rss\" data-caption=\"所罗门七十二柱魔神的原始形象\" data-size=\"normal\" data-rawwidth=\"2937\" data-rawheight=\"3000\" data-watermark=\"original\" data-original-src=\"v2-ced1457fc1d0094ede4a5da47d1e1c75\" data-watermark-src=\"v2-5d315b637d315c12cb6712d2e1df4cc7\" data-private-watermark-src=\"v2-71891d5b11d5bc5489d1603392e95095\"></p>\n<p data-pid=\"gtBqDMn5\">《原神》中诸魔神的魔神名，例如「巴巴托斯」、「摩拉克斯」、「巴尔」、「布耶尔」、「芙卡洛斯」等，均取自于该传说中所列恶魔之名。</p>\n<p data-pid=\"cQGIdBBt\"><b>【注3】</b>有关历史上示巴女王所统治的示巴王国的具体位置及地理范围学界并无非常明确的结论，一般认为位于阿拉伯半岛西南端，即现今也门的位置，但也有观点认为示巴位于今天非洲东部的埃塞俄比亚，示巴女王其实就是埃塞俄比亚女王。据支持前一种观点的学者考据，也门东部城市马里卜（Ma'rib）应当就是古示巴王国的首都，而考古工作者也的确在该城郊外沙丘上发现了一处设计奇巧的建筑物废墟，据证实是公元前 4 世纪所建的「月神庙」，当地人则称其为「比勒琪丝之殿」（Maḥram Bilqīs，意为 Sanctuary of the Queen of Sheba），其中「比勒琪丝」即被认为是对示巴女王的称呼。</p>\n<p><img src=\"https://picx.zhimg.com/v2-68c38240c44f8a0daf33cbc58abb6493_720w.jpg?source=b1748391?rss\" data-caption=\"示巴女王像。女王的真实相貌其实不得而知，不过根据《雅歌》（据传为所罗门王所作）第一章中相关内容所述：「耶路撒冷的众女子啊，我虽然黑，却是秀美，如同基达的帐棚，好像所罗门的幔子」，示巴女王应当是一位黑皮肤的美人\" data-size=\"normal\" data-rawwidth=\"417\" data-rawheight=\"600\" data-watermark=\"original\" data-original-src=\"v2-68c38240c44f8a0daf33cbc58abb6493\" data-watermark-src=\"v2-91857aba66b76fb600f99fdea4323298\" data-private-watermark-src=\"v2-5d2dde4a7aa61792a084158e12699caf\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-2fb89d9a705da4df0b0e3c0b53a434c3_720w.webp?source=b1748391?rss\" data-caption=\"图为 FGO 中从者示巴女王的形象，她被设计为一名黑皮角色\" data-size=\"normal\" data-rawwidth=\"1133\" data-rawheight=\"700\" data-watermark=\"original\" data-original-src=\"v2-2fb89d9a705da4df0b0e3c0b53a434c3\" data-watermark-src=\"v2-98aafbf6b849ad9a5a0163934874fa7f\" data-private-watermark-src=\"v2-64bec642098d13117e17440cb47ee5bc\"></p>\n<p data-pid=\"7NrY8iFR\">《古兰经》中也有对于示巴女王的记述，虽然并未提及女王之名，但一些穆斯林学者如 Al-Tabari、Al-Zamakhshariand 与 Al-Baydawi 在扩展示巴女王的故事时也声称女王名叫「比勒琪丝」。当然示巴女王的真实姓名就与她统治国度的真实情况一样，并无定论。</p>\n<p data-pid=\"xG4F4DB0\"><b>【注4】</b>所罗门王与示巴女王的会面在原始文献《圣经》中其实仅有非常有限的记述，会面的结尾也只是说「示巴女王一切所要求的，所罗门王都送给她，另外照自己的厚意馈送她，于是女王和她臣仆转回本国去了」，然而后人却对两王的故事念念不忘，乃至经历漫长的演绎与加工，发展出一段所罗门王与示巴女王间凄美的爱情传说，说女王内心仰慕所罗门王的英明及刚毅，所罗门王也不舍美丽聪慧的异国女王匆匆离去，于是用计挽留女王，两王由此坠入甜蜜的恋情，直到不得不在依依不舍中告别，当时已经身怀六甲的示巴女王在回国后不久便生下了所罗门王的儿子。</p>\n<p><img src=\"https://picx.zhimg.com/v2-c89d741e37cfb4e477ec6370f24a67c9_720w.jpg?source=b1748391?rss\" data-caption=\"其实《圣经 · 旧约》中有关所罗门王与示巴女王的内容只有这么多\" data-size=\"normal\" data-rawwidth=\"1749\" data-rawheight=\"892\" data-watermark=\"original\" data-original-src=\"v2-c89d741e37cfb4e477ec6370f24a67c9\" data-watermark-src=\"v2-64dac3fa5adc77e7f45c7f16dfb7b790\" data-private-watermark-src=\"v2-78e5ac8e73fdac4f8a3dbb1fed131ce1\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-62f6dc8805bfea76370f07c42c8510c3_720w.jpg?source=b1748391?rss\" data-caption=\"经过后人不断演绎和加工，所罗门王与示巴女王产生出一套流传至今的爱情传奇故事（节选自《所罗门王与示巴女王传说的文化解析》，赵克仁，西北大学中东研究所）\" data-size=\"normal\" data-rawwidth=\"894\" data-rawheight=\"882\" data-watermark=\"original\" data-original-src=\"v2-62f6dc8805bfea76370f07c42c8510c3\" data-watermark-src=\"v2-e3d9b3687935d0993ef19a9443816ac5\" data-private-watermark-src=\"v2-a5cd517c84c3b094afabb631de59b2a5\"></p>\n<p data-pid=\"LC6U-RTK\">这套「二创」故事最终广为流传并被人们欣然接受，甚至得到了埃塞俄比亚民间与官方的认同，成为其民族文化的重要组成部分，可以说是非常有意思也很浪漫的文化现象了。</p>\n<hr>\n<p data-pid=\"CnS8qCsS\">令人感到激动的是，「黄金梦乡」结尾与旅行者匆忙告别便消失在沙海的婕德与奔奔也正式宣布回归，她们将作为主要角色出现在本次沙漠大型任务中，再度伴我们展开冒险（所以志琼的后续呢……难道真的永别于深渊了吗？）。「黄金梦乡」中哲伯莱勒老爹牺牲这把刀相信让不少朋友至今感到意难平<b>【注5】</b>，当时婕德在最后告诉旅行者，她会把双亲的遗物带到传说中的永恒绿洲，好让老爹与母亲的灵魂得到永远的安宁，不出意外的话这应当就是本次世界任务的主要目标之一了，不知婕德的心愿能否实现呢？</p>\n<p><img src=\"https://pic1.zhimg.com/v2-ce645de8a65673d7313d7523dea9af9f_720w.jpg?source=b1748391?rss\" data-caption=\"须弥三架遗迹巨像中的最后一架将在千壑沙地登场，根据赞迪克（「博士」）曾留下的考察队记录，这台机体被称作「居尔城机体」，不知它会在我们探索居尔城的过程中发挥何种作用\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-ce645de8a65673d7313d7523dea9af9f\" data-watermark-src=\"v2-259d9ec5793672292b134f6c8903be34\" data-private-watermark-src=\"v2-50512dda269fb0c95996ce4aaf5d332c\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-c86604cfc4d47ef1aeecc659126d2f3f_720w.jpg?source=b1748391?rss\" data-caption=\"旅行者将如何揭开传说中永恒绿洲的神秘面纱？婕德又能否达成她的心愿呢？\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-c86604cfc4d47ef1aeecc659126d2f3f\" data-watermark-src=\"v2-bf94197b2cc31770a97bd0892e4d8dab\" data-private-watermark-src=\"v2-1efa3b8b4924379b81155c308b68e59e\"></p>\n<p data-pid=\"7nuI0nVz\">婕德所提到的老爹的家乡 —— 部族「塔尼特」也将正式在游戏中出现，并且前瞻节目点明塔尼特聚居地会是沙漠任务故事的起点和主要场景<b>【注6】</b>。另外据节目以及相关泄露信息透露，沙漠文明历史上著名的大镇灵「利露帕尔」会以魔瓶之灵的形式充当我们的神秘助力。利露帕尔是导致曾经沙漠文明中心居尔城毁灭的罪魁祸首<b>【注7】</b>，这位沙漠人眼中有着毒蝎心肠的「凶灵」，究竟会以什么样的立场参与到我们这次冒险中呢？实在是令人感到好奇<b>【注8】</b>。</p>\n<hr>\n<p data-pid=\"KUPFR4_A\"><b>【注5】</b>有关奔奔背景考据（这个小家伙的来历可是非同小可）以及「黄金梦乡」故事梳理，推荐大家阅读我之前写的这篇文章：</p>\n<a href=\"https://www.zhihu.com/question/556126479/answer/2771304395\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://picx.zhimg.com/v2-5d9e0be1e62276ac62787a94de80d6ce_qhd.jpg?source=b1748391\" data-image-width=\"4096\" data-image-height=\"2597\" class=\"internal\">如何评价《原神》3.1 版本的世界任务「黄金梦乡」？</a><p data-pid=\"_vpAowb7\"><b>【注6】</b>根据花神套圣遗物「凝结的时刻」中提供的相关记述，哲伯莱勒老爹的故乡「塔尼特」以及「乌萨」、「欣缇」均是信仰花神的流浪部族，三大部族的领袖皆为女性，称作主母，历代主母们都宣称自己体内流淌着花神的血脉，称呼自己为「花神的女儿」。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-6e57245683c2c0f38646edda489d3baa_720w.jpg?source=b1748391?rss\" data-caption=\"塔尼特露营地将会是本次沙漠故事的起点\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-6e57245683c2c0f38646edda489d3baa\" data-watermark-src=\"v2-966c8a8b4a2a6cfac4d36bcb3a3da9c7\" data-private-watermark-src=\"v2-43ff192fd0cd1c53d426fcce63bd2ab4\"></p>\n<p data-pid=\"7CtuwDHx\">同时，这些部族坚定崇拜向往着花神长眠之地永恒绿洲，将其视作收拢部族、凝聚人心的信仰基础。然而，绿洲的真实所在早已消失在历史长河中，既已无人可觅，又谈何抵达？绿洲更多地只是被部族的人们视作幻想出来的精神寄托，成为文明暴烈的死亡后，渴求不竭泉流、挣扎求生的沙漠子民所笃信的永恒谎言。</p>\n<p data-pid=\"pd7HeDpz\">既然提到塔尼特会是故事的主舞台之一，可以料想，此次新沙漠任务的驱动动机除了帮助婕德安葬双亲外，旅行者的另一项重要使命将会是帮助塔尼特部族找寻他们信仰中的圣地，这点也许会在最后成为帮助婕德找到人生新归宿的契机。</p>\n<p data-pid=\"D41Ujqlq\"><b>【注7】</b>居尔城遗迹将是本次新区域地图探索中的主要部分，围绕这座昔日繁华王都发生的往事是沙漠文明历史中不可绕过的重要篇章，非常有必要提前进行了解。</p>\n<p><img src=\"https://pica.zhimg.com/v2-d1aa6c624d4a965bdae3cdb34e12501c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-d1aa6c624d4a965bdae3cdb34e12501c\" data-watermark-src=\"v2-d8618437065c254058f13d336d7a6794\" data-private-watermark-src=\"v2-adf6ed4e8f3fe39465212cfc15875ad9\"></p>\n<p data-pid=\"4qJ8ka_9\">居尔城的故事主要记述在书籍《希鲁伊与希琳的故事》以及「沙上楼阁史话」系列圣遗物中，其荒诞程度堪称游戏中的 18+ 内容，下面进行一些简要概括：</p>\n<p data-pid=\"EexigFok\">全身心投入到对禁忌知识的钻研中的赤王为了维系国度的正常运转，差谴镇灵为使与凡人立定密约，选拔贤明坚毅过人的人中豪杰成为一方藩王，如先知那般代替赤王带领如羊群般迷惘的民众。赤王选择了睡莲中诞生的「睡莲之女」利露帕尔作为镇灵之使，利露帕尔则在物色人选的旅程中不可救药地爱上了牧羊人少年奥尔玛兹，遂以身相许与之结合。</p>\n<p data-pid=\"Ugt8jIzm\">在她的辅佐下，少年征战四方、收拢各部族，最终由曾经的牧人最终加冕为尊贵的藩王之王、赤砂之主的代行者，尊为「藩王之王」奥尔玛兹沙。功成名就的藩王奥尔玛兹下令建造都城，恢弘的居尔城如同华丽的人造之花在山壁盛开，成为凡人国度的中心。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-d84dd7cfec694785134a8b6ed901dd44_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-d84dd7cfec694785134a8b6ed901dd44\" data-watermark-src=\"v2-6c2ae9423871ab447f987eea6be6ce42\" data-private-watermark-src=\"v2-c5c85f8f85f28bdc31c5ff2200a12d6f\"></p>\n<p data-pid=\"--aVe5kd\">然而，被扶持起来的奥尔玛兹逐渐被权力腐化，开始沉溺于凡庸暴君的贪婪与虚伪之中，利露帕尔对此感到苦恼。她也曾在床第之间发出温柔的谏言，欲诱使人王回心转意，莫再被虚荣迷惑，那个她曾无比深爱的男人却以奴役为统治的惯例与定理，只将谏言当作恋人在床上的情话而无视。绝望的利露帕尔感到自己钟意的王早已不复记忆中理想的模样，在遭受背叛的沮丧与狂怒中，利露帕尔由爱慕之心转变为极致的恨意，变得冷酷的心中浮现出惩治恋人的毒策 —— 那是将延续三代的绝罚。</p>\n<p data-pid=\"rF8uamTp\">最终利露帕尔也如愿得偿。奥尔玛兹先是被义子基斯拉 · 帕维兹拉万谋害篡位，之后，帕维兹拉万又被自己的妻子希琳背叛，被他那与母乱伦的亲骨肉希鲁伊弑杀。在无比宠溺自己的生母希琳的拥护下，被后世冠以「疫王」不义名号的希鲁伊勉强登上王位，终日被噩梦折磨的他终于在某次狂乱的夜游中跌入大地深黑裂隙不知所踪，一度辉煌的居尔城很快便在史称「希鲁伊之疫」的漆黑大疫中迎来了毁灭……至于那幕后的主使，生于睡莲的镇灵祖母利露帕尔，最终也因她恶毒可怖的阴谋败露于世而遭到了分裂形魂的报应。</p>\n<p><img src=\"https://picx.zhimg.com/v2-bb99218421e9549f6f9e6fd167ff178d_720w.jpg?source=b1748391?rss\" data-caption=\"相信随着本次新区域的开放，我们将在探索中了解到更加具体的居尔城历史\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-bb99218421e9549f6f9e6fd167ff178d\" data-watermark-src=\"v2-82c9fdbe41f811b47bab68dddf3c1d07\" data-private-watermark-src=\"v2-1b3814c4ddd8959442edd3e1fc269ada\"></p>\n<p data-pid=\"BBBQ1iri\">这段历史大家也可以去读一读我写的这篇文章进行了解，简而言之就是个女婿干掉岳父、女儿和外孙乱伦、外孙又干掉女婿、最后搞到整个国家 over 了的故事。相信在看完这些以后，当你在游戏中遇见利露帕尔时一定会感到心情复杂吧……</p>\n<a href=\"https://zhuanlan.zhihu.com/p/592602515\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\"internal\">呆罗：讲讲大镇灵利露帕尔与居尔城「三代绝罚」的故事</a><p data-pid=\"PvaZ8DQu\"><b>【注8】</b>因为已经瞅到大地图了，所以再提一点信息。位于沙漠风暴中心的螺旋山脉在游戏中叫做「达马山」，根据英文版地图文本确认，「达马山」就是伊朗最高峰「达马万德山」（Mt. Damavand）的简称。类似我国的青藏高原被称作「世界屋脊」，作为中东地区最高峰（海拔：5609 米）的达马万德山素有「中东屋脊」的美誉，它还是全亚洲高度第一的火山。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-284d3b9b1fc1349b5805ee898a2e12a3_720w.jpg?source=b1748391?rss\" data-caption=\"现实中的达马万德山，坐落在马赞达兰省、里海南岸附近的阿莫勒县内，位于伊朗首都德黑兰东北方。这是一座处在休眠状态的复式火山\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"800\" data-watermark=\"original\" data-original-src=\"v2-284d3b9b1fc1349b5805ee898a2e12a3\" data-watermark-src=\"v2-55da17c4dd6257d9aa4ab6b80eb699da\" data-private-watermark-src=\"v2-5dca74592f3ff6e5a8eb65b3ac56f435\"></p>\n<p data-pid=\"SftKw42o\">众所周知，波斯（伊朗）文化是须弥设计中采取的最主要文化原型之一，而达马万德山在波斯神话和民间传说里面占十分重要的地位，在琐罗亚斯德教神话中，三头龙「查哈克」（Zahhāk；若陀龙王的原型波斯魔龙「阿兹达哈卡，Aži Dahāka」与查哈克为同神异名）就被拴在山内，直到世界末日，达马万德山还是波斯诗歌和文学中代表抵抗外国统治的象征。</p>\n<p data-pid=\"UIEedyCb\">由此看来，游戏选择将沙暴中心的山脉命名为达马山的确是有一定道理的，但仍需要通过体验游戏剧情内容来进一步明确其意义。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-b695649629cffe708dc055099095643f_720w.jpg?source=b1748391?rss\" data-caption=\"被永不停息的、平等地将一切历史磨去的沙暴笼罩，坐落在沙海北方那弯刀般千壑之地、名为「达马」的螺旋山中，究竟沉睡着怎样不为人知的的隐秘往事？\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-b695649629cffe708dc055099095643f\" data-watermark-src=\"v2-c883c1f54d471a8619eee6b266c715c6\" data-private-watermark-src=\"v2-23add16a82c75a5e51e00d99c9a3a3b2\"></p>\n<hr>\n<p data-pid=\"unHPCBuK\">好了，关于新版本新地图暂时就聊这么多，更多细节要等实际体验过游戏内容后再进行讨论了。</p>\n<p data-pid=\"_tKwyDud\">过去一年我们可谓是看着游戏地图设计水准稳步提升，从年初大日御舆照亮的渊下宫中的荒凉奇景，到年中须弥植被繁茂雨林地区更新带来惊艳体验，再到之后镀金沙丘下赤王陵的复杂箱庭迷宫，都为我们带来了丰富的视觉享受与充足的探索乐趣。那么，作为今年更新的第一张新地图，千壑沙地不知能否给我们带来新的惊喜呢？实在叫人期待。</p>\n<p><img src=\"https://pica.zhimg.com/v2-a5a022b39eedd98761cf97eee3ba94f0_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1920\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-a5a022b39eedd98761cf97eee3ba94f0\" data-watermark-src=\"v2-57be5a3d9177f3980641b204a04312e1\" data-private-watermark-src=\"v2-78a784684eee5b990eafe6ab0ffc5f72\"></p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/ai-luo-38?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">呆罗</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/577156659/answer/2833637210?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">220 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/577164797?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">《原神》3.4 版本「磬弦奏华夜」PV ，对此你有哪些期待？</a><br><a href=\"http://www.zhihu.com/question/561310140?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何评价《原神》3.2版本前瞻特别节目「虚空鼓动，劫火高扬」?</a><br>\n","link":"http://www.zhihu.com/question/577156659/answer/2833637210?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"年度征文 | 2022 年，在记录中感受混乱与秩序之美","date":"2023-01-07 03:32:03","description":"持续去记录，持续去思考，让我有幸观察到混乱与秩序之间的美。我的笔记体系，也在混乱与秩序之间，有机生长。<a href=\"https://sspai.com/post/77642\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77642"},{"title":"本周看什么 | 最近值得一看的 8 部作品","date":"2023-01-06 10:15:04","description":"☕️TL;DR近期佳作推荐：[动画]中国奇谭、[韩剧]黑暗荣耀、[电影]上帝的笔误、[电影]玛蒂尔达：音乐剧、[丹麦剧]哥本哈根牛仔、[美剧]星球大战：异等小队第二季、[电影]萍水相腐檐廊下、[电影] ...<a href=\"https://sspai.com/post/77667\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77667"},{"title":"App+1 | 英特尔打出「融合卡」：让 Windows 与你的手机相连","date":"2023-01-06 08:00:00","description":"借助 Intel Unison，iPhone 用户在 Windows 上也能用有 Mac 一样的无缝跨平台体验。<a href=\"https://sspai.com/post/77647\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77647"},{"title":"少数派定制 Keychron K3 用了一年之后，他们想说……","date":"2023-01-06 07:00:08","description":"在少数派定制 Keychron K3 发售了一年多之后，我邀请到了几位少数派的作者，来谈谈一年「长测」后的感觉。<a href=\"https://sspai.com/post/77661\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77661"},{"title":"高效阅读、便捷笔记：汉王 N10 mini 上手体验","date":"2023-01-06 03:50:01","description":"豆瓣上有热门小组叫「买书如山倒 读书如抽丝」，读不进书看来是一种通病，对于我来说，读书也如山倒的原因就是使用了墨水屏阅读器。<a href=\"https://sspai.com/post/77633\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77633"},{"title":"年度裁员100问（持续更新中） - 职场闲话Step6","date":"2023-01-06 03:05:52","description":"\n<p data-pid=\"QYz2xOfl\">前言：</p>\n<p data-pid=\"LpQoOZv4\">2022年是互联网行业裁员狂潮最凶的一年，也是我收到裁员相关付费咨询最多的时刻。</p>\n<p data-pid=\"O7gFSSRs\">其实问题都大同小异，能不能拒绝？怎么争取更多钱？怎么识别公司的「骚操作」？等等诸如此类。</p>\n<p data-pid=\"Js0-D4Dk\">过往回答零零散散写了很多篇，但都没有一个完整的，索性干脆写个汇总吧，方便大家查阅。</p>\n<p data-pid=\"A15Ruelk\">如果看完还不能解答，或者你还是想问问我，可以再跟我走付费咨询。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h2>更新日志</h2>\n<ul>\n<li data-pid=\"cX75Fzf6\">2023/01/06 版本更新：增加了工伤、医疗期、试用期、女员工三期等内容</li>\n<li data-pid=\"zdqT0kzv\">2023/01/05 本文发布</li>\n</ul>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h2>裁员前</h2>\n<h3><b>Q1：什么样子让我走，会被界定为裁员？怎么分辨？</b></h3>\n<p data-pid=\"hdswzNMa\">准确来说，绝大多数（尤其是互联网行业）这几年的裁员，没人用「裁员」来跟你聊。</p>\n<p data-pid=\"zNB9wwY-\">狭义上的裁员，就是公司官方承认的：我在经济性裁员。</p>\n<p data-pid=\"rzDLHOZ4\">但是大部分情况下，公司都不会正面回应自己在裁员。同时还涉及到一些非裁员性质的人员辞退，比如低绩效人员汰换。</p>\n<p data-pid=\"KEam-Ivn\">因此，这里我们界定的裁员是：<b>拿钱走人。</b></p>\n<p data-pid=\"yPexxgOS\"><b>以下内容均适用于：当公司跟你说你要离开公司的情况。</b></p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"hC2jAy9r\">在大规模走人的情况下，如果你问公司是不是裁员，<b>那么你拿到的答案就是组织优化、人员结构升级、业务调整，亦或者这块项目关停并转，自主选择转岗（看是否有部门接收）或者协商走人</b>。</p>\n<p data-pid=\"4RyEnvVG\">原因：</p>\n<p data-pid=\"n44jho5N\">1、公开宣称自己在裁员，也是要符合条件的。很多公司的流程是不规范的。（也就是想说自己在裁员都不够格）</p>\n<blockquote data-pid=\"HgjvvHTX\">劳动法中的【经济性裁员】，是指用人单位一次性辞退部分劳动者，以此作为改善生产经营状况的一种手段，其目的是保护自己在市场经济中的竞争和生存能力，度过暂时的难关。<br>《劳动法》第27条规定“用人单位濒临破产进行法定整顿期间或者生产经营状况发生严重困难，确需裁减人员的，应当提前30日向工会或者全体职工说明情况，听取工会或者职工的意见，经向劳动行政部门报告后，可以裁减人员”。<br>《中华人民共和国劳动合同法》第四十一条　有下列情形之一，需要裁减人员二十人以上或者裁减不足二十人但占企业职工总数百分之十以上的，用人单位提前三十日向工会或者全体职工说明情况，听取工会或者职工的意见后，裁减人员方案经向劳动行政部门报告，可以裁减人员：<br>　　（一）依照企业破产法规定进行重整的；<br>　　（二）生产经营发生严重困难的；<br>　　（三）企业转产、重大技术革新或者经营方式调整，经变更劳动合同后，仍需裁减人员的；<br>　　（四）其他因劳动合同订立时所依据的客观经济情况发生重大变化，致使劳动合同无法履行的。<br>绝大多数公司做这件事是要跟劳动监管部门报备的，但是后续的不管是工会、职工大会的流程，还是对外的上级沟通口径，都不会用这条，因为他们的流程不合规矩。</blockquote>\n<p data-pid=\"sR2yRan5\">2、会对股价、市场口碑甚至是投资者关系等产生影响，尤其是上市公司，公开宣称自己在裁员。是很要命的一件事。</p>\n<p data-pid=\"cCRUa0c1\">3、老板那该死的面子。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"kH8n0_HH\">以及，员工自己也会有各种要求，比如有些人走了也会希望是和平分手的口径。诸如此类，最后公司必然选择的方式是【<b>双方达成协商一致，解除劳动合同</b>】。</p>\n<p data-pid=\"Hx01nSWF\">因为这条没有任何附加条件，<b>最灵活最好沟通。且补偿金和其他差不多。</b></p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"pVb39AyH\">当然，如前文所说，有些人是因为低绩效、能力不足、表现差等被干掉的。</p>\n<p data-pid=\"NhaVa4-b\">这种情况按照原则上应该是按照劳动法第四十条，不胜任来沟通。走调岗、培训、绩效改进后无法胜任再解除的。</p>\n<p data-pid=\"cOGxkgCG\"><b>但是HR实操过程中，一般会因为不胜任的补偿方案，法定就是N+1（与协商解除的标准类似，不会有更多额外补偿）且流程很长，很多时候也很难举证。索性你好我好，大家走一个一样的补偿方案走人呗。</b></p>\n<p data-pid=\"EikVohhu\"><b>PS：注明，单纯的协商解除的补偿金是N，而非N+1。</b></p>\n<p data-pid=\"GcOWwRWj\">之所以这几年都流行说N+1，一方面是因为外企盛行这个路数。另一方面，在北京地区是因为额外的补充条款，任何解除劳动合同的情况下都需要提前三十天或者支付一个月的工资。因此北京地区的协商解除也是N+1。而在上海地区无此条件。</p>\n<p data-pid=\"I1FeEkU1\">但上海地区多数公司还是会按照N+1谈，无他，好谈。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h3><b>Q2：为什么是我被裁员啊？我想不通？</b></h3>\n<p data-pid=\"xHIeP5mk\">绝大多数的裁员理由你想不到，why me？</p>\n<p data-pid=\"2yTPinZC\">做HRBP的亲身经验是，一般分以下几种场景的，但不够那么绝对：</p>\n<ul>\n<li data-pid=\"VfjlMD_R\">团队边缘人物：低产能的人、低潜力的人（比如工作很多年还跟校招生职级/产出差不多的）、老板看不上的非自家亲信、可替代成本高的位置</li>\n<li data-pid=\"10-qXsqZ\">成本超贵人物：拿着最贵的工资干着最基础的活儿、在同级别人里薪资成本相对最高</li>\n<li data-pid=\"62ioVnZ_\">业务裁撤人物：常见的就是这活儿下一阶段不做了，人也不能复用到其他业务上的工种</li>\n<li data-pid=\"KQVU92c5\">其他奇怪理由：你曾上班摸鱼被大老板看到记恨在心、你平时不够刷存在感、你出过几次严重的P0级downtime 事故、你之前就极不稳定频繁提离职</li>\n</ul>\n<p data-pid=\"EdDWascp\">当然，除去这些，其实还可能存在别的考量因素。甚至有的公司还搞过什么闭眼抽签的段子。</p>\n<p data-pid=\"44-fLae3\">但我的建议是，轮到你，出于不影响心情和状态角度考虑，就别想为什么了。</p>\n<p data-pid=\"fyvtILSp\"><b>争取利益最大化才是最当务之急的事情。</b></p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h3>Q3：如果听到了裁员风声，我该提前准备些啥吗？</h3>\n<p data-pid=\"GbiasYWb\">先上知乎熟读本篇回答（bushi</p>\n<p data-pid=\"g17HrRTS\">首先是先估算下自己能拿到多少。</p>\n<p data-pid=\"QlRaRFVt\">其实一般裁员的方案都是固定的。N+X，X 最少是1或者30天缓冲期。多的话看公司良心或者你agure的能力。但肯定N的基数不会偷工减料算（也没必要）。</p>\n<p data-pid=\"zfTATJ0u\">如果不放心的朋友，可以先去算算，方法是先打开个税APP，往前数十二个月的收入数据，弄个Excel算算N的基数，打开自己的员工档案，看看自己N的系数。查查今年当地所在的市平工资三杯标准是多少。具体的计算方式我们下一个问题讲。</p>\n<p data-pid=\"JMZvjKKJ\">其次是，多打包和整理好自己的工作总结、心得。虽然从HR角度，鼓励大家备份自己的工作材料是一件违反公司管理条例的事情。但从打工人角度，我还是要跟你说，该日常备份着还是要准备的。毕竟很多公司甚至是谈完就关账号了。作为打工人，毕竟还得继续搬砖呢。（当然，别让公司的风控发现了。）</p>\n<p data-pid=\"TXdtPZvb\">再次是，多看看脉脉，跟你的职场朋友们聊聊，收集下风声。</p>\n<p data-pid=\"vHzGP0fZ\">还有，手机上录音功能还是要准备着的，不要进了会议室还没找到在哪儿。</p>\n<h2>裁员时</h2>\n<h3>Q4：我想测测自己能拿多少钱，怎么计算呀？</h3>\n<p data-pid=\"_Dq2l7DP\">劳动法依据：</p>\n<blockquote data-pid=\"qK5ukV6K\">《劳动合同法》第36条规定：用人单位与劳动者协商一致，可以解除劳动合同。同时《劳动合同法》第46条规定：用人单位依据第36条之规定向劳动者提出解除劳动合同并与劳动者协商一致解除劳动合同的，应当向劳动者支付经济补偿金。</blockquote>\n<p data-pid=\"Na3LAPsI\">有一个小知识点：经济补偿金中的月平均工资是指劳动者在<span class=\"nolink\">解除劳动合同</span>前12个月的月实际平均收入，包括一切应税部分收入如奖金、内推费、过节费、津贴等（超当地市平工资三倍封顶以上则按照三倍封顶计算基数），而不仅仅是劳动合同中约定的基本工资。</p>\n<blockquote data-pid=\"792IoNaR\">根据劳动部《关于贯彻执行中华人民共和国若干问题的意见》的规定，“工资”是指用人单位依据国家有关规定或劳动合同的约定，以货币形式直接支付给本单位劳动者的劳动报酬，一般包括计时工资、计件工资、资金、津贴和补贴、延长工作时间的工资报酬以及特殊情况下支付的工资等。</blockquote>\n<p data-pid=\"OmOdzCYe\">也就是前文所说：方法是先打开个税APP，往前数十二个月的收入数据，弄个Excel算算N的基数，打开自己的员工档案，看看自己N的系数。查查今年当地所在的市平工资三倍标准是多少。</p>\n<p data-pid=\"HjBCOgpz\">因为，N 的基数的计算方式是包括了所有应税收入的薪资。但封顶以当地市平工资三倍的基数来进行计算封顶，超过的部分只按封顶发放，</p>\n<p data-pid=\"kaZvAmNJ\"><b>N=你过去十二个月月平均收入（大于当地市平工资三倍的以三倍计算） * 你的司龄系数（每过六个月，记为1。不足6个月的，记为0.5）</b></p>\n<p data-pid=\"zKldOPt_\">这也就是大家常见的方案中的 N。</p>\n<p data-pid=\"Zklizorf\">接下来说说+1，+1 其实是<span class=\"nolink\">代通知金</span>，法律上常见的场景是在劳动法第四十条里：</p>\n<blockquote data-pid=\"kft4FlHf\">劳动合同法第四十条，有下列情形之一的，用人单位提前三十日以书面形式通知劳动者本人或者额外支付劳动者一个月工资后，可以<span class=\"nolink\">解除劳动合同</span>。<br>(一)劳动者患病或者非因工负伤，在规定的医疗期满后不能从事原工作，也不能从事由用人单位另行安排的工作的;<br>(二)劳动者不能胜任工作，经过培训或者调整工作岗位，仍不能胜任工作的;<br>(三)劳动合同订立时所依据的客观情况发生重大变化，致使劳动合同无法履行，经用人单位与劳动者协商，未能就变更劳动合同内容达成协议的。</blockquote>\n<p data-pid=\"E5CHqo6x\">这里的+1 就是指提前一个月告知你解除劳动关系，或者多发一个月工资让你立刻/尽快离职。</p>\n<p data-pid=\"AnbhAEfp\">如果回到上面的协商解除，其实不是所有地区的法定都是 N+1。一线城市里比如上海就无需此条，而北京地区需要附加额外的+1：</p>\n<blockquote data-pid=\"MEy3H_AI\">《<span class=\"nolink\">北京市劳动合同规定</span>》中的第40条、第47条规定，是<span class=\"nolink\">终止劳动合同</span>代通知金。<br>终止劳动合同代通知金是指在<span class=\"nolink\">劳动合同终止</span>前，用人单位没有依法提前30天通知劳动者的，应该支付没有提前通知的日期对应的工资的赔偿，这是一种赔偿责任。具体条文是《北京市劳动合同规定》第四十条　<a href=\"https://www.zhihu.com/search?q=%E5%8A%B3%E5%8A%A8%E5%90%88%E5%90%8C%E6%9C%9F%E9%99%90&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2547279573%7D\" class=\"internal\">劳动合同期限</a>届满前，用人单位应当提前30日将终止或者续订劳动合同意向以书面形式通知劳动者，经协商办理终止或者续订劳动合同手续。第四十七条　用人单位违反本规定第四十条规定，终止劳动合同未提前30日通知劳动者的，以劳动者上月日平均工资为标准，每延迟1日支付劳动者1日工资的赔偿金。这是对用人单位没有依法提前30天通知而造成员工的工资损失赔偿，其<a href=\"https://www.zhihu.com/search?q=%E5%BD%92%E8%B4%A3%E5%8E%9F%E5%88%99&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2547279573%7D\" class=\"internal\">归责原则</a>是以<span class=\"nolink\">过错责任原则</span>。</blockquote>\n<p data-pid=\"AmvgqBqg\">当然，如果最后你们走的是劳动法第四十条，不胜任、医疗期满或者重大变化无法继续合同的情况，则不管什么地区都是 N+1。</p>\n<p data-pid=\"CSBefUQ-\">如果公司比较大方，比如去年夏天网传的福报厂的方案是N+3，那么就是N+3个月的税前薪资了。</p>\n<p data-pid=\"Pcb3rvbd\">那么结合起来我们做个测算的示例。</p>\n<blockquote data-pid=\"pxQ27wuF\">张牧之 2020 年 1 月 15 日入职上海的新公司，协商解除劳动合同的离职日期是 2023 年 1 月 16 日，他过去十二个月的月平均收入是 41047， 基础月薪为 45000。上海地区目前的市平工资三倍是34188。<br>故此最后张牧之能拿到的是协解补偿金为： N=34188*<i>3.5。</i><br>同时公司考虑到体面，额外给到了+2，因此，张同学最后拿到手的部分为N+2=341883.5+45000*2、</blockquote>\n<h3>Q5：这笔钱会扣税吗？什么时候发是合理的？</h3>\n<blockquote data-pid=\"-hJyPFV5\">个人因与用人单位解除劳动关系而取得的一次性补偿收入，其收入在当地（所在省市）上年职工平均工资3倍数额以内的部分，免缴个人所得税；超过的部分，可视为一次取得数月的工资、薪金收入，允许在一定期限内进行平均，并按照规定计算缴纳个人所得税。<br>    计算公式为：经济补偿金应付的个人所得税={[（补偿金额-免税收入额-实际缴纳的基本社会保险和住房公积金）/服务月数-费用扣除额]×适用税率-速算扣除数}×服务月数<br>    “免税收入额”：相当于当地社会职工年平均工资的三倍。</blockquote>\n<p data-pid=\"DaJxiQ55\">简单来理解就是：只要没达到市平工资三倍12，都不会扣税。在当下，就是小于34188*12的，都不会扣税。如果是真的几十万的大佬，也是超过的部分跟着工资正常计税。</p>\n<p data-pid=\"BGbkTl9c\">也正因此，有些公司比较良心的，在年底和员工谈的时候，如果额外还有年终奖的部分，会放在补偿金里一次性给员工发放，由公司承担这部分税款，而不是由员工承担这笔奖金的税款。</p>\n<p data-pid=\"e9r5HZZa\">当然，大部分公司走人的人是没有年终奖的ORZ</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"6TCCFDMr\">什么时候发呢？因为涉及到公司打款的节奏、财务操作方式等，一般都是跟着最后一个月的工资发放的。方便操作。</p>\n<p data-pid=\"98-AdxUg\">某知名发电厂压半个月发工资的好处就体现出来了，裁员的时候一大批补偿金就压了最少半个月现金流的机会。吃利息都不少钱呢！</p>\n<h3>Q6：跟我谈话的时候要注意点啥</h3>\n<p data-pid=\"eChEZQvY\">一般来说呢，方案和话术都是固定的。除了我知道的某知名book的HR在裁员的时候PUA员工，还拿绩效表现说事儿以外，大部分公司的HR都是复读机，固定话术来回念。你也不用在意对方说了啥。约到你了一般也没啥挣扎的机会。</p>\n<p data-pid=\"bTiB5uBc\">如同我上文说的，参考因素有很多，不想走是不可能的。兵刃相见了只能走人。无非多要点钱。或者早点脱离苦海。</p>\n<p data-pid=\"pizo_4rj\">注意下发钱的时间、补偿金的额度、协议上有啥隐藏的不平等条款（一般都是法务看过的不太会有）、再问问社保公积金缴纳月份、股票期权如何处理（一般没生效的部分是很难要到的，尤其是没上市的期权）。</p>\n<p data-pid=\"4TS4rNc6\">还有就是，有没有什么在办的服务比如公租房、无息贷款、北京的工作居住证or上海的落户如何处理。其他就没啥了。</p>\n<p data-pid=\"STuGvPjo\">一般是HR+leader红白脸或者HR主讲、leader吉祥物的配置。你也没啥可暴怒或者特别伤心的，聊清楚补偿方案，早聊早走完事儿。<b>跟他们生气或者悲伤是在惩罚自己。</b></p>\n<p data-pid=\"L4gsTnzw\"><b>必要情况录个音、协议找个稍微懂法或者有经验的或者HR的朋友看完再签字。</b></p>\n<p data-pid=\"RVHPVnJ8\">哦，如果你是特别开心拿到大礼包的，<b>签字现场别偷着乐哈，稍微收敛点</b>，我曾经有过一个毕业半年打算回家上岸的校招生，喜提1.5+2 的大礼包。现场跟我称兄道弟的经验。</p>\n<h3><b>Q7：我能多要点吗？比如抵抗不签字？拖着会有啥风险吗？</b></h3>\n<p data-pid=\"0nUFGmyX\"><b>坦白说呢，绝大多数HR不会那么蠢到你不签字找人把你从公司里赶出去那种剧情了（小公司作坊除外）。</b></p>\n<p data-pid=\"Y9H6AAo5\"><b>不签字的话，就是耗着，心理战。</b></p>\n<p data-pid=\"F_cgOcKl\">单方真的把你赶出去，给你寄辞退函，那就真的是单方违法解除了。顺手就去仲裁要2N了，就算最后厅外调节，也能比N+1多要点。公司才不这么傻呢。</p>\n<p data-pid=\"RGkjV4xn\">一般就是HR轮番轰炸你，比如你说我要考虑几天，好的，每天HRBP坐在电脑前就开始把没签约的群发一遍消息：考虑的怎么样了？我们的方案有效期还有XX天。这个阶段过去下个阶段方案可能就变化了（甚至有人说出更少，事实上如果给的比法定的协商解除多的，从法理角度上是可以越来越少的）。</p>\n<p data-pid=\"cpvWaOAv\">更有甚者有的公司玩出了：过了这个阶段是吧，那公司放弃协商解除，你继续上班吧。这样的操作和沟通话术。从法律角度上倒也没问题，但的确很恶心人。、</p>\n<p data-pid=\"_K-Dbp4M\">问我的建议呢：我是一般不建议耗着的。原因也很简单，绝大多数HR都会用上面这种心理战来一直消耗你。大部分人都是扛不住这套压力的。而且实际上一般熬到最后的人，也就是多拿一个月最多。<b>其中压力扛不住中途报废前功尽弃，还不如早早签字走人了事。</b></p>\n<p data-pid=\"dauR8QWJ\">我参与过的裁员项目，一般真的熬到最后的，也的确是能多要点钱。公司在清理钉子户上的操作思路一般也不是少给，而是尽快结束战斗。但其中的压力还是非常大的，不建议一般心理防线的人尝试。</p>\n<p data-pid=\"Tda5BEFv\">当然，如果你有想要额外申请的部分，比如没上市的期权，没解冻的股票，熬一熬甚至是拒绝走人，也是有价值的。<b>重点是，算清楚自己的投入产出比。划不划算。</b></p>\n<h3>Q8：签字以后各类福利啥的怎么整啊？</h3>\n<p data-pid=\"FPcdfg2D\">上海地区的规定是，在职一天都需要缴纳当月社保公积金（除非员工本人自愿放弃）。故此，如果你是月初走的但是公司拒绝缴纳，可以跟公司谈条件争取此项。</p>\n<p data-pid=\"INeRLuKT\">贴一个上海地区人社区的回答：<a href=\"https://link.zhihu.com/?target=https%3A//rsj.sh.gov.cn/trdhy_17355/20221010/t0035_1410500.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">离职当月入职新单位，社保哪家缴？_热点回应_上海市人力资源和社会保障局</a></p>\n<figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-7e85ee25eed21765b1b51eaa08ee4a50_b.jpg\" data-rawwidth=\"1547\" data-rawheight=\"1080\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1547\" data-original=\"https://pic1.zhimg.com/v2-7e85ee25eed21765b1b51eaa08ee4a50_r.jpg\"></figure><p data-pid=\"iFjjLlfo\">其他还在办理的比如落户、北京地区的工作居住证办理等，需要按照公司的规章制度来。比如上海地区落户，如果是离职前还没办完的，过了离职日期就无法继续办理了。</p>\n<p data-pid=\"vkem0_TJ\">一个解决思路是：如果是可协商的方案和日期，而办理完成日期也很接近，可以把+1换成30天缓冲期，虽然工资要扣税了，但是你争取到的是时间和多一个月的社保公积金。</p>\n<h3>Q9：裁员不应该给2N吗？</h3>\n<p data-pid=\"S6CFMY3o\">很多人都觉得被裁员可以要 2N，但是实际上是个错误的概念。</p>\n<p data-pid=\"09kwy-WJ\">先说什么是 2N，法律条文如下：</p>\n<blockquote data-pid=\"CRR0xr1g\">《<span class=\"nolink\">劳动合同法</span>》第四十八条：用人单位违反本法规定解除或者终止<span class=\"nolink\">劳动合同</span>，劳动者要求继续履行劳动合同的，用人单位应当继续履行;劳动者不要求继续履行劳动合同或者劳动合同已经不能继续履行的，用人单位应当依照本法第八十七条规定支付赔偿金。<br>《<span class=\"nolink\">劳动法</span>》第二十九条劳动者有下列情形之一的，用人单位不得依据本法第二十六条、第二十七条的规定<span class=\"nolink\">解除劳动合同</span>：<br>(一)患<span class=\"nolink\">职业病</span>或者因工负伤并被确认丧失或者部分丧失劳动能力的;<br>(二)患病或者负伤，在规定的医疗期内的;<br>(三)女职工在孕期、产期、哺乳期内的;<br>(四)法律、行政法规规定的其他情形。<br>第八十七条：用人单位违反本法规定解除或者终止劳动合同的，应当依照本法第四十七条规定的经济补偿标准的二倍向劳动者支付赔偿金。</blockquote>\n<p data-pid=\"zni4NLZj\"><b>省流概括：简单来说就是公司强行开除你后。或者你是上述说的三期、医疗期内的员工被谈了解除。在去向劳动监察部门发起申诉后，正常情况会先是双方举证，然后一般法院都会让对方公司的法务跟你<span class=\"nolink\">庭外调解</span>。</b></p>\n<p data-pid=\"gRBLl4DG\"><b>在极端情况下不可能调解的时候才可能会被判罚 2N。</b></p>\n<p data-pid=\"zztInT7c\">当然，各位如果是普通的被裁员，大部分情况下是不属于这条的，因为公司的 HR 会按照「协商一致解除劳动合同」来跟你聊协解，既不会直接把你的全部帐号权限关闭，也不会急着就找保安把你赶出去。更不会给你寄送单方解除劳动协议的通知函（当然你如果是被违规违纪或者其他情况除外），所以很难直接符合此条标准。</p>\n<p data-pid=\"JcRBUK5Q\">而即便是公司强行单方开掉了你（寄送了单方解除通知函的那种），在进入仲裁期间，当地的<span class=\"nolink\">劳动仲裁委</span>也会在一定程度上主动促成公司和员工的庭外调解（一般常见的调解情况是在 N 到 2N 之间，取一个大家都能各退一步的数字）。</p>\n<p data-pid=\"cyNagl2z\">我的从业生涯中，很多被谈的员工都会说，我的律师朋友说我可以要2N 巴拉巴拉，这点我真的要说一句，这些律师朋友误人。实际上即便是到最后去仲裁，真的拿到 2N 真的很少见且很难。还要再考虑为此付出的时间成本和精力。所以还是考虑如何争取补偿方案更合适。</p>\n<h3>Q10：年假如何处理？</h3>\n<p data-pid=\"5TmIYc51\">法律保护的是最基础的法定年假部分，工作年限在10年以内的，每人每年五天。以及周末加班换取的调休。</p>\n<p data-pid=\"nFpLdEqA\">《企业职工带薪<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/nxj/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">年休假</a>实施办法》对年休假未用完的情况是这样规定的：“单位确因工作需要不能安排职工休年休假的，经职工本人同意，可以不安排职工休年休假。对职工应休未休的年休假天数，单位应当按照该职工日工资收入的300%支付年休假工资报酬。”这一条款表明以下两层意思：</p>\n<p data-pid=\"oLNt51ah\">1、年休假使用不掉，既是单位的决定，也要得到员工的同意;</p>\n<p data-pid=\"MOcRydot\">2、未休年休假需要支付三倍工资报酬。</p>\n<p data-pid=\"v3xi0MxK\">所以，在征得员工同意的前提下，单位可以将未休年休假通过折钱的方式给员工。不过要注意，因为折钱的标准是给3倍的工资。考虑到正常的一倍工资已经发放了，所以在具体操作时，补发2倍工资即可。</p>\n<p data-pid=\"BZ1RwWc0\">一般比较良心的公司，是按照法定2倍日薪、调休2倍日薪资折算的。更好的一点是，会把公司额外给的福利年假甚至是婚假、育儿假等法律不支持折算现金的假期也进行折算，常见的是1倍</p>\n<p data-pid=\"9Q2gsXxi\">至于离职时确实有未休年休假的话是按照1倍还是3倍工资来补偿，这点法律没有明确。因此不讲武德的公司可能就直接给你延长lastday或者按照一倍折算了。</p>\n<p data-pid=\"CVuiuMuB\">简单来说就是，这里是个法律比较模糊的地带。在符合最低要求的基础上（法定一倍及以上），剩下的全凭公司良心程度。不过大多数人这部分的钱也不会很多。所以不太可能作为比较重要的参考维度来判断是否签字。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h3>Q11：如何判断是否拿到了合理的补偿？</h3>\n<ol>\n<li data-pid=\"oraJwSzd\">确认清楚这次接触的口径和话术（虽然是套话，但是也要问下公司是怎么说的）</li>\n<li data-pid=\"WuU11CaN\">确认清楚补偿金额（最少得是法定标准吧）和对应的发放时间（看会拖多久，正常情况都是在最后一次发薪的时候）</li>\n<li data-pid=\"4tlpMB2o\">确认清楚是否有缓冲期（虽然给了+1，但是可以想要争取到一些缓冲的时间还是可以协商的，比如用工作交接的原因等，甚至有些时候，拿一个月缓冲期比+1更划算）</li>\n<li data-pid=\"6Z_u61XV\">问清楚剩余假期的计算方式，是折钱，还是延长 lastday</li>\n<li data-pid=\"LpS8QbOk\">离职证明和后续背调的口径（常见的都是正常的离职证明和背调口径，毕竟离职证明如果写了其他理由是违法的，但是还是要确认清楚）</li>\n<li data-pid=\"qXtVAUeV\">如果你有未上市的期权/上市了的股票，确认好未解冻部分如何补偿？</li>\n<li data-pid=\"W9xBOSFG\">确认<a href=\"https://www.zhihu.com/search?q=%E7%AD%BE%E5%AD%97%E8%B4%B9&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2547279573%7D\" class=\"internal\">签字费</a>（如果有）等一次性激励费用如何结算？</li>\n<li data-pid=\"j-Qlrsjn\">其他进行中的福利政策如何处理（如落户等）？</li>\n<li data-pid=\"BM1YmeJa\">最后，综合你拿到的信息来看，是否是符合法律要求的，超过的部分是否满足你的诉求和想法。</li>\n</ol>\n<h3>Q12：我有什么办法可以躲过裁员项目吗？</h3>\n<p data-pid=\"BIN5B8J3\">最直接的办法：怀孕。</p>\n<p data-pid=\"OgezPO-k\">不是段子，是我自己的真实经历。</p>\n<p data-pid=\"MB-zXPxT\">曾经有一个业务上低绩效的员工，年中绩效倒数20%，下半年预计要倒数5%了。铁定要被末尾淘汰的。</p>\n<p data-pid=\"fmFjD_6Z\">11月份的时候 leader做了几次反馈都没改进效果。员工自己想跑路，先去找了隔壁部门谈转岗。本来还挺顺利的，结果年底锁了HC。转岗无望了。</p>\n<p data-pid=\"moKGHC_F\">到12月底，绩效出来，我带了补偿方案去找当事人沟通解除劳动合同的事情。</p>\n<p data-pid=\"25pOl2hQ\">结果当事人直接甩给我一张三甲医院的产检报告。</p>\n<p data-pid=\"LJ8UXdPz\">傻眼了。</p>\n<p data-pid=\"W22qVExz\">我和leader两人面面相觑，直接取消了方案。安安心心让她回去了。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"u8QtAOjT\">其次是：医疗期。</p>\n<p data-pid=\"_MNWCH9m\">比如我曾经见过有同事在走人的危急关头出了个小车祸的...</p>\n<p data-pid=\"0P6j6M5a\">绝大多数人的医疗期都是三到六个月，在这期间你是不能被辞退的。自然也可以拒绝协商解除。</p>\n<blockquote data-pid=\"EAtMYg0o\">医疗期内，被用人单位提出解除劳动合同，系违法解除。《劳动合同法》第四十八条规定，“用人单位违反本法规定解除或者终止劳动合同，劳动者要求继续履行劳动合同的，用人单位应当继续履行；劳动者不要求继续履行劳动合同或者劳动合同已经不能继续履行的，用人单位应当依照本法第八十七条规定支付赔偿金。<br>《<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/ldhtf/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">劳动合同法</a>》第四十二条，劳动者有下列情形之一的，用人单位不得依照本法第四十条、第四十一条的规定<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/jcldht/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">解除劳动合同</a>：<br>(一)从事接触<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/zyb/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">职业病</a>危害作业的劳动者未进行离岗前职业健康检查，或者疑似职业病病人在诊断或者医学观察期间的;<br>(二)在本单位患职业病或者因工负伤并被确认丧失或者部分<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/ssldnl/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">丧失劳动能力</a>的;<br>(三)患病或者非因工负伤，在规定的医疗期内的;<br>(四)<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/nzg/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">女职工</a>在孕期、产期、哺乳期的;<br>(五)在本单位连续工作满十五年，且距法定<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/baike/txnl/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">退休年龄</a>不足五年的;<br>(六)法律、行政<a href=\"https://link.zhihu.com/?target=https%3A//m.64365.com/fagui/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">法规</a>规定的其他情形。</blockquote>\n<p data-pid=\"DYRO8gHI\">另外，也包括了工伤。</p>\n<blockquote data-pid=\"siKSQZEY\">根据《工伤保险条例》第十四条第一项规定：“在工作时间和工作场所内，因工作原因受到事故伤害的职工，应当认定为工伤。”既然劳动者在工作中受伤符合工伤的认定条件且被依法认定为工伤的，那么，为了保护因工负伤劳动者的合法权益，用人单位在工伤期间就不得违法解除双方签订的书面劳动合同。</blockquote>\n<p data-pid=\"RnWZawJF\">当然，以上说的是一些比较极端的方式。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"4SObrLFc\">最常见的方法其实是：<b>拒绝公司的协商解除协议。明确不接受也不希望离开。如果公司用绩效不达预期进行沟通，要求公司按照严格的调岗、培训及考评是否不胜任的流程标准进行执行。</b></p>\n<p data-pid=\"Nt0a6PQp\"><b>绝大多数人，不想走又扛不住压力的情况下，就没啥可聊的了。</b></p>\n<h3>Q13：我怀孕了公司还能裁我吗？</h3>\n<p data-pid=\"aX0eRe0b\">先明确一件事，看公司怎么跟你谈，以及你当前是三期中的哪个状态。</p>\n<p data-pid=\"97KWp0v8\">如果是经济性裁员，或者是劳动法第四十条、第四十一条的理由，当然是不可以的。</p>\n<blockquote data-pid=\"_2Xxbb1I\">《女职工劳动保护特别规定》第五条规定：“用人单位不得因女职工怀孕、生育、哺乳而降低其工资、予以辞退、与其解除劳动或者聘用合同。”<br>《妇女权益保护法》第二十六条规定：“任何单位不得以结婚、怀孕、产假、哺乳等为由，辞退女职工或者单方解除劳动合同。<br>因此，不论是因女职工个人的原因造成的调整工作岗位（如：不胜任工作或主动提出调整工作岗位），还是因单位的原因造成的调整工作岗位（如：部门被撤消），三期女职工绝对不可以被调整劳动报酬。</blockquote>\n<p data-pid=\"FNuzdij1\">如果出现39条的情况之一：</p>\n<blockquote data-pid=\"LRu-F2-9\">（一）在试用期间被证明不符合录用条件的；<br>（二）严重违反用人单位的规章制度的；<br>（三）严重失职，营私舞弊，给用人单位造成重大损害的；<br>（四）劳动者同时与其他用人单位建立劳动关系，对完成本单位的工作任务造成严重影响，或者经用人单位提出，拒不改正的；<br>（五）因本法第二十六条第一款第一项规定的情形致使劳动合同无效的；<br>（六）被依法追究刑事责任的。</blockquote>\n<p data-pid=\"eZ0Zd1mW\">三期内的女员工还是可以被解除合同，同时用工单位并不支付补偿金。</p>\n<blockquote data-pid=\"iDUmLlOh\">用人单位可以依据《劳动合同法》第三十六条、第三十七条、第三十九条规定，与“三期”期间的妇女解除劳动关系，该解除的效力将会被依法认定为合法、有效。即“三期”期间的妇女如果主动提出辞职；或者用人单位提出与“三期”期间的妇女协商一致解除劳动关系；以及“三期”期间的妇女有试用期不符合录用条件；严重违反用人单位规章制度；严重失职，营私舞弊，给公司造成重大损失；与其他单位建立劳动关系，对完成工作任务造成严重影响，或经用人单位提出，拒不改正的；欺诈、胁迫、乘人之危，使用人单位在违背真实意愿的情况下订立劳动合同等情形，导致劳动关系解除。</blockquote>\n<p data-pid=\"nWcVSSY1\">另外还有一个实操层面中很常见的，裁员中公司用协商解除的口径跟三期女员工商量沟通。买断她后续的假期薪资。</p>\n<p data-pid=\"VmLwiiE7\">比如哺乳期6个月的员工，把剩下的哺乳期内薪资一次性结清，并支付额外的协商解除经济补偿金方案，在女员工个人认可的情况下是可以谈协商一致解除的。产假期间同理，在现实中还是可以谈的。毕竟一样是可量化计算的费用。</p>\n<p data-pid=\"pGShkaM2\">我身边甚至也有过完哺乳期刚回公司的女同事，看到公司正好在裁员，算了算，自己N+1能拿四五个月，再加上半年哺乳期工资，一下一年收入到账。主动报名了这次项目。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"zWS5Is-k\">但是有一个例外是，怀孕期员工，一般公司是不谈协商解除的。原因很简单：不确定性很高。</p>\n<p data-pid=\"i6q_3l2O\">说句非人道主义的话，如果这位员工拿了买断的三期薪资+经补，然后不幸流产。那从公司的层面自然是亏本生意。因此一般协解三期员工也不会考虑怀孕期。</p>\n<p data-pid=\"JEOkfqHD\"><b>但，退一万步讲，从我自己的角度，哪怕是三期中相对缓和的哺乳期，在绝大多数情况下也不应该将当事人放在名单中解除合同。</b></p>\n<h3><b>Q14：我还在试用期瑟瑟发抖，可能被裁撤吗？裁到我了怎么整？</b></h3>\n<p data-pid=\"-tMnVHbP\">同理，试用期解除劳动合同。并不存在所谓的“<b>公司提前三天告知即可</b>”这条甚至很多HR同行都不会，还用这个信誓旦旦来跟员工聊离职呢。</p>\n<p data-pid=\"7zoZRMlr\">本质上，试用期员工一样有所谓上文聊过的劳动法第三十六条协商一致、劳动法第四十条的不胜任、医疗期等问题。唯一多的一个口子是：<b>不符合录用条件。这也是绝大多数试用期没过的人的离职理由。</b></p>\n<p data-pid=\"BosJJDEi\"><b>试用期在我国职场基本就已经被玩坏了，绝大多数公司的试用期辞退都不符合劳动法流程。</b></p>\n<blockquote data-pid=\"guRO0DRG\">根据《劳动合同法》第三十九条第一项之规定，在试用期间被证明不符合录用条件的，用人单位可以解除劳动合同。用人单位以“不符合录用条件”为由<span class=\"nolink\">解除劳动合同</span>，需同时满足以下条件：<br><b>1、用人单位有具体、合法、合理的录用条件</b><br>1）用人单位对员工从事的岗位事先有明确的录用条件，且该条件并不违反法律<span class=\"nolink\">法规</span>规定，不存在性别、种 族、宗教等就业歧视，具体明确，具有可操作性。<br>2）录用条件应当明确具体。除一般性要求外，更重要的是体现每个岗位或职位的特殊要求，如岗位所需要的相应资格证书、职称、技能、语言要求等；<br><b>2、有<span class=\"nolink\">证据</span>证明员工知晓用人单位的录用条件</b><br>通常情况下，录用条件可以在<span class=\"nolink\">劳动合同</span>附件、入职登记表、员工手册或单独的录用条件确认文件中列明，员工入职时可由其签名确认知晓，并保留员工签字的书面文件，在仲裁或<span class=\"nolink\">诉讼</span>中，用人单位可以提供员工签字确认的书面文件证明员工知晓用人单位的录用条件。<br><b>3、有证据证明员工不符合录用条件</b><br>不符合录用条件可以从如下方面举证：<br>1）工作失误、简历造假、旷工、迟到早退及其他工作表现等方面举证；<br>2）用人单位可以用具体的考核制度以及留存的考核结果等作为证据，证明员工不符合录用条件。首先，考核制度需要经过民主程序制定并向员工公示，最好保留员工签字认可考核制度的书面文件，其次，考核结果由员工签字确认。做到程序合法、结果客观公正。操作上可以定期(比如：每周、每月)对员工进行试用期考核。<br><b>4、用人单位据以解除劳动合同的通知应当在试用期内作出</b><br>用人单位以不符合录用条件解除必须在试用期内作出，超过试用期则不能以此为由解除。如果用人单位有工会，则事先应将解除理由书面通知工会并签收，然后再将具体的解除理由和解除事实通知员工并签收。</blockquote>\n<p data-pid=\"yhIq6vbP\"><b>还有一条，解除理由应明确系不符录用条件，不能表述为“不胜任工作”。</b></p>\n<blockquote data-pid=\"SG32rRN5\">“不符合录用条件”和“不能胜任工作”解除劳动合同的具体区别如下：<br>1）适用范围不同：以“不符合录用条件”作为解除依据的，仅适用于试用期间；以不能胜任工作”作为解除条件的适用于整个劳动合同存续期间；<br>2）解除程序不同：以“不符合录用条件”解除劳动合同的，企业无需提前通知；以“不能胜任工作”解除劳动合同的，在程序上，企业在员工第一次出现“不能胜任工作”后，应采取调岗或培训方式解决，而不能立即解除劳动合同，只有在调岗或培训之后仍不能胜任工作的，方可解除劳动合同。<br>3）法律后果不同：以“试用期内不符合录用条件”解除合同的，企业无需支付经济补偿金；而以“不能胜任工作”为由解除合同的，企业需要提前30天书面通知或额外向员工支付一个月工资的代通知金，并向劳动者支付经济补偿金。</blockquote>\n<p data-pid=\"DxOiR1zT\">简单说，就是从法律层面上来说，不符合录用条件的，需要明确有和员工约定的考核标准、流程，且在入职的时候明确岗位说明书（或约定试用期考核标准、要求），要求员工签字或进行相关培训，以确定员工知晓。有明确的签收动作，告知此为你的录用条件需满足完成。</p>\n<p data-pid=\"NcIxBTI5\">而且大多数情况，很多人的试用期不通过，是没办法站的注脚的。因此，一般如果大规模裁员中有试用期，也需要按照正常的协商解除方式进行操作。也就是N+X 的方式，当然你的N也就=月薪*0.5了。</p>\n<p data-pid=\"vsWInjok\">也正因为如此，很多试用期不通过的沟通缓冲方案也是给员工半个月到一个月之间的缓冲期，正常发薪资不上班，来达到双方目的一致、员工平缓过度离开公司的诉求。</p>\n<p data-pid=\"9nPb6Zga\">如果HR单纯的直接跟这个员工说，你试用期不符合录用条件，或者你试用期未通过。那多少是有点不道德的。</p>\n<p data-pid=\"Bt6x6Hlq\">如果你作为试用期员工在裁员期间收到了试用期不通过的通知，但又未能举证你试用期不通过的理由，我们就可以正常去要求举证你试用期单方解除的合法性啦。（或者 别人都在裁员的时候 争取一个一样的大礼包呢）</p>\n<p data-pid=\"Hd3rH87k\">当然 如果是在平时而非裁员潮的时候 你自己评估下来的确是自己试用期表现不好没通过考核 适当争取下缓冲期也是可以的。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h2>裁员后</h2>\n<h3>Q15：后来再回公司，公司有权利要求我退回当年的补偿金吗？</h3>\n<p data-pid=\"Ihb8R8D9\">为什么让你退回当年的经补，抛开公司 HR 不懂法这种可能性，其实还有一点可能的是：<b>让你知难而退。</b>甚至于，可能公司层面的要求就是：<b>拿了经补走的员工，不得返聘</b>。故此找个借口来卡你。</p>\n<p data-pid=\"HqEeOgVy\">不得不说，这个层面的规定我是生生见过有很多中小层级甚至是叫得上号的大公司操作过、存在的。不为别的，公司老板小家子气。尤其是在当年开人很多不给钱的 case 里，但凡你跟我要了钱走，不能回来。</p>\n<p data-pid=\"K9UeR3wr\">结合这个层面来说，就好理解多了。表面层面是让你退钱，其实就是告诉你，并不想让你回来，如果一定要回来，拿一个恶心你的条件来出来。如果你真的退而求其次接受了，公司也平衡好受。<b>而且退一万步讲，不管你是 HR 找来面试的、自己投的、还是猎头挖的，这点都可能存在。因为现在跟进你 offer 流程的人，未必和当年知道你是拿了经补走是一拨人，但公司肯定有存档，走回流的时候一看就知道了。</b></p>\n<p data-pid=\"nhMWB7PG\"><b>综上，不管是从 HR 懂不懂法是不是遵守规矩的正经公司角度，还是说这个公司规定的格局足够大角度，甚至是这个公司 HR 是否专业角（都到了offer 环节了，才发现你是当年协商离职的员工）。</b></p>\n<p data-pid=\"SctmEDWC\"><b>都没必要去。</b></p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<h3><b>Q16：如果公司没用协商解除，哪些理由我也能拿到钱？</b></h3>\n<p data-pid=\"zLE7BnDl\"><b>概括来说，常见的有：</b></p>\n<ul>\n<li data-pid=\"dIO7Fffm\">无理由协商解除</li>\n<li data-pid=\"yfgXu9Tk\">患病无法继续工作</li>\n<li data-pid=\"17sWv54b\">绩效差不胜任</li>\n<li data-pid=\"jweeLI9D\">公司变化（倒闭、破产、业务无法继续）</li>\n<li data-pid=\"NZzjC-jz\">未按合同约定发工资、交社保</li>\n<li data-pid=\"_jiB5OLz\">合同趁人之危强迫签订</li>\n<li data-pid=\"YHYU4z-U\">合同期满不续约</li>\n</ul>\n<p data-pid=\"yaLYgSwz\">参考原文如下</p>\n<blockquote data-pid=\"JiZDllEF\">1、【协商解除】协商一致解除合同。（《中华人民共和国劳动法》第二十四条；《劳动合同法》第三十六条）<br>2、【伤病解除】劳动者患病或者非因工负伤，医疗期满后，不能从事原工作也不能从事由用人单位另行安排的工作的，用人单位解除合同。（《中华人民共和国劳动法》第二十六条第（一）项；《劳动合同法》第四十条第（一）项）<br>3、【不能胜任解除】劳动者不能胜任工作，经过培训或者调整工作岗位，仍不能胜任工作的，用人单位解除合同。（《中华人民共和国劳动法》第二十六条第（二）项；《劳动合同法》第四十条第（二）项）<br>4、【情势变更解除】劳动合同订立时所依据的客观情况发生重大变化，致使原劳动合同无法履行，经当事人协商不能就变更劳动合同达成协议的，用人单位解除合同。（《中华人民共和国劳动法》第二十六条第（三）项；《劳动合同法》第四十条第（三）项）<br>5、【经济性裁员】用人单位濒临破产进行法定整顿期间或者生产经营状况发生严重困难，需要裁减人员的。（《中华人民共和国劳动法》第二十八条；《劳动合同法》第四十一条第一款第（一）（二）项）<br>6、【竞业限制】竞业限制期限内按月给予劳动者经济补偿。（《劳动合同法》第二十三条）<br>7、【未提供劳动保护条件】未按照劳动合同约定提供劳动保护或者劳动条件的。（《劳动合同法》第三十八条第一款第（一）项）<br>8、【未支付劳动报酬】未及时足额支付劳动报酬的。（《劳动合同法》第三十八条第一款第（二）项）<br>9、【未缴纳社会保险】未依法为劳动者缴纳社会保险费的。（《劳动合同法》第三十八条第一款第（三）项）<br>10、【规章制度违法】用人单位的规章制度违反法律、法规的规定，损害劳动者权益的。（《劳动合同法》第三十八条第一款第（四）项）<br>11、【合同无效】以欺诈、胁迫的手段或者乘人之危，使对方在违背真实意思的情况下订立或者变更劳动合同；用人单位免除自己的法定责任、排除劳动者权利的；违反法律、行政法规强制性规定，导致劳动合同无效的。（《劳动合同法》第三十八条第一款第（五）项）<br>12、【劳动合同期满】除用人单位维持或者提高劳动合同约定条件续订劳动合同，劳动者不同意续订的情形外，劳动合同期满后终止固定期限劳动合同的。（《劳动合同法》第四十四条第一项）<br>13、【转产转制】企业转产、重大技术革新或者经营方式调整，经变更劳动合同后，仍需裁减人员的。（《劳动合同法》第四十一条第一款第（三）项）<br>14、【企业破产】用人单位被依法宣告破产的。（《劳动合同法》第四十四条第（四）项）<br>15、【企业关闭解散】用人单位被吊销营业执照、责令关闭、撤销或者用人单位决定提前解散的。（《劳动合同法》第四十四条第（五）项）<br>16、【强迫劳动】以暴力、威胁或者非法限制人身自由的手段强迫劳动，迫使劳动者提出解除劳动合同的。（《最高人民法院关于审理劳动争议案件适用法律若干问题的解释》第十五条第（一）项）</blockquote>\n<p data-pid=\"3-f3eY7U\">-----------------------------------------------------------------------------------------</p>\n<p data-pid=\"XBjCMJwt\">持续更新中，如果有期望再补充的问题，也可以在评论区留言或者发私信给我~</p>\n<a data-draft-node=\"block\" data-draft-type=\"ad-link-card\" data-ad-id=\"fee_29e43557be7acc2da6eee39b0487453d\"></a><p data-pid=\"mqrjjKNm\">其他相关的过往回答参考阅读</p>\n<a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/526896496/answer/2445049240\" class=\"internal\">公司上个月突然给我出具了劳动合同不续签通知书，请问我应该怎么处理？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/539170373/answer/2547279573\" class=\"internal\">互联网裁员潮中，赔偿方案n、n+1、n+3、2n等分别代表什么？员工怎么判断自己是否拿到了合理的赔偿？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/310689296/answer/2755539795\" class=\"internal\">为什么裁员很少听说过裁管理层？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/462531668/answer/2552686360\" class=\"internal\">再次面试五年前的公司，公司要求我退回当时给的补偿金，否则不能入职，该怎么办？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/487469530/answer/2127126400\" data-image=\"https://pic3.zhimg.com/v2-1b3c815a34b6a7fd30554e3e365f9382_200x0.jpg\" data-image-width=\"1080\" data-image-height=\"2337\" class=\"internal\">网传 OPPO 裁员 20%，主动离职给 N，被裁给 N+1，真实情况如何？将会带来哪些影响？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/477422286/answer/2043584612\" data-image=\"https://pic1.zhimg.com/v2-c3d2511775b2e8fdfd7cdadeb61f6ce8_200x0.jpg\" data-image-width=\"794\" data-image-height=\"1180\" class=\"internal\">字节跳动旗下大力教育大批量裁员，赔偿 n+2，具体情况如何？被裁的员工将何去何从？</a><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/526896496/answer/2445049240\" class=\"internal\">公司上个月突然给我出具了劳动合同不续签通知书，请问我应该怎么处理？</a><p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/janioming?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">章牧之</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br>\n","link":"http://zhuanlan.zhihu.com/p/596856335?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"派早报：AMD 发布多款处理器与显卡新品、CES・派在现场等","date":"2023-01-06 00:37:05","description":"华硕笔记本发布多系列新品，Aqara 上线多款新品等<a href=\"https://sspai.com/post/77654\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77654"},{"title":"新玩意 132｜少数派的编辑们最近买了啥？","date":"2023-01-05 09:29:15","description":"关于栏目很多读者都会好奇少数派的编辑们到底平时都「买了啥」。我们希望通过「编辑部的新玩意」介绍编辑部成员们最近在用的新奇产品，让他们自己来谈谈这些新玩意的使用体验究竟如何。内容声明：《新玩意》栏目如含 ...<a href=\"https://sspai.com/post/77640\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77640"},{"title":"这些求职经验与工作方法，助你新年迈上新赛道","date":"2023-01-05 08:02:23","description":"希望这些文章能帮助你在新的一年中，获得自己希望得到的全新旅程。祝你好运。<a href=\"https://sspai.com/post/77637\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/77637"},{"title":"为了探讨「数字极简」这件事，我甚至拜访了深山里的高僧","date":"2023-01-05 07:00:59","description":"在节目中，Leon 结合自己近期在数字极简上的思路和设备变化，为我们带来了重审数字极简和数字健康的新视角。<a href=\"https://sspai.com/prime/story/vol015-talk-about-digital-minimalist\" target=\"_blank\">查看全文</a><p>本文为会员文章，出自<a href=\"https://sspai.com/prime/precog/vol015-pre-moving-forward\" target=\"_blank\">《新的一年，轻装前行》</a>，订阅后可阅读全文。</p>\n","link":"https://sspai.com/prime/story/vol015-talk-about-digital-minimalist"},{"title":"动画《中国奇谭》开播，第 1 - 2 集有哪些关注点？","date":"2023-01-04 10:11:34","description":"\n<p data-pid=\"2fvURQvt\">作为创作者，看到许多观众对本片充分的解读，有些已经超出我的创作意图，真的很欣慰。在这里，我就不说大家已经解读很充分的那些点了，只说一些比较细节和好玩的关注点吧。</p>\n<p data-pid=\"_chHVWH4\">1、比如说关于那只苍蝇，大家提到了两次出现，会不会有可能就是孙悟空？毕竟书中很多次孙悟空变成飞虫去打探消息。尽管在创作的时候并没有这么想，但作品一旦出来，它被怎么解读已经不受创作者控制了。不过在这里还要提出一个关注点，就是苍蝇其实出现过三次：一次是小猪妖回家，一次是众妖埋伏，最后一次是小猪妖躲在石头下面。众妖埋伏时停在兔子耳朵上的那只苍蝇似乎还没有人看到。如果联系这三次苍蝇的出现，这么解读听起来似乎更有道理了。</p>\n<p><br></p>\n<p><img src=\"https://pic1.zhimg.com/v2-cd5e83e37758cb7491b2875e27e951cc_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3156\" data-rawheight=\"1320\" data-watermark=\"watermark\" data-original-src=\"v2-cd5e83e37758cb7491b2875e27e951cc\" data-watermark-src=\"v2-49d0ec9c5d089315d59e2ff168e1bfc9\" data-private-watermark-src=\"v2-9fc215e3ce9eab376a8eab5fe0207d6e\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-3e79885f3fa1ec613dbf7a94e263ac88_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3150\" data-rawheight=\"1322\" data-watermark=\"watermark\" data-original-src=\"v2-3e79885f3fa1ec613dbf7a94e263ac88\" data-watermark-src=\"v2-1905366c47bff4dc8cca2e29b3a39e46\" data-private-watermark-src=\"v2-dacfa5a78fd6b0154da4d0e78b634275\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-f44adefb82e9387cd53dc7c36751ec78_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3150\" data-rawheight=\"1322\" data-watermark=\"watermark\" data-original-src=\"v2-f44adefb82e9387cd53dc7c36751ec78\" data-watermark-src=\"v2-b8300b8a229c8c45c169b321ae929f3d\" data-private-watermark-src=\"v2-f6eee7f8574ffea3b3b932266ebd6c7e\"></p>\n<p data-pid=\"D9Vjoqw7\">2、关于擦锅时冒的烟，有弹幕说这种烟的画法好看，确实之前在本片中一直想用这种烟的绘制方式，它是我小时候看的连环画里常见的绘制方式，非常有感觉。但无奈让这种烟动起来绘制量太大，所以只在这场戏里用了一下。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-b4a006535b0ec5cc3697309f27faa633_720w.jpeg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2846\" data-rawheight=\"4032\" data-watermark=\"watermark\" data-original-src=\"v2-b4a006535b0ec5cc3697309f27faa633\" data-watermark-src=\"v2-7a3b0fc36b6319c0a1f82bc1c0ce85bf\" data-private-watermark-src=\"v2-af5fa5caa196d3af7d3f18750ad49014\"></p>\n<p><img src=\"https://pica.zhimg.com/v2-e7ef7661c17ff60f7054b2c9817c7cf6_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3150\" data-rawheight=\"1324\" data-watermark=\"watermark\" data-original-src=\"v2-e7ef7661c17ff60f7054b2c9817c7cf6\" data-watermark-src=\"v2-5dcbeb771303a0474e96dd5b6ac7098b\" data-private-watermark-src=\"v2-df48e03f429eef4edd5510bab575d48b\"></p>\n<p data-pid=\"75pkVjoS\">3、关于村民家门上的对联，我看到弹幕里有观众写了出来，说实话，那对联在暗处，不好认，观众能读出来也是好眼力。我们的美术总监莫矜在画这张图的时候，特意想去找一个有志怪风格的文本来源，最终在《聊斋志异》卷一《考城隍》一篇中找到了这句诗：“有花有酒春常在，无烛无灯夜自明”。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-601aa844febdbb996040c2ba29191bff_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3158\" data-rawheight=\"1312\" data-watermark=\"watermark\" data-original-src=\"v2-601aa844febdbb996040c2ba29191bff\" data-watermark-src=\"v2-10e93438af18242b60a27f3848eececf\" data-private-watermark-src=\"v2-1267ebd2dd49f36ccef989b0ef4ac578\"></p>\n<p data-pid=\"-iCtRXGu\">4、小猪妖向着孙悟空跑去，喊第二句话的时候没有出声。早期版本中，第二句是喊出来的，但后来发现去掉后，更有一种声音上的留白，同时凸显了此段音乐中人声演唱的震撼感觉，将这段的气氛推到高潮。</p>\n<p><img src=\"https://pica.zhimg.com/v2-34cd235f846ee327db20521e550d67eb_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3154\" data-rawheight=\"1322\" data-watermark=\"watermark\" data-original-src=\"v2-34cd235f846ee327db20521e550d67eb\" data-watermark-src=\"v2-96aa9411e6a193f8e362e1fd997a3973\" data-private-watermark-src=\"v2-2f129c855c49190b1384117f7cc4aa44\"></p>\n<p data-pid=\"bPDTuM3o\">5、比较难画的几个镜头。牛头怪抓着小猪妖在锅里擦的镜头涉及到比较大的透视、小猪妖被摩擦时的形变及表情、牛胳膊和手的结构在运动中的转化等问题，是一个难度很高的镜头；师徒四人正面走的慢动作也有一定的难度，一方面慢动作在二维动画中比较难画，另一方面四人要走出不同的形态和性格；当然还有最后高潮戏狼变身后的动画。</p>\n<p><img src=\"https://picx.zhimg.com/v2-b4f4fad574589ac1bcdc118235a9be18_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3150\" data-rawheight=\"1300\" data-watermark=\"watermark\" data-original-src=\"v2-b4f4fad574589ac1bcdc118235a9be18\" data-watermark-src=\"v2-751c222d3a2ac9f1962d3ca43a49fe24\" data-private-watermark-src=\"v2-b63ebffa12fea3d5ce0879c114769080\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-29aa78100b184aa02194ac581b985c5a_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3154\" data-rawheight=\"1320\" data-watermark=\"watermark\" data-original-src=\"v2-29aa78100b184aa02194ac581b985c5a\" data-watermark-src=\"v2-a217b357d4e91b3d5ed7c120be7e6084\" data-private-watermark-src=\"v2-f1d6108a14d3549e383d27c7e675c318\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-80d4224669aab81eaf40b7255f702315_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3152\" data-rawheight=\"1322\" data-watermark=\"watermark\" data-original-src=\"v2-80d4224669aab81eaf40b7255f702315\" data-watermark-src=\"v2-50ef8a935b0ca5015335edb63335920c\" data-private-watermark-src=\"v2-976ccca4dfffd4b6cb3d26736a2ad110\"></p>\n<p data-pid=\"kdhSITg_\">6、弹幕里有人在说师徒四人的配音是不是直接从86版电视剧《西游记》里剪过来的，太像了。因为这个唐僧的配音就是张云明老师——纯纯的原版配音。张老师来配音的时候精神矍铄，配了两句词后，大叫：“没啦？”“我怎么在片子里都没露脸？”意犹未尽啊！非常平易近人。林强老师则一个人分饰两角，而且是差别极大的孙悟空和猪八戒，还原度超高。还要感谢其他配音演员和配音导演，让这部影片在配音方面不落俗套，高度融合在叙事当中。</p>\n<p data-pid=\"FEvl1Nls\">7、导演唯一的一句配音。我之前的作品中，自己曾经配制过大量角色的对白，对自己的配音表演本还挺有信心。这次在《小妖怪的夏天》里，曾试图配小野猪怪，但后来发现，还是跟专业配音演员有差距，于是退居幕后，最后只配了一句“卖糖人儿，好吃好看的糖人儿！”</p>\n<p><img src=\"https://picx.zhimg.com/v2-336210145db4270a30f8264feb765e3d_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"3158\" data-rawheight=\"1322\" data-watermark=\"watermark\" data-original-src=\"v2-336210145db4270a30f8264feb765e3d\" data-watermark-src=\"v2-e4ef67adb0c26760302d9611a5c6a140\" data-private-watermark-src=\"v2-5957d5b0f8fe26cf6f3c0d469d972e92\"></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/yu-shui-25-5?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">於水</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/576059467/answer/2827337778?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">170 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/576059459?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">动画《中国奇谭》开播，其中都有哪些看点值得分享？</a><br><a href=\"http://www.zhihu.com/question/577321689?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">动画《中国奇谭》第 3 集有哪些关注点？</a><br>\n","link":"http://www.zhihu.com/question/576059467/answer/2827337778?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"risc-v 前景如何？会形成与 x86、arm 三分天下的局面吗？","date":"2023-01-04 03:09:07","description":"\n<p data-pid=\"bZcEoPCb\">关于这个问题，和大家分享2022年12月28日在北京微电子国际研讨会暨IC WORLD大会上的报告。以下为视频与文字实录：</p>\n<a href=\"https://www.zhihu.com/zvideo/1591586718976774144\">RISC-V发展态势与趋势</a><div class=\"highlight\"><pre><code class=\"language-text\"><span></span>一、RISC-V的定位\n1）RISC-V是一种指令集，不是处理器实现\n2）什么是处理器芯片设计的核心能力？\n3）指令集重要，还是不重要？\n4）关于RISC-V的五个谬误\n5）高铁模式/北斗模式/5G模式\n\n二、RISC-V发展态势\n6）RISC-V国际基金会情况\n7）态势一：高性能RISC-V\n8）态势二：软件生态\n9）态势三：企业投入\n10）态势四：各国投入\n11）中国发展情况\n\n三、开源芯片实践\n12）香山近况\n13）开芯院与香山\n\n四、未来展望\n14）开源硬件成功案例：IBM PC\n15）透过处理器发展历史看未来\n</code></pre></div>\n<h2> 一、RISC-V的定位</h2>\n<p data-pid=\"8SWFWyrz\">RISC-V是一种指令集，并不是一种处理器的实现。指令集是一种标准规范，就相当于是大家的一个约定。遵循同一个标准规范，不同厂商生产的软件和硬件就能在一起工作，就跟螺钉螺母的尺寸规范一样。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-73524d9e17c9b29f98657f7b04d03f29_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-73524d9e17c9b29f98657f7b04d03f29\" data-watermark-src=\"v2-00a0c434555755c0696f2af2f67d634f\" data-private-watermark-src=\"v2-ecf65acee23a4e95b899b9d37eaf9ff9\"></p>\n<p data-pid=\"qD4ELN9u\">有了指令集标准规范，最重要的就是芯片设计。根据指令集来去完成微架构的设计，形成文档，然后通过工程开发形成源代码，之后再用EDA软件形成芯片版图，交给台积电或中芯国际这些代工厂去流片。在这个过程中，<b>微架构的设计和实现非常重要，是芯片设计的核心能力</b>。当我们具备微架构设计和实现能力后，将不再受限于指令集。换句话讲，当我们具备了这样的能力，那么更换一种指令集也是一件很容易的事情。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-96c49cfa07cad027ead60e46c36142f7_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1040\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-96c49cfa07cad027ead60e46c36142f7\" data-watermark-src=\"v2-f284d85570130435ed290d1bbb646513\" data-private-watermark-src=\"v2-1a64e9aac7f58d121cd40f019c4fc4e0\"></p>\n<p data-pid=\"hqUM-BCA\">以英特尔为例，在过去几十年，英特尔处理器的微架构不断演进，处理器的性能也在不断地提升。那么，性能提升的原因到底是什么呢？有人说是因为指令集的增加，实际上这并不是全部原因，虽然指令集的增加对性能提升有一定帮助，但更重要的是，英特尔处理器微架构和工艺的不断演进。我们可以看到，95年的P6架构在微架构上面的一些演进，到2000年及2006年，大概每五年一代架构演进中，<b>不断地在微架构层面上进行优化，这正是英特尔核心的设计能力</b>。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-ae5f3dcfc4a4d89f644510c52b0abe22_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1834\" data-rawheight=\"1034\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-ae5f3dcfc4a4d89f644510c52b0abe22\" data-watermark-src=\"v2-1d2caa4ccbbe5cf92b2e519d2501678b\" data-private-watermark-src=\"v2-1026b1a98a6add5d56b88e868eb4b741\"></p>\n<p data-pid=\"6IMF8IUM\">所以从这个角度来看，<b>指令集在某种程度上并不是那么重要，因为它只是一种标准规范</b>，更关键的还是微架构的设计和实现能力，因为它决定了一颗芯片的性能、功耗和面积。例如，苹果公司在过去几十年更换了多个指令集，从摩托罗拉到英特尔、到PowerPC、再到今天的Arm。但由于苹果自身的垂直协同设计能力很强，所以更换指令集对他们而言并不是一件太难的事情。国内的龙芯公司，也因为具备很强的芯片设计能力，所以当从MIPS指令集更换到longArch指令集时，底层的微架构设计也几乎不用做太多改变。国内还有一些企业，他们同时支持Arm和RISC-V，也是因为底层的微架构设计并不需要大的变化就可以支持不同的指令集。</p>\n<p data-pid=\"IHNBUAqz\">但是从另一个角度来看，<b>指令集对于软件生态却是非常重要的，它会决定软件生态开发的效率</b>。以IBM为例，早年的IBM计算机，每个型号的计算机指令集都是独立的，导致要为不同型号的计算机开发不同的软件，投入特别大，且软件和硬件捆绑在一起，成了硬件的附属品。1964年IBM推出的System/360计算机改变了这个格局，形成了统一的指令集，从而计算机软件和硬件可以分离开，甚至逐渐发展出一个独立的软件产业。从这个角度来看，统一的指令集对软件生态具有非常重大的影响。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-776e58366aafb7c885d9c0ce4c9c11bb_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-776e58366aafb7c885d9c0ce4c9c11bb\" data-watermark-src=\"v2-69191ea5a6481859bbbbc9a0dc6c1ffb\" data-private-watermark-src=\"v2-39a18c6a51bef9e6b1c444e714a76272\"></p>\n<p data-pid=\"CruhRjtf\">但是，在过去的几十年时间里，指令集均属于公司私有，比如对于ARM指令集，哪怕其他企业具备芯片微架构设计能力，也需要获得ARM授权才能研发兼容ARM指令集的芯片。2010年加州大学伯克利分校David Patterson教授团队提出一个口号——“<b>指令集应该免费</b>”，立刻得到全世界的认可，这也是今天RISC-V能够蓬勃发展的一个核心理念。也正因为指令集不再属于某一个公司，那么全世界可以共同去建设，于是形成了一种<b>新的处理器生态构建模式——开源、开放、共享</b>。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-35eea39182d56a5dc889957d9e5f94ee_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-35eea39182d56a5dc889957d9e5f94ee\" data-watermark-src=\"v2-2e0728cabdccf67bb384cddd5f88f115\" data-private-watermark-src=\"v2-0a86d3a1b052f6b5219a90c61ef810a2\"></p>\n<p data-pid=\"cPcluP9A\"><b>共建模式的核心就在于把标准规范和产品实现进行分离</b>。这类似于通信领域，例如5G标准规范由3GPP组织负责制定，并不是由一个公司私有，而各个企业可以根据5G标准去做自己的产品，在开放的模式下去竞争。类似地，RISC-V也带来了这样的新机会，指令集的标准由RISC-V国际基金会来制定，基于这个标准，不同国家的不同企业都可以来研制不同的RISC-V产品，例如，美国的Sifive公司的RISC-V产品、国内阿里平头哥的玄铁RISC-V处理器、以及中科院在开发的香山处理器。</p>\n<p><img src=\"https://pica.zhimg.com/v2-4b91149ba7b33722d3d488d9921bc976_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1034\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-4b91149ba7b33722d3d488d9921bc976\" data-watermark-src=\"v2-04b3f7cf0684464ce292a940558778b0\" data-private-watermark-src=\"v2-fee157ac01ebad8efad9ab6d882cc20f\"></p>\n<p data-pid=\"HqqQRLg6\">这为我们国家的处理器发展带来了一种新模式，即“5G模式”。在过去20多年，我们国内的处理器发展模式，主要有“<b>高铁模式”和“北斗模式”</b>。高铁模式就是引进-消化-吸收-再创新，代表企业有海光、海思和飞腾；北斗模式以龙芯、申威为代表，独立构建技术体系和生态。而“5G模式”则是在开放的框架下去竞争和合作，面向国际市场和生态建设。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-d89b1c55f68d19980f4dfbe6b3e006cd_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-d89b1c55f68d19980f4dfbe6b3e006cd\" data-watermark-src=\"v2-7c8fee3d47d3199380998fe562931550\" data-private-watermark-src=\"v2-4bbe38653e9674fb50a2fd264d88fad9\"></p>\n<p data-pid=\"bRaIrMrL\">关于RISC-V，实际上一直存在很多的争议，或者说是误解。所以最近David Patterson教授写了一篇文章来纠正关于RISC-V的一些谬误。第一个谬误，<b>RISC-V是一个开源处理器,就像linux是一个开源操系统</b>。其实，这确实是很多人的认识，但实际上RISC-V不是一个开源处理器，它是一种标准规范,本质上是一本手册,就像我们经常听到的以太网标准、USB标准等，而linux操作系统实际上是一种源代码实现。所以这两个是不一样的。相应地，RISC-V国际基金会就像是一个制定标准规范的工作组。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-63e660fde5bee8e589797e5db2040eac_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1040\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-63e660fde5bee8e589797e5db2040eac\" data-watermark-src=\"v2-5bfba6f5456d140e7d3e65fb078ba6df\" data-private-watermark-src=\"v2-3fedc8fcbdd2d99854d4429f18f8232b\"></p>\n<p data-pid=\"3wyDfNI6\">第二个谬误是说，有人认为<b>选择成熟封闭的指令集要比选择开放的指令集更安全可靠</b>。David Patterson教授认为这也是一个谬误，因为封闭指令集属于公司，那么就会和公司的命运紧密绑定。如果公司不景气，该公司的指令集就会消失。历史上消失的指令已经很多了，包括像曾经一度流行的DEC VAX和DEC Alpha指令集。此外，封闭指令集也未必稳定，MIPS曾经卖给了六个企业，ARM也有三个东家，而更换一个东家就意味着商业模式可能会发生变化。</p>\n<p data-pid=\"8unvRpVU\">第三个谬误说，<b>封闭的指令集是没有碎片化软件生态</b>的，这一点其实也是一个误区。实际上，我们可以看到，封闭指令集会在其生命周期中遭受过无法预见的不兼容问题。例如，即使在ARM一个体系下，也会出现不兼容的情况：ARMv1到ARMv7使用32位地址空间，但它们与同时提供32位和64位地址版本的ARMv8-a，而ARMv8-a和ARMv8-m也存在不兼容。所以，碎片化在某种程度上其实是一种常态。</p>\n<p data-pid=\"VHIop86m\">第四个谬误说，<b>相对于封闭指令集，RISC-V的模块化导致了更加碎片化的软件生态。</b>在这一点上，RISC-V技术工作组已经在提供一些新的机制，比如Profile配置机制，来规范软件生态，从而使软件不会像想象得那么碎片化。</p>\n<p data-pid=\"RIIktVOO\">最后一个谬误其实是一个观点结论，即很多人认为<b>RISC-V不可能成为主流指令集</b>。但在技术上，RISC-V是可以去支持从嵌入式到超级计算机领域的；在商业上，像这种更加开放的标准，会更有生命力。</p>\n<p data-pid=\"2S24cBHQ\">上述的一些说法，就是对RISC-V的定位和认识。</p>\n<h2> 二、RISC-V发展态势</h2>\n<p data-pid=\"su5DTHbY\">下面，我们来看一看RISC-V发展的趋势。实际上,刚刚提到的<b>RISC-V国际基金会</b>，<b>主要负责RISC-V标准的制定，不负责RISC-V芯片的具体实现，因此和Linux开源社区并不同</b>。目前，在全球已经有70多国家、3000多个会员加入到RISC-V国际基金会，而且前几年每年都以超过100%的速度在增长。</p>\n<p><img src=\"https://picx.zhimg.com/v2-d31abfae8abf71aa486efef1d5d9c731_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-d31abfae8abf71aa486efef1d5d9c731\" data-watermark-src=\"v2-42acd234a66ed76489a143be14cd1de4\" data-private-watermark-src=\"v2-d1fa72d02acc4b33cc99b82f992bca1e\"></p>\n<p data-pid=\"v91lRrk3\">在RISC-V国际基金会里，从国家分布情况来看，<b>中美欧并驾齐驱</b>。我们国内企业的参与度非常高，在RISC-V国际基金会高级会员中，有14个国内企业是高级会员；在全球24个理事中，其中有9个成员是来自中国；还有一些技术发展伙伴，中国的机构和企业也在积极参与。</p>\n<p><img src=\"https://picx.zhimg.com/v2-374e38c367fda945d505794f25baee6a_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-374e38c367fda945d505794f25baee6a\" data-watermark-src=\"v2-b1aadd21ed7d373186396e0cbfefc613\" data-private-watermark-src=\"v2-bcdcb251bed999572db446a2f1a192d1\"></p>\n<p data-pid=\"eDzTmuSv\">我们可以看到RISC-V发展的一些新态势。第一个是<b>RISC-V已经开始往高性能领域发展</b>了。我们以前都觉得RISC-V主要是在嵌入式领域，但实际上在最近这几年，已经出现了一批RISC-V高性能处理器实现,代表企业有硅谷的Sifive、Ventana，在技术上有一定优势，国内还有香山处理器，以及上海赛昉。</p>\n<p><img src=\"https://picx.zhimg.com/v2-cc3ba1ce89c118a7399cf3e0716ec344_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-cc3ba1ce89c118a7399cf3e0716ec344\" data-watermark-src=\"v2-d62ccb4f66c87ae6a46dc3b1c63ce62c\" data-private-watermark-src=\"v2-36725e55138416c41692fda9540771a6\"></p>\n<p data-pid=\"ZHnEca62\">例如，SiFive近期推出高达3.4GHz的RISC-V处理器，<b>性能可以对标ARM A78</b>，是一个相当高性能的处理器。对比国内来看，在研发进度上，这款设计领先国内的香山大概一年左右。但是香山也有它的优势，因为香山通过开源开放的模式联合多个企业一起来研发，可以更快地迭代，同时通过分摊降低成本。</p>\n<p><img src=\"https://pica.zhimg.com/v2-3c93abfa22f4a882bb4e9ddd21124ea8_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1032\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-3c93abfa22f4a882bb4e9ddd21124ea8\" data-watermark-src=\"v2-dc650773a380313b8ba695cfb4e0ccb6\" data-private-watermark-src=\"v2-720e06441d48ce6d4fe05701ca5babc8\"></p>\n<p data-pid=\"dQQwi008\">第二个趋势，<b>RISC-V关键软件生态的发展也是非常迅速</b>。一方面，RISC-V国际基金会在积极推动基础软件的适配工作；另一方面，很多开源软件社区也在主动的适配，例如近期安卓将RISC-V作为和ARM一样的一级(Tier-1)架构平台进行支持。这就使得全世界的软件力量也都在支持RISC-V生态的发展。</p>\n<p><img src=\"https://picx.zhimg.com/v2-be7417f84fe211f1d7afab4993d3bb4d_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-be7417f84fe211f1d7afab4993d3bb4d\" data-watermark-src=\"v2-9a88217f3a103403d710a5f56d16b743\" data-private-watermark-src=\"v2-43f5d40c2cc6ddc12c8294292518e49a\"></p>\n<p data-pid=\"Rsh8dpfD\">以Linux发行版Debian为例，开源社区于2019年开始支持RISC-V，在全世界开源社区的努力下，仅用3年时间就完成了2万多个软件包中93%的移植，使<b>RISC-V成为Debian支持的一级(Tier-1)架构</b>。</p>\n<p><img src=\"https://picx.zhimg.com/v2-b98cb4e6abb3002799ed13cc3db4451b_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-b98cb4e6abb3002799ed13cc3db4451b\" data-watermark-src=\"v2-467b8d0c6f6b019aef109d84b3afdf74\" data-private-watermark-src=\"v2-43e4aa1cd430f7320d272f5464668828\"></p>\n<p data-pid=\"8GuwdF7l\">第三个趋势，<b>RISC-V得到了越来越多企业的支持</b>，除了刚才讲到的Sifive和Ventana这样的初创公司外，包括像英特尔这样的巨头也积极投入到RISC-V的生态建设当中。这里没有列举中国的企业，但实际上我们国内的企业参与度是更高的。</p>\n<p><img src=\"https://pica.zhimg.com/v2-8b42216f35694bae39bb23d972ba9d6b_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-8b42216f35694bae39bb23d972ba9d6b\" data-watermark-src=\"v2-a799f77107d26eca8c13af9860366f2a\" data-private-watermark-src=\"v2-69fb4b6142bffabbf18be28daf5fa315\"></p>\n<p data-pid=\"tpg_cXkJ\">第四个趋势，我们可以看到一些国家在<b>国家层面上在积极地推动或支持RISC-V</b>。例如今年6月份，俄罗斯数字发展部宣布将大力扶持RISC-V处理器的发展。印度也在今年4月份启动了“数字印度RISC-V处理器”(DIR-V)发展规划，同时，印度的电子信息部（相当于我们国内的工信部）以部的名义加入了RISC-V国际基金会，并成为了高级会员。</p>\n<p><img src=\"https://pica.zhimg.com/v2-a1057b799e2393249a3c4298dd4e313a_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1834\" data-rawheight=\"1034\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-a1057b799e2393249a3c4298dd4e313a\" data-watermark-src=\"v2-12be7390b3641917066286e10e8d14e2\" data-private-watermark-src=\"v2-70b7efe3a85fbf81d8562d8b5eac5939\"></p>\n<p data-pid=\"iZxFZjAz\">此外，<b>欧盟在今年的9月8号发布了《关于建立欧洲开源硬件、软件和RISC-V技术主权的建议和路线图》报告</b>，支持RISC-V与开源硬件，尤其给出了九大优先发展关键方向，并给出了实施路径，包括建立非盈利机构来支持研发、实施教育政策和措施等等。由此可见，全世界都在积极投入RISC-V生态建设。</p>\n<p><img src=\"https://picx.zhimg.com/v2-078a7ad6804264d3c1e94bb0afb651de_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-078a7ad6804264d3c1e94bb0afb651de\" data-watermark-src=\"v2-e01a2839dc8d57c894287dc7b51fb673\" data-private-watermark-src=\"v2-eddf1b96523963080acf392d5b3562fa\"></p>\n<p data-pid=\"eKArmW79\">当然，在RISC-V生态建设上，<b>中国处于第一梯队</b>。尤其是2018年以来，我可以看到很多企业都在推出各种各样基于RISC-V的芯片产品。同时，地方政府也出台一系列政策。特别是北京政府，在RISC-V方面有很大的投入。</p>\n<p><img src=\"https://picx.zhimg.com/v2-cac288f225458a99a7290f12cfdabb43_720w.jpg?source=b1748391?rss\" data-rawwidth=\"920\" data-rawheight=\"1556\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-cac288f225458a99a7290f12cfdabb43\" data-watermark-src=\"v2-8f18a93cb1e781ed724e0dc0afeb829c\" data-private-watermark-src=\"v2-613cf1dfea4f199d540aae80e7fc7659\" data-qrcode-action=\"none\" data-tags=\"qrcode\"></p>\n<p data-pid=\"afawVEA8\">对RISC-V的发展态势做一个小结，那就是<b>RISC-V应用正在全球快速地增长</b>。今年上半年，RISC-V国际基金会做过一个统计，数据显示现在RISC-V的出货量已经超过一百亿颗，预计到2025年有望突破800亿颗。但是总体来讲，还是缺少一些里程碑的、标杆式的RISC-V应用。不过最近也看到一些新计划，比如欧盟计划投入2.7亿欧元来研制超级计算机。我们也可以看到RISC-V软件生态也在加速，多家美国企业在高性能处理器领域的投入比较大，总体处于领先地位。在国内，初创公司非常活跃，数量上也远大于美国，但目前还主要还集中在MCU级别。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-76d4b82b2e937370074d7e04fcd29f07_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1828\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-76d4b82b2e937370074d7e04fcd29f07\" data-watermark-src=\"v2-1048813605115472f0e2c751cc62df5e\" data-private-watermark-src=\"v2-68c385ecfad894a78c111dc18177379b\"></p>\n<h2>三、开源芯片实践</h2>\n<p data-pid=\"e1w7gi9j\">下面简要介绍一下我们在开源芯片方面的一些实践，这也是得到中科院和北京市的大力支持。我们的目标是希望像构建开源软件一样去构建开源芯片生态。在这样的一个开源芯片生态下，有很多开源的硬件组件可以被充分复用，从而大幅降低构建一颗芯片的成本，进一步让更多的中小企业去释放他们的创新活力。</p>\n<p><img src=\"https://picx.zhimg.com/v2-a9cf799f1003cec95182b581673ec1b1_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-a9cf799f1003cec95182b581673ec1b1\" data-watermark-src=\"v2-4c4a6f77bd1dc2fbcd3c51f9b186861d\" data-private-watermark-src=\"v2-02dec6aa1635d5cf9bc1d55257a22a47\"></p>\n<p data-pid=\"ULUTryOv\">在这样的理念下，我们启动了香山开源高性能处理器核的研发，它的目标就是像Linux一样。所以，从这一点来看，<b>香山和RISC-V并不在一个层次，RISC-V是一个标准规范，而香山是一个具体的实现</b>。也就是说，RISC-V本身并不像Linux，但香山像Linux。我们希望把它变成一个像Linux那样的开源处理器主线，能够被工业界广泛应用，同时又可以支持学术界去做创新。</p>\n<p><img src=\"https://picx.zhimg.com/v2-7287eef9ae1490fcd6841ac84948493d_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-7287eef9ae1490fcd6841ac84948493d\" data-watermark-src=\"v2-bb48e9fcc315ae620307255b9e3b5827\" data-private-watermark-src=\"v2-dcae6834c6b51056f0d761960d404c29\"></p>\n<p data-pid=\"_QKy1oG2\">香山的特点在于它的<b>源代码是开源的，同时开发香山的整个平台和工具也是开放的</b>。用冰山做类比，芯片设计可看做是冰山水上面的部分，那冰山水下面的部分就是如何设计芯片所需要一系列的基础设施、测试及验证工具等。香山，就是要把所有的这些内容都开源开放，这样可以联合更多的企业来共同研发。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-84c5273f8790e6f71ebc0196f17a5fac_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-84c5273f8790e6f71ebc0196f17a5fac\" data-watermark-src=\"v2-f2819985051cf11b9c47562c60e2cd09\" data-private-watermark-src=\"v2-f998f723432bbaaeedb13f8e4c20fb24\"></p>\n<p data-pid=\"Jbunkxs9\">目前，我们已经完成了两代香山架构的设计，第一代叫“雁栖湖”，在今年年初已经流片回来，并达到了预期性能。第二代叫“南湖”，目前已经实现了对第一个客户的交付。<b>南湖的性能是对标ARM A76的水平，</b>我们还会继续迭代新的几个版本，并进行交付。</p>\n<p><img src=\"https://picx.zhimg.com/v2-5c49b491cbc41c7ebc8c91b873398c34_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-5c49b491cbc41c7ebc8c91b873398c34\" data-watermark-src=\"v2-96dd0acc0eafa161ec95a58a31630719\" data-private-watermark-src=\"v2-fd7be92b301926aec37c44111f7c6ef9\"></p>\n<p data-pid=\"bFZ78B5e\">香山是一个通过开源模式来构建的芯片设计，得到了全世界开源社区的大力支持，从去年公开以来，香山在GitHub上非常活跃，是国际上最活跃的开源芯片项目之一。</p>\n<p><img src=\"https://picx.zhimg.com/v2-e52980eb6d925427c63e79ca0294d4fa_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-e52980eb6d925427c63e79ca0294d4fa\" data-watermark-src=\"v2-1e867ac6f4511730ab9af35b15ebe242\" data-private-watermark-src=\"v2-3e3c8125ce6d7a0238fd22eb4070dae5\"></p>\n<p data-pid=\"J8LqFcQN\">现在，香山也得到了北京市的大力支持。在北京市和中科院支持下，有18家企业联合发起了北京开源芯片研究院（开芯院），主要对香山进行产品化改造和后续架构的探索。如今，<b>香山不再是中科院的一个科研项目，它已经通过开芯院来落地，在企业支持下进行产品级、工业级改造，具备交付能力</b>。</p>\n<p><img src=\"https://pica.zhimg.com/v2-aea7d6ceca9c1f13100c1bfd7db2e12e_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1040\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-aea7d6ceca9c1f13100c1bfd7db2e12e\" data-watermark-src=\"v2-7873c2301f57ac2f98408093b5c07020\" data-private-watermark-src=\"v2-5640954d22a921346547b6778fd743d9\"></p>\n<p data-pid=\"ljDUnOtq\">从性能对比图来看，目前香山在全世界的开源芯片中性能最高，在这个基础上，开芯院进一步确定了<b>“两核”发展目标</b>：第一个是经典核，能够适用于中高端工业、泛工业技术平台的处理器核，对标ARM A76；第二个核是高性能核，主要应用在高性能场景，比如数据中心、算力基础设施等，对标ARM N2。</p>\n<p><img src=\"https://picx.zhimg.com/v2-208ce0a3be24383f6e020f567bb577df_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1834\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-208ce0a3be24383f6e020f567bb577df\" data-watermark-src=\"v2-6a6c096921076b1beac3a6984a96f30e\" data-private-watermark-src=\"v2-79ae8b5f12be5d1ecef25d9483ca82fe\"></p>\n<p data-pid=\"NWna1jI1\">目前，开芯院已经联合八家企业形成合作，并于今年8月24日启动第三代香山“昆明湖架构”的联合研发，形成了将约100人的研发团队，并分成了不同的工作组，形成了例会机制，针对每个技术点去不断地共同研发和迭代。</p>\n<p><img src=\"https://picx.zhimg.com/v2-c6de3271710a4859475ab5a786685040_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-c6de3271710a4859475ab5a786685040\" data-watermark-src=\"v2-237d96cbba95a2a1de268bcfb64c2ec4\" data-private-watermark-src=\"v2-b2789f0fd18aa54d3e6f511df7948d6b\"></p>\n<p data-pid=\"Prt-RTs6\">目前，经典核“南湖”（性能对标ARM A76），也在今年的11月30日实现了顺利交付,即<b>按期交付了100%的RTL代码给第一个用户</b>。在合作过程中，得到了这个用户的高度评价。说实话，他们一开始觉得这个项目是从中科院出来的，会不会仅仅是一个科研项目？而在紧密沟通的合作过程中，这个用户极大地增强了对香山项目的信心，并给予了高度的评价。接下来，开芯院在明年的2月份还会将南湖交付给第二个用户。</p>\n<p><img src=\"https://picx.zhimg.com/v2-1b62de03bf1a1f29b5ad6955f8348be7_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-1b62de03bf1a1f29b5ad6955f8348be7\" data-watermark-src=\"v2-5db88f1e2fca9465e155fe363fd07fe1\" data-private-watermark-src=\"v2-7cbe5c23927677df7568957965f8f73f\"></p>\n<h2>四、未来展望</h2>\n<p data-pid=\"tlolJgTN\">最后看一下关于未来的一些展望。提到开源芯片，有人曾问开源芯片的未来有前景吗？对于这个问题，其实有一个很好的参考案例：IBM PC，即个人电脑。<b>IBM在1981年推出了个人电脑，并且把所有的文档都进行了公开</b>。今天我们还可以到网上找到IBM当年公开的这个文档，一共是396页。这个文档包含了所有的源代码、电路图以及各种寄存器的配置等。</p>\n<p data-pid=\"_2UeLkS9\">由此，带来了两个深远的影响：第一个影响是<b>诞生了一批新兴的企业</b>，像戴尔、康柏，以及国内的联想和长城等，因为它降低了个人电脑设计的门槛，使得很多企业都可以进入个人电脑领域找到企业发展的新空间。第二个影响是<b>PC的价格和成本大幅降低</b>，原来一台PC要将近一万美元,因为IBM的开源开放，PC售价降低到了1500美元，使得PC真正能进入到每家每户，并成就了一个新兴的PC市场。</p>\n<p><img src=\"https://picx.zhimg.com/v2-bcc880a297fb9429f19d33793a6f1d7a_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-bcc880a297fb9429f19d33793a6f1d7a\" data-watermark-src=\"v2-d9212c720954187c9c4879408270504a\" data-private-watermark-src=\"v2-dd16fcab167e2a76b13dca0ceaec4c80\"></p>\n<p data-pid=\"Q4Tdk17c\">开源芯片，有机会赋能一个更大的产业，即“人-机-物”融合的新兴IoT产业，而这产业规模更大。在过去几十年，面对不同的产业，不同的芯片企业是怎么去支撑的？我们发现一个有趣的现象，<b>企业的模式越开放，所需要的资源越少，但撬动的产业却越来越大</b>。</p>\n<p data-pid=\"6SAlYuzO\">比如，英特尔的模式是“<b>IDM+销售芯片</b>”，企业只能拿Intel的芯片做整机。这种模式可以看作是重资产模式，因此Intel需要有超过五百亿美元的营业额、上百亿美元的利润才能支撑PC产业。英伟达的模式比英特尔模式更加轻一些，采用的是“<b>Fabless+销售芯片</b>”，这种模式只要超过一百五十亿美元的营业额以及三十亿美元的利润就能去支撑AI产业。ARM采用的模式更轻，“<b>Fabless+IP授权</b>”，让其他企业去做芯片，于是ARM只需要二十亿美元左右的营业额、三亿美元的利润就能够撬动智能手机产业。</p>\n<p data-pid=\"ZByx3yb3\">我们研判，未来通过开源芯片，把IP、开发工具都进行实现开源开放，通过开芯院这样不追求利润的非盈利机构，通过众筹形成大约两亿美元左右研发经费，让技术持续迭代发展，那就有可能赋能一个更大的产业，让更多的企业具备根据场景需求快速定制芯片的能力。因此我们判断，开源芯片会有一个非常好的前景。</p>\n<p><img src=\"https://picx.zhimg.com/v2-ffe2689887bbbe3fa15d72830dce0ed8_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1832\" data-rawheight=\"1036\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-ffe2689887bbbe3fa15d72830dce0ed8\" data-watermark-src=\"v2-8b8c8fc1f43e2b66743c4d30b2e7da0d\" data-private-watermark-src=\"v2-81d32c0d9858d42dee3884355c9404e6\"></p>\n<p data-pid=\"ObQsDyOS\">总结来看，开源芯片能够赋能新兴产业，同时开源芯片也是帮助我们去应对目前全球供应链安全问题的一个有效途径，是实现科技普惠世界的一种途径。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-3db995d773e0f94511f8560ed2fac5a0_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1830\" data-rawheight=\"1038\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-3db995d773e0f94511f8560ed2fac5a0\" data-watermark-src=\"v2-7a4717bdaa1809828e9bd99de51a2072\" data-private-watermark-src=\"v2-1c540407f432027dfc2ff4db62777322\"></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/bao-yun-gang?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">包云岗</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/357557401/answer/2828629042?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">15 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/349248127?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">与ARM相比，RISC-V有什么优势？</a><br><a href=\"http://www.zhihu.com/question/450092365?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">为什么RISC-V将超越ARM？</a><br>\n","link":"http://www.zhihu.com/question/357557401/answer/2828629042?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"动画《中国奇谭》开播，第 1 - 2 集有哪些关注点？","date":"2023-01-03 03:30:40","description":"\n<p data-pid=\"tBhcI79H\">《中国奇谭》第2集《鹅鹅鹅》有哪些看点？</p>\n<p data-pid=\"8HcAHwoA\">看点一，这些年《天书奇谭》里的阿拐去哪了？《鹅鹅鹅》有答案。</p>\n<p><img src=\"https://picx.zhimg.com/v2-c617a89b20ffe2ea0a49c1894da89329_720w.jpg?source=b1748391?rss\" data-caption=\"《天书奇谭》阿拐与《鹅鹅鹅》狐狸公子\" data-size=\"normal\" data-rawwidth=\"1589\" data-rawheight=\"925\" data-watermark=\"watermark\" data-original-src=\"v2-c617a89b20ffe2ea0a49c1894da89329\" data-watermark-src=\"v2-ac2ef3e4aa39b021003b502b407588d5\" data-private-watermark-src=\"v2-e1f4cfe123da4942bd87a1b89d74544e\"></p>\n<p data-pid=\"Rq4c3tbD\">《天书奇谭》是给无数观众带来快乐的经典动画作品，里面的人物也深入人心，作为《鹅鹅鹅》的导演，我也是看着《天书奇谭》成长的，尤其对爱吃烧鸡的瘸腿狐狸阿拐，记忆犹新，阿拐几乎承担了我在物质不丰富时期对美食的所有想像，因此，在《鹅鹅鹅》中我们特意加了一个小细节，就是狐狸公子吃掉了货郎的两只鹅，原著里面是没有吃鹅这个动作的，算是一种跨越时空的致敬吧，太爱《天书奇谭》了，太喜欢阿拐了。</p>\n<p><br></p>\n<p data-pid=\"ZUYh7oUL\">看点二，一个中国古代快递小哥的奇遇。</p>\n<p><img src=\"https://picx.zhimg.com/v2-104e3870428937654adfdf4401c2cf72_720w.jpg?source=b1748391?rss\" data-caption=\"《鹅鹅鹅》中的古代快递员---货郎\" data-size=\"normal\" data-rawwidth=\"4096\" data-rawheight=\"1704\" data-watermark=\"watermark\" data-original-src=\"v2-104e3870428937654adfdf4401c2cf72\" data-watermark-src=\"v2-3425fa76de15ae4e21a6d89bd1a89ca8\" data-private-watermark-src=\"v2-10438fea7c0998113a365ef9d2f604ed\"></p>\n<p data-pid=\"nYuhj0HC\">《鹅鹅鹅》故事主人公是个货郎，这在原著中是没有这个设定的，我们在创作之初就在思考，如果就是个没有背景的古代年轻人，实在也太单薄了，于是翻看各类明清时期的话本，发现出现多的身份就是书生，但我们又觉的书生大家太熟悉了，于是想到一个很现实的问题，这些书生，如果没有富有的家庭做支撑，靠什么养活自己，于是想到了古代的货郎这个职业，除了贩售各种生活用品，还会兼职在多地之间转递物品、书信甚至是口信，这让我们眼前一亮，一个古代的快递员，会经历怎样的一天呢？《鹅鹅鹅》中寻找答案。</p>\n<p><br></p>\n<p data-pid=\"yZnJCu1F\">看点三，有一点点小恐怖的志怪之美。</p>\n<p data-pid=\"bIwZqmub\">志怪小说是中国古典文学宝库中一颗璀璨的明珠。短小精干的体量，天马行空的想象力，乖张荒诞的情节，极具个性有不失含蓄的美感。这些志怪小说的特点都是《鹅鹅鹅》这个作品想要给大家呈现的，《鹅鹅鹅》不是一个简单的二元对立的故事，而是一个志怪故事。根据原著《阳羡书生》里的描写，这个世界里的角色都是把自己的心上人，放在自己的口腹之中的，想念了就直接从口中请出，这当然是一种戏剧性的荒诞笔法，但也足见古人的比喻事件大开大合的惊人笔法；再说说志怪小说的含蓄之美，当主人公货郎阅览人心的深不见底、背有凉意的时候，狐狸公子收拾起身，长衣作别，没有一丝的拖泥带水，在大片的留白之中我们才体会那瞬间失去即是永远的人生感。这些都是志怪小说所特有的艺术魅力。也是一直启发着《鹅鹅鹅》创作的动力与追求。</p>\n<p><br></p>\n<p data-pid=\"ohOKhBTS\">看点四，中国山水之美——米氏云山。</p>\n<p><img src=\"https://picx.zhimg.com/v2-0371393ab20bda43df795267858b1cd5_720w.jpg?source=b1748391?rss\" data-caption=\"米友仁《潇湘奇观图》\" data-size=\"normal\" data-rawwidth=\"1200\" data-rawheight=\"735\" data-watermark=\"watermark\" data-original-src=\"v2-0371393ab20bda43df795267858b1cd5\" data-watermark-src=\"v2-8f3a3e64ef545635eca9c620f9a58f13\" data-private-watermark-src=\"v2-b364c2a3352719809cf5a7e98d3d27a7\"></p>\n<p><img src=\"https://pica.zhimg.com/v2-5d1334acbc90d97e3e1a01bacd9e49d7_720w.jpg?source=b1748391?rss\" data-caption=\"《鹅鹅鹅》仿米氏云山\" data-size=\"normal\" data-rawwidth=\"5023\" data-rawheight=\"1714\" data-watermark=\"watermark\" data-original-src=\"v2-5d1334acbc90d97e3e1a01bacd9e49d7\" data-watermark-src=\"v2-671ccbf4d890ff2c34cc51bca4869127\" data-private-watermark-src=\"v2-ae3e25bfece016523305d49295f3e760\"></p>\n<p data-pid=\"SS4i4J5d\">《鹅鹅鹅》这个作品的视觉呈现，是相当风格化的，虽然是用素描的方法进行绘制，但素描之法最多算作“用”，其内在的核心，也就是“体”，是中国水墨山水画，可谓“山水为体，素描为用”。这种画风并非临时起意，而是源自于我少年时期学习国画的经历，在众多画派当中，独爱米氏云山那大气、神秘、且含蓄细腻的美，米氏云山中，又独爱米友仁的笔墨，实在是情有独钟，为此做了很多的尝试，终于用一种比较质朴的方式将米氏云山之美呈现在了画面中，虽然比较笨拙，但也算是向中国水墨发起了一次小小的致敬，这么美的中国水墨，谁又能不爱呢。</p>\n<p></p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/hu-rui-21-38?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">胡睿</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/576059467/answer/2827032927?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">170 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/576059459?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">动画《中国奇谭》开播，其中都有哪些看点值得分享？</a><br><a href=\"http://www.zhihu.com/question/577321689?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">动画《中国奇谭》第 3 集有哪些关注点？</a><br>\n","link":"http://www.zhihu.com/question/576059467/answer/2827032927?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"无垠 2022 年度总结","date":"2023-01-02 17:14:32","description":"\n<p>依然是忙碌的一年，晚了几天，2022 的年度总结终于还是写完了。</p>\n<h1>统计数据</h1>\n<p>年度总结的第一部分仍然是一些统计数据。以下数据截止 2022 年 12 月 31 日 23:39:59。</p>\n<h2>博客主站</h2>\n<p>无垠博客主站，年 UV 26,399 (<span>-9.2%</span>)，年 PV 55,460 (<span>-18.07%</span>)，日均 UV 72.33，平均停留时间 3分31秒 (<span>-1.4%</span>)，平均跳出率 60% (<span>-9.1%</span>)。一年有效文章数 1，新增评论 33 条 (<span>-69.72%</span>)。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/blog.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/blog.jpg\" alt=\"\" width=\"800\" height=\"773\" class=\"aligncenter size-full wp-image-2677\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/blog.jpg 800w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/blog-300x290.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/blog-768x742.jpg 768w\" sizes=\"(max-width: 800px) 100vw, 800px\"></a>\n<p>在八月 MDx 被 wpjam 推荐了，访问量有两天大幅上涨；在九月底十月初的几天似乎我的统计域名在大陆被临时屏蔽了，几乎没有获取到统计数据。</p>\n<p>2022 忙碌于进一步求学等事情，并没有更新太多文章，评论区也没有怎么维护，导致数据全部下滑。算上去年欠下的文章，实际上现在有五篇写了一半的文章在我的草稿箱里，希望可以尽快完成吧。</p>\n<h2>个人主页</h2>\n<p>个人页总 UV 1,734 (<span>-50.67%</span>)，总 PV 2,195 (<span>-44.13%</span>)，日均 UV 4.75，平均停留时间 49秒 (<span>-10.91%</span>)。访问的主要来源是知乎，WordPress.org 和 GitHub。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/axton.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/axton.jpg\" alt=\"\" width=\"800\" height=\"765\" class=\"aligncenter size-full wp-image-2678\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/axton.jpg 800w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/axton-300x287.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/axton-768x734.jpg 768w\" sizes=\"(max-width: 800px) 100vw, 800px\"></a>\n<p>仍然是没有更新个人主页的一年，我也没有继续宣传这个页面，统计数据发生了大幅下滑。</p>\n<h2>MDx</h2>\n<p>很遗憾，尽管 MDx 得到了 wpjam 的推荐，2022 年 MDx 并没有得到我足够的关注。在这一年中，MDx 更新了 0 次，新增 3 commits。还是希望等这阵子忙完，明年可以把更多的时间花在维护 MDx 上，尽快更新新的版本。无论如何，还是感谢各位对于 MDx 的支持！</p>\n<h1>2022 大事记</h1>\n<p>2022 真的做了很多事。不过由于年中手机损坏，丢失了半年的照片，下面的列表大概确实遗漏了几件事。2022 主要是把停滞了一阵子的摄影爱好重新捡了起来，但遗憾并没有在开源领域投入太多时间。希望 2023 年我可以进一步平衡不同事情上花的时间。</p>\n<ul>\n<li>三月：MDx 喜提 800 Stars</li>\n<li>四月：第二次前往爱丁堡，不经意拍下了我今年最喜欢的照片之一</li>\n<li>六月：在考试周期间用了三年的 OnePlus 7 Pro 突然暴毙，丢了一堆照片，滚去 iOS 了</li>\n<li>六月：第一次申请申根签证，贵（</li>\n<li>六月：第一次前往西班牙，热成傻逼（没写游记，懒）</li>\n<li>六月：第一次跳伞！（当然有教练带）</li>\n<li>六月：一个暑假同时做了一个实习和一个 Research，累成傻逼</li>\n<li>七月：第一次求到英国邮戳</li>\n<li>七月：迫于开发需求，狂暴购入 Pixel 6 一台，这下双持了</li>\n<li>七月：第一次跨国寄信</li>\n<li>八月：第一次前往法国，只在巴黎呆了两天</li>\n<li>八月：第一次前往瑞士，在少女峰下休息了三天，并第一次摔坏了镜头（详情见<a href=\"https://flyhigher.top/diary/2639.html\">这篇文章</a>）</li>\n<li>八月：然后阳了（</li>\n<li>八月：MDx 被 wpjam 推荐</li>\n<li>九月：卖了全部的摄影装备，然后第一次升级到全画幅（在 ebay 上捡漏的二手尼康 Z 6）</li>\n<li>九月：在威尔士拍到了我目前拍的最好的星空和银河</li>\n<li>十月：尽管胶片大涨价，但想拍反转胶片的心突然死灰复燃；胶片机不在身边，于是在 ebay 上从日本狂暴购入尼康 F80S 全自动胶片机，重新拍起了胶片</li>\n<li>十二月：MDx 喜提 900 Stars</li>\n<li>十二月：第二次前往瑞士，在马特洪峰下住了五天，拍了一堆照片，还在雪里打了滚（参阅上面的游记）</li>\n</ul>\n<section><div class=\"set-images-div\">\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm.jpg\" alt=\"威尔士滕比的星空，我目前拍得最好的银河\" width=\"1523\" height=\"2500\" class=\"aligncenter size-full wp-image-2673\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm.jpg 1523w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm-183x300.jpg 183w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm-624x1024.jpg 624w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm-768x1261.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm-936x1536.jpg 936w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-12-wm-1248x2048.jpg 1248w\" sizes=\"(max-width: 1523px) 100vw, 1523px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-6-5-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-6-5-wm.jpg\" alt=\"西班牙圣家堂\" width=\"1667\" height=\"2500\" class=\"aligncenter size-full wp-image-2670\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm.jpg\" alt=\"去看了飞机，胶片拍摄\" width=\"1707\" height=\"2500\" class=\"aligncenter size-full wp-image-2674\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm.jpg 1707w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm-205x300.jpg 205w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm-699x1024.jpg 699w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm-768x1125.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm-1049x1536.jpg 1049w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-12-5-wm-1398x2048.jpg 1398w\" sizes=\"(max-width: 1707px) 100vw, 1707px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm.jpg\" alt=\"采尔马特的日落\" width=\"1584\" height=\"2500\" class=\"aligncenter size-full wp-image-2591\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm.jpg 1584w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm-190x300.jpg 190w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm-649x1024.jpg 649w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm-768x1212.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm-973x1536.jpg 973w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/2022-12-9-wm-1298x2048.jpg 1298w\" sizes=\"(max-width: 1584px) 100vw, 1584px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705.jpg\" alt=\"徒步最后变成在雪里打滚\" width=\"2400\" height=\"1554\" class=\"aligncenter size-full wp-image-2609\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705.jpg 2400w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705-300x194.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705-1024x663.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705-768x497.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705-1536x995.jpg 1536w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/DSC_1705-2048x1326.jpg 2048w\" sizes=\"(max-width: 2400px) 100vw, 2400px\"></a>\n</div>\n<div class=\"set-images-div2\">\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm.jpg\" alt=\"目前我最喜欢的照片，爱丁堡\" width=\"1633\" height=\"2500\" class=\"aligncenter size-full wp-image-2669\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm.jpg 1633w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm-196x300.jpg 196w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm-669x1024.jpg 669w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm-768x1176.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm-1003x1536.jpg 1003w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-4-11-wm-1338x2048.jpg 1338w\" sizes=\"(max-width: 1633px) 100vw, 1633px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-scaled.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-scaled.jpg\" alt=\"2022 我最喜欢的照片之一，瑞士格林德瓦\" width=\"1648\" height=\"2560\" class=\"aligncenter size-full wp-image-2628\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-scaled.jpg 1648w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-193x300.jpg 193w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-659x1024.jpg 659w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-768x1193.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-989x1536.jpg 989w, https://acdn.flyhigher.top/wp-content/uploads/2022/12/IMG_2403-1319x2048.jpg 1319w\" sizes=\"(max-width: 1648px) 100vw, 1648px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm.jpg\" alt=\"2022 我最喜欢的星空照片，威尔士滕比\" width=\"1750\" height=\"2500\" class=\"aligncenter size-full wp-image-2672\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm.jpg 1750w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm-210x300.jpg 210w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm-717x1024.jpg 717w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm-768x1097.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm-1075x1536.jpg 1075w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/2022-9-5-wm-1434x2048.jpg 1434w\" sizes=\"(max-width: 1750px) 100vw, 1750px\"></a>\n</div>\n</section><p><span>点击图片查看描述</span></p>\n<h1>跨年红包</h1>\n<p>最近实在太忙，请容许我摸一摸。我知道去年的题解甚至都还没有发布，我会尽量赶在春节前发布去年题解并更新今年的谜题。</p>\n<h1>跨年海报</h1>\n<p>还是传统艺能，今年的海报只用到了 PS，胡乱整了点。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/26.jpg\"><img decoding=\"async\" loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/26.jpg\" alt=\"\" width=\"2500\" height=\"1768\" class=\"aligncenter size-full wp-image-2664\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2023/01/26.jpg 2500w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/26-300x212.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/26-1024x724.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/26-768x543.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/26-1536x1086.jpg 1536w, https://acdn.flyhigher.top/wp-content/uploads/2023/01/26-2048x1448.jpg 2048w\" sizes=\"(max-width: 2500px) 100vw, 2500px\"></a>\n<p>那么祝各位（迟到的）2023 年快乐！</p>\n","link":"https://flyhigher.top/diary/2662.html"},{"title":"如何评价动画《大理寺日志》第二季第八集？","date":"2023-01-01 09:07:11","description":"\n<p data-pid=\"srJwS0Px\">大家好，我是大理寺日志的导演槐佳佳，很高兴在2022年的最后一天可以在知乎这个平台继续跟大家分享制作时的心路历程。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-3a6ddf6283523bec05660b56c33da66b_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-3a6ddf6283523bec05660b56c33da66b\" data-watermark-src=\"v2-cc784e10f2314ffdded42edb54d5ec54\" data-private-watermark-src=\"v2-e9b8a3e1fd883dff45d02c16bdfd8aef\"></p>\n<p data-pid=\"uFBDnrPJ\">相信看了第八集的观众朋友们应该对少卿的再度猫化以及孙豹脑内的恋爱剧情是有很深刻印象的。这些表达一部分是为了继续给予第二季一些轻快活泼的元素，一部分可以理解为暴风雨前的宁静祥和。</p>\n<p><img src=\"https://picx.zhimg.com/v2-b896008df6061067b424aa89e910f4c7_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-b896008df6061067b424aa89e910f4c7\" data-watermark-src=\"v2-0c5d4ecfb170ad9c1799f2d436ae8c6f\" data-private-watermark-src=\"v2-9b2c4677e56a02a144e383b868b46b0c\"></p>\n<p data-pid=\"DK3IajRj\">在入地牢之前，陈拾的一段对白是可以串联第三集中二人去博州路上的艰辛，陈拾作为少卿的随身书吏，他对于少卿的关心和照顾，经历了很多困难亲眼看到了博州的惨状后，以为回洛阳可以严惩丘神纪，但是却又要去地牢的那种为少卿不平的心理。而卢大人说凡事做大事的人，就不能太计较得失。有时候，甚至连个人的荣辱也得放下。你穿着这身官府就得明白这个道理。这句话也不仅仅是在对陈拾进行说教。</p>\n<p><img src=\"https://picx.zhimg.com/v2-bbf19124316841a7b66d882de11a23e0_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-bbf19124316841a7b66d882de11a23e0\" data-watermark-src=\"v2-2430335c7cb0818d2d3b47dcf8fce32d\" data-private-watermark-src=\"v2-472c32083743397c3a364b7501f306cb\"></p>\n<p data-pid=\"dzyCENcB\">众所周知，大理寺如果不画一些少卿没吃药的环节，就会觉得少了一点什么。所以我们制作这段戏的时候，想的是如何超越第一季的“闹猫”画面，希望大家可以喜欢吧。同样，比较中性的太平公主在这一集里与孙豹的交集，会让大家看到太平心中比较少女比较柔软的一面。然后孙豹脑内的伊甸园画面以及去询问姻缘是我们想着重强调孙豹这种男生对于喜欢的女生的反应，用这种反应做出反差视觉，让观众看完可以留下更多印象。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-b24045f9caee6e238b1528ed228c2ca9_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-b24045f9caee6e238b1528ed228c2ca9\" data-watermark-src=\"v2-0ff91cbe6dac4e0aa925560f20e3c217\" data-private-watermark-src=\"v2-b0888f99c1451347a53dc987fafb5f39\"></p>\n<p data-pid=\"tS52kMuD\">借用微博用户给我们的一句留言，“杀我别用小包刀”。对于回忆里，丘神纪与小李包的过往在第八集里是铺垫，是交代一些过去的事情，给大家明晰出一条情感线。后续会给出一个属于这段情感的答案。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-5a32ac9814acbf112bd2172a25b2bdfa_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2388\" data-rawheight=\"1668\" data-watermark=\"watermark\" data-original-src=\"v2-5a32ac9814acbf112bd2172a25b2bdfa\" data-watermark-src=\"v2-a394644b8d1bb9f74fc7daaf858014a0\" data-private-watermark-src=\"v2-0aca8b95a50dd5c7cac5d0481b0fb906\"></p>\n<p data-pid=\"OhYCLHzI\">希望大家可以继续支持好传支持大理寺日志，2022年要过去了，我们2023年第9集再见吧。</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/hadj-46?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">槐佳佳</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/575907778/answer/2823953519?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">1 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/571607535?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何评价动画《大理寺日志》第二季第五集？</a><br><a href=\"http://www.zhihu.com/question/574344418?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何评价动画《大理寺日志》第二季第七集？</a><br>\n","link":"http://www.zhihu.com/question/575907778/answer/2823953519?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"2023: 新年快乐 &amp; 博客总结","date":"2022-12-29 16:00:00","description":"\n<p>这一年对于我来说过的非常快，同时，也是很不平凡的一年。同样，今年也是 Blog 的第三年了。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%8F%8B%E9%93%BE\" class=\"headerlink\" title=\"友链\"></a>友链</h2>\n<p>在这一年中，YFun's Blog 友链数量（不包括本站站点）为 9 个，其中很多都是大佬 (\\=!!</p>\n<p>其中，<a href=\"https://dusays.com/\">杜老师说</a> 最活跃力！</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E7%AB%A0\" class=\"headerlink\" title=\"文章\"></a>文章</h2>\n<p>在 2022 年中，YFun's Blog 发布 6 篇文章。</p>\n<p>其中，在 1 月 14 日到 8 月 4 日之间<strong>整整咕了七个月</strong>（</p>\n<p>今年水了两篇文章，其余的自认为质量还行。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%8D%9A%E5%AE%A2\" class=\"headerlink\" title=\"博客\"></a>博客</h2>\n<p>与去年相同，YFun's Blog 依然在使用自己开发的 <a href=\"https://github.com/oCoke/hexo-theme-miracle\">Theme Miracle</a>.</p>\n<p>今年 Miracle 已经迭代到 <code>v2.2.1</code> 版本，主要在修 Bug 和提升体验<del>（比如高斯模糊又加回来了</del></p>\n<p>目前，我正在使用 ESHexoN 编辑，如果想了解更多信息，可以看这篇文章：<a href=\"https://blog.yfun.top/posts/2022/eshexon/\">抛弃静态博客的缺点，用 ESHexoN 在线编辑！</a></p>\n<p>此外，还有一个项目可能会在 2023 年初加入到 YFun's Blog 上，那就是 <a href=\"https://detalk.js.org/\">Detalk.js</a>。我尝试用它实现自定义性更强的评论系统。</p>\n<p>现在，Detalk 已具备基础功能，感兴趣的同学可以试用一下（（</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E7%BB%9F%E8%AE%A1\" class=\"headerlink\" title=\"统计\"></a>统计</h2>\n<p>与去年一样，今年的数据是：<code>N/A</code>。</p>\n<p>虽然 Cloudflare Web Analytics 在 2021 年 4 月份启用，但后来又将统计代码去除。所以关于本站的统计信息一直是个谜。</p>\n<p>关于这一点，我有计划加入开源统计系统。</p>\n<blockquote><p>我希望是一款<strong>不会侵犯用户隐私</strong>、<strong>不收集用户指纹信息</strong>的统计系统，目前考虑 <a href=\"https://umami.is/\">umami</a>.</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%AA%E6%9D%A5\" class=\"headerlink\" title=\"未来\"></a>未来</h2>\n<p>我希望有时间可以重构这个 Blog，计划使用 <code>Vue 3 + Nuxt.js + TypeScript</code>。当然，这只是个计划。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%9B%B4%E5%A4%9A\" class=\"headerlink\" title=\"更多\"></a>更多</h2>\n<p>这个世界变化太快，我们生活中的每一秒都是在见证历史。</p>\n<p>2022 已经过去，欢迎 2023 的到来，希望新的一年中，一切会变得更好。</p>\n","link":"https://blog.yfun.top/posts/2023/"},{"title":"《回来的女儿》第二集中播放的《魔方大厦》是第几集，说的什么内容？","date":"2022-12-29 06:34:44","description":"\n<p data-pid=\"jvCJj9O8\">做一下小列文虎克。</p>\n<p data-pid=\"olM8t_be\">前面播出的画面都是《魔方大厦》的OP，分辨不出来到底是哪一集。</p>\n<p><img src=\"https://picx.zhimg.com/v2-0f52bc7cfa250a2efa65f01fa4d088cb_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1080\" data-watermark=\"original\" data-original-src=\"v2-0f52bc7cfa250a2efa65f01fa4d088cb\" data-watermark-src=\"v2-208720891c91d8cbff7299df085fcd2f\" data-private-watermark-src=\"v2-234fdad343ca2e1ad776b453cb75417d\"></p>\n<p data-pid=\"3Q7WCCyf\">但是在陈佑希去接电话的时候，我们看到了这样的画面。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-f593bb0bd46b8218d887120239b060af_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"280\" data-rawheight=\"271\" data-watermark=\"original\" data-original-src=\"v2-f593bb0bd46b8218d887120239b060af\" data-watermark-src=\"v2-12b59e8aa8b921d7920541f9aab0de8f\" data-private-watermark-src=\"v2-b095ce23235baf4d6f76792c6f85a65a\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-526431500c347301cd4729137e16f1dc_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"144\" data-rawheight=\"169\" data-watermark=\"original\" data-original-src=\"v2-526431500c347301cd4729137e16f1dc\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"9HKgytsY\">很明显就是第一集《玻璃城》的开头。</p>\n<p><img src=\"https://pica.zhimg.com/v2-0e04910b2fa5bebfef8661c2a4b0fa01_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1024\" data-rawheight=\"559\" data-watermark=\"original\" data-original-src=\"v2-0e04910b2fa5bebfef8661c2a4b0fa01\" data-watermark-src=\"v2-4bb3507f8287b38752c98c9adcbbd8e7\" data-private-watermark-src=\"v2-12dfc3a20c84cccedb565bd05c4d7c57\"></p>\n<p data-pid=\"jLjTbAr-\">如果只到这里就结束了，也太简单了。我们在第一集中还能发现几个更加细节的部分：</p>\n<p data-pid=\"hxNrC2_Y\">1、魔方大厦的方国里，每过去1天，外面地球才过去1秒。也就是说，只要莱克愿意，他可以在魔方大厦过一辈子，出魔方大厦之后依然是小时候的模样。</p>\n<p data-pid=\"RSlVcqOl\">这个细节很快就在第三集《神奇的日历》中被回应了，这里需要注意的是，该集的小说和动画版差异很大。</p>\n<p data-pid=\"QCqilq2k\">2、在莱克进入魔方大厦之前，他出现了严重的声画不同步，也就是说我们认知里莱克的自言自语其实并没有出现口型，进而可以推断他在那一部分中是自呓状态。</p>\n<p data-pid=\"5Vy8aWIV\">这在《回来的女儿》里正好对应了李文卓的特质，由于他是傻子，同时需要保有很多“不能告诉别人的秘密”，所以也会尽可能少的与其他人对话。</p>\n<p data-pid=\"FoPFYGHK\">3.动画里的玻璃城剧情与小说也有差别，动画里的玻璃城里的人并不是透明人，而只是玻璃人。也就是说动画版本的特质并不是“真实”而是“易碎”。</p>\n<p data-pid=\"-Knlh0rN\">《回来的女儿》里所构筑的看似温馨的家庭，以及家庭里的众人各自为了自己目标貌合神离生活的模样，正是易碎的生活状态。</p>\n<hr>\n<p data-pid=\"rdoVLeGd\">顺便提一句，这集的《魔方大厦》还有出现了一个插曲，我没找到曲名，歌词大概是这样的（后面半句听不太清楚）：</p>\n<blockquote data-pid=\"YfNUZvTK\">怨你也容易 怨我也容易 太阳照亮了我们 温暖所有的心灵<br>献出你的友谊 换取我的神奇 用内心的温暖 指尖传递为荣</blockquote>\n<p data-pid=\"9L5YvtqT\">如果有心的朋友会发现，《回来的女儿》里只有李承天家的地板长下图这样，是由复数个马赛克拼贴而成的。虽然这也是上个世纪末期中国家庭地砖装修的常见风格，但是依然与《魔方大厦》形成相似的拼贴感，也就是彭罗斯镶嵌。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-7a36e5fad32ce8f0b69d900ae6000884_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1294\" data-rawheight=\"413\" data-watermark=\"original\" data-original-src=\"v2-7a36e5fad32ce8f0b69d900ae6000884\" data-watermark-src=\"v2-890fd1aea209af1bdff0a545b8e8a4aa\" data-private-watermark-src=\"v2-44e1bd1bc275a97b7b7402f8b8994970\"></p>\n<p data-pid=\"81lDPymJ\">彭罗斯镶嵌本质上就是无限延展的周期画面，在《魔方大厦》每集的开头播放的动画里，转动的魔方也是另一种程度的彭罗斯镶嵌。所以可以从另一个角度看，魔方大厦的中心就是李家，而以他们家为视角可以看到20世纪末期的当时社会的其他怪状：既有港风的涌入，也有下岗与下海的变迁，有被拐卖的走失的孩子，也有针灸与气功热。我们能在很多现代中式恐怖游戏里看到端倪。</p>\n<p data-pid=\"yJedMQDv\">在故事的第2-3集里，伪装的家庭关系沉浸在一派温情脉脉的画风中，走失又回来的假女儿，名为李文卓其实是王重江的儿子，扑朔迷离的小秀真相。而在故事的第10话，经历过被关进精神病院、与程威、李承天一起误杀王重江的陈佑希，与这些人又形成了别样的微妙关系。</p>\n<p data-pid=\"cTXB1Ko0\">为了加强这种迷幻感，房屋的布景也在有意无意地营造拼贴意识，下图是第10话听到王重江去世消息的廖穗芳的视角，我们看到从窗格到门屏再到远处的建筑，都有密密麻麻的格子。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-a87435e82938d6fd802cde079a40925c_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"666\" data-rawheight=\"391\" data-watermark=\"original\" data-original-src=\"v2-a87435e82938d6fd802cde079a40925c\" data-watermark-src=\"v2-6467645721f3a2c1989a64b4ca952d2f\" data-private-watermark-src=\"v2-7e87c0e75bf92bd21ff64ecea0998157\"></p>\n<p data-pid=\"24wjOOCy\">看过《回来的女儿》的朋友还会发现剧集里有大量的窥视镜头，它不属于任何角色的主观视野，而是处在一种旁观视角，仿佛观众时刻处于一种魔方外的冷眼旁观的感觉中。更多的原因是该剧里有大量的相互偷听的场景。</p>\n<hr>\n<p data-pid=\"xXNUktGy\">回到《魔方大厦》里的玻璃城故事。</p>\n<p data-pid=\"cKlG0QF1\">动画里很简单，玻璃城一片狼藉是因为莱克摔的魔方所致。18分钟的动画里，前三分之一是铺垫魔方大厦的设定，后面三分之一是莱克治好了众人，那么中间三分之一是什么呢？是警察在冰面上和莱克的追逐戏。</p>\n<p data-pid=\"WxECAWGD\">小说里用高温修复玻璃人的办法是医院提出来的，而动画里则是由被关进玻璃棺材里的莱克所提出来的，于是就形成了该片的一个经典童年阴影。</p>\n<p><img src=\"https://picx.zhimg.com/v2-8d9d3f3b72f955ca5a7220d6a1c2ea27_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1050\" data-rawheight=\"664\" data-watermark=\"original\" data-original-src=\"v2-8d9d3f3b72f955ca5a7220d6a1c2ea27\" data-watermark-src=\"v2-5e399c503ba81586d41f74f102670c1a\" data-private-watermark-src=\"v2-29021bf141149aa97edc22c40540a97d\"></p>\n<p data-pid=\"f-RFd9PA\">在这一段里，莱克还说出一句经典的话：<b>别瞎说，我妈可爱我了</b>。——这也是李文卓的性格特质。</p>\n<p data-pid=\"kqA7zP5a\">在《玻璃城》里还有很多剧情与《回来的女儿》形成了很多的呼应，不过也就与《魔方大厦》后续的故事没有关系了。</p>\n<p data-pid=\"8STjZBGR\">顺便提一句，该动画的造型设计师是速泰熙，同时也是《大耳朵图图》的原创造型，我们也能看到图图与乐乐乐的相似之处。</p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/dandoliya?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">乌合之子</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br>延伸阅读：<br><a href=\"http://www.zhihu.com/question/574846363?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">《回来的女儿》有没有能理清剧情的具体时间线？</a><br><a href=\"http://www.zhihu.com/question/576299522?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">《回来的女儿》剧情最大的硬伤是什么？</a><br>\n","link":"http://www.zhihu.com/question/574824753/answer/2820936216?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"阿尔卑斯的夏与冬：瑞士双游记","date":"2022-12-28 03:05:20","description":"在种种机缘巧合之下，今年我有幸在夏天和冬天两次前往瑞士，并分别在在阿尔卑斯山的少女峰和马特洪峰的脚下度过了三天 […]","link":"https://flyhigher.top/diary/2639.html"},{"title":"什么年代还在用传统 Pjax? —— 自定义 Pjax 提升页面加载速度","date":"2022-12-15 04:30:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p>Hexo 属于静态博客，很多同学给自己的博客加上 Pjax 是为了音乐播放器等功能不中断。</p>\n<p>之前我也想过对博客和主题加入 Pjax 支持，但经过一番分析后觉得，这不仅引入了一个巨大的 <code>jquery.pjax.js</code>，反而优化效果不明显。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%8E%9F%E7%90%86\" class=\"headerlink\" title=\"原理\"></a>原理</h2>\n<p>其实，Pjax 的原理并不复杂。或许说，README 一开始就告诉你了：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">pjax = pushState + ajax</span><br></pre></td></tr></table></figure><p>其中 <code>ajax</code> 用于页面的新内容，<code>pushState</code> 改变浏览器状态。</p>\n<p>很简单吧。</p>\n<p>事实上，<code>pjax</code> 并不应该应用于整个页面当中。而应该只是局部更改。</p>\n<p>这样，Blog 当中的导航栏、样式文件等就不需要重复下载与预览。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%88%86%E6%9E%90\" class=\"headerlink\" title=\"分析\"></a>分析</h2>\n<p>以我使用 Miracle 为主题的博客为例，进入首页，按 <code>F12</code> 查看页面 Elements.</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.18/rawimg/2022-12-15_12-32-37.png\"></p>\n<p>可以发现，页面主要更改的也就是 <code>#page-main</code> 部分，只需要实现动态刷新这部分的内容就可以了。</p>\n<p>那怎么实现呢？</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%80%E5%B0%8F%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8E%A5%E5%8F%A3\" class=\"headerlink\" title=\"最小化的数据接口\"></a>最小化的数据接口</h2>\n<p>现在生成的页面当中，有 <code>&lt;head&gt;</code> 部分声明大量样式与元信息，<code>&lt;body&gt;</code> 之下重复的页脚、导航栏，还有每个页面下方都有的一些 <code>&lt;script&gt;</code>。</p>\n<p>很明显，我们不需要这些。我们只要 <code>#page-main</code> 中的主要内容。</p>\n<p>最重要的是，Hexo 是静态博客，这一点只能在生成文件时进行。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E8%BD%BD%E5%85%A5-HTML\" class=\"headerlink\" title=\"载入 HTML\"></a>载入 HTML</h3>\n<p>我是用 Cheerio 模块帮我完成这一工作。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">'cheerio'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">\"path\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> filePath = path.resolve(<span class=\"string\">'public/'</span>);</span><br></pre></td></tr></table></figure><p>定义一个 <code>parse function</code>，打开文件并解析相关信息，顺便把不是 HTML 的文件排除掉。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> parse = <span class=\"function\">(<span class=\"params\">filename, fullpath</span>) =&gt;</span> {</span><br><span class=\"line\">    <span class=\"comment\">// 不是 .html 我不要</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!filename.endsWith(<span class=\"string\">\".html\"</span>)) {</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>然后通过 Cheerio 解析 HTML:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">{...</span><br><span class=\"line\">  <span class=\"comment\">// 组合新文件名</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> filepath = fullpath+<span class=\"string\">\".page.json\"</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 读取文件内容</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> pageContent = fs.readFileSync(fullpath).toString();</span><br><span class=\"line\">  <span class=\"comment\">// 解析页面内容</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> $pg = cheerio.load(pageContent);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rtData = {};</span><br><span class=\"line\">...}</span><br></pre></td></tr></table></figure><p>然后获取页面的标题和 <code>#page-main</code> 下的 HTML.</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">{...</span><br><span class=\"line\"><span class=\"comment\">// 页面标题</span></span><br><span class=\"line\">    rtData.title = $pg(<span class=\"string\">\"title\"</span>).text();</span><br><span class=\"line\">    <span class=\"comment\">// OR $pg(\"#page-main\").html()</span></span><br><span class=\"line\">    <span class=\"comment\">// 我这么写是因为主题 #page-main 下还有 script 无法执行</span></span><br><span class=\"line\">    rtData.page = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"mg-top\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">        <span class=\"subst\">${$pg(<span class=\"string\">\".mg-top\"</span>).html() || <span class=\"string\">\"\"</span>}</span></span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;footer class=\"text-center\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">        <span class=\"subst\">${$pg(<span class=\"string\">\"footer\"</span>).html() || <span class=\"string\">\"\"</span>}</span></span></span><br><span class=\"line\"><span class=\"string\">    &lt;/footer&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=\"p-btn\"&gt;</span></span><br><span class=\"line\"><span class=\"string\">        <span class=\"subst\">${$pg(<span class=\"string\">\".p-btn\"</span>).html() || <span class=\"string\">\"\"</span>}</span></span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    `</span>;</span><br><span class=\"line\">    rtData.path = filename;</span><br><span class=\"line\">...}</span><br></pre></td></tr></table></figure><p>页面中还有一些 <code>script</code>，比如阅读进度、懒加载等。所以需要一个 <code>extraJS</code> 放置额外的 Script.</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">{...</span><br><span class=\"line\">    rtData.extraJS = []</span><br><span class=\"line\">    <span class=\"comment\">// 只解析 #page-main 下的 script</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> $pageMain = cheerio.load($pg(<span class=\"string\">\"#page-main\"</span>).html());</span><br><span class=\"line\">    $pageMain(<span class=\"string\">'script'</span>).map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">i, el</span>) </span>{</span><br><span class=\"line\">        <span class=\"comment\">// 尝试往 extraJS 中 push 相关代码</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span> {rtData.extraJS.push($pageMain(<span class=\"built_in\">this</span>)[<span class=\"number\">0</span>].children[<span class=\"number\">0</span>].data);} <span class=\"keyword\">catch</span>(e) {}</span><br><span class=\"line\">        $pageMain(<span class=\"built_in\">this</span>).remove();</span><br><span class=\"line\">    });</span><br><span class=\"line\">...}</span><br></pre></td></tr></table></figure><p>最后，将 JSON 写入文件中。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">{...</span><br><span class=\"line\">    fs.writeFileSync(filepath, <span class=\"built_in\">JSON</span>.stringify(rtData));</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h3>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E4%BB%B6%E9%80%92%E5%BD%92\" class=\"headerlink\" title=\"文件递归\"></a>文件递归</h3>\n<p>我们还需要一个函数递归 <code>public</code> 目录下的所有文件，这个不用多说。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fileDisplay</span>(<span class=\"params\">filePath</span>) </span>{</span><br><span class=\"line\">    <span class=\"comment\">// 根据文件路径读取文件，返回文件列表</span></span><br><span class=\"line\">    fs.readdir(filePath, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, files</span>) </span>{</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (err) {</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.warn(err, <span class=\"string\">\"读取文件夹错误！\"</span>)</span><br><span class=\"line\">        } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">            <span class=\"comment\">// 遍历读取到的文件列表</span></span><br><span class=\"line\">            files.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">filename</span>) </span>{</span><br><span class=\"line\">                <span class=\"comment\">// 获取当前文件的绝对路径</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> filedir = path.join(filePath, filename);</span><br><span class=\"line\">                <span class=\"keyword\">var</span> fullname = filedir.split(<span class=\"string\">\"public\"</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">                fs.stat(filedir, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">eror, stats</span>) </span>{</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (eror) {</span><br><span class=\"line\">                        <span class=\"built_in\">console</span>.warn(<span class=\"string\">'获取文件 Stats 失败!'</span>);</span><br><span class=\"line\">                    } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> isFile = stats.isFile(); <span class=\"comment\">// 是文件</span></span><br><span class=\"line\">                        <span class=\"keyword\">var</span> isDir = stats.isDirectory(); <span class=\"comment\">// 是文件夹</span></span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (isFile) {</span><br><span class=\"line\">                            parse(fullname, filedir);</span><br><span class=\"line\">                        }</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (isDir) {</span><br><span class=\"line\">                            fileDisplay(filedir); <span class=\"comment\">// 递归，如果是文件夹，就继续遍历该文件夹下面的文件</span></span><br><span class=\"line\">                        }</span><br><span class=\"line\">                    }</span><br><span class=\"line\">                });</span><br><span class=\"line\">            });</span><br><span class=\"line\">        }</span><br><span class=\"line\">    });</span><br><span class=\"line\">}</span><br><span class=\"line\">fileDisplay(filePath);</span><br></pre></td></tr></table></figure><p>最后运行这个 Node.js 文件，就可以看到 <code>public/</code> 目录下多出很多 <code>***.page.json</code> 文件。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84\" class=\"headerlink\" title=\"基本结构\"></a>基本结构</h3>\n<p>这些文件内容也很简单，基本如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">{</span><br><span class=\"line\">    <span class=\"comment\">// 页面的标题</span></span><br><span class=\"line\">    <span class=\"attr\">\"title\"</span>: <span class=\"string\">\"Hello World\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 内容</span></span><br><span class=\"line\">    <span class=\"attr\">\"page\"</span>: <span class=\"string\">\"...\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 路径</span></span><br><span class=\"line\">    <span class=\"attr\">\"path\"</span>: <span class=\"string\">\"/foo/bar\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// JS</span></span><br><span class=\"line\">    <span class=\"attr\">\"extraJS\"</span>: ['alert(<span class=\"string\">\"Hello World\"</span>);']</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E7%AB%AF-pjax-js\" class=\"headerlink\" title=\"前端 pjax.js\"></a>前端 <code>pjax.js</code>\n</h2>\n<p>新建一个 <code>pjax.js</code>。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%9B%BF%E6%8D%A2%E9%93%BE%E6%8E%A5\" class=\"headerlink\" title=\"替换链接\"></a>替换链接</h3>\n<p>我们需要先将页面当中所有本站链接转为 Pjax 的 Jump 函数。</p>\n<p>判断条件是：有链接，不带 hash，且为本站链接</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 转换页面中的链接为 Pjax 链接</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> $pjax_convertAllLinks = <span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\"><span class=\"comment\">// 所有的 a 标签</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkElements = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">\"a\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">of</span> linkElements) {</span><br><span class=\"line\">        <span class=\"comment\">// 有链接，不带 hash，且为本站链接</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i.href &amp;&amp; !i.href.includes(<span class=\"string\">\"/#\"</span>) &amp;&amp; (i.href.startsWith(<span class=\"string\">\"/\"</span>) || i.href.match(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"built_in\">window</span>.location.hostname)))) {</span><br><span class=\"line\">            <span class=\"keyword\">let</span> thisLink = <span class=\"keyword\">new</span> URL(i.href).pathname+<span class=\"keyword\">new</span> URL(i.href).hash;</span><br><span class=\"line\">            i.href = <span class=\"string\">`javascript:$pjax_jump('<span class=\"subst\">${thisLink}</span>');`</span>;</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>另外，要转化页面链接为全路径。</p>\n<p>这里参考了下 ChenYFan 的 Service Worker 函数，需要根据实际情况做出调整。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 转换路径为全路径</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> $pjax_fullpath = <span class=\"function\">(<span class=\"params\">path</span>) =&gt;</span> {</span><br><span class=\"line\">    path = path.split(<span class=\"string\">'?'</span>)[<span class=\"number\">0</span>].split(<span class=\"string\">'#'</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (path.match(<span class=\"regexp\">/\\/$/</span>)) {</span><br><span class=\"line\">        path += <span class=\"string\">'index.html'</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!path.match(<span class=\"regexp\">/\\.[a-zA-Z]+$/</span>)) {</span><br><span class=\"line\">        path += <span class=\"string\">'/index.html'</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">return</span> path;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// $pjax_fullpath('/') =&gt; /index.html</span></span><br></pre></td></tr></table></figure><h3>\n<a href=\"https://blog.yfun.top/#%E8%B7%B3%E8%BD%AC\" class=\"headerlink\" title=\"跳转\"></a>跳转</h3>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 跳转页面</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> $pjax_jump = <span class=\"keyword\">async</span> (path) =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">try</span> {</span><br><span class=\"line\">        <span class=\"comment\">// 是 # 就别跳转了</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (path.startsWith(<span class=\"string\">\"#\"</span>)) {</span><br><span class=\"line\">            <span class=\"built_in\">window</span>.hash = path;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        }</span><br><span class=\"line\">        <span class=\"comment\">// 加载动画</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> loading = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">        loading.innerHTML = <span class=\"string\">`&lt;div style=\"position: fixed;top:0;left:0;z-index:99999;display: block;width: 100%;height: 4px;overflow: hidden;background-color: rgba(63,81,181,.2);border-radius: 2px;\"&gt;&lt;div class=\"progress-indeterminate\" style=\"background-color: #3f51b5;\"&gt;&lt;/div&gt;&lt;style&gt;#page-main{transition:0.2s;}.progress-indeterminate::before{position:absolute;top:0;bottom:0;left:0;background-color:inherit;-webkit-animation:mdui-progress-indeterminate 2s linear infinite;animation:mdui-progress-indeterminate 2s linear infinite;content:' ';will-change:left,width;}.progress-indeterminate::after{position:absolute;top:0;bottom:0;left:0;background-color:inherit;-webkit-animation:mdui-progress-indeterminate-short 2s linear infinite;animation:mdui-progress-indeterminate-short 2s linear infinite;content:' ';will-change:left,width;}@keyframes mdui-progress-indeterminate{0%{left:0;width:0;}50%{left:30%;width:70%;}75%{left:100%;width:0;}}@keyframes mdui-progress-indeterminate-short{0%{left:0;width:0;}50%{left:0;width:0;}75%{left:0;width:25%;}100%{left:100%;width:0;}}&lt;/style&gt;&lt;/div&gt;`</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 在 body 后加入 &lt;div&gt;</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.body.appendChild(loading);</span><br><span class=\"line\">        <span class=\"comment\">// 如果页面中没有 page.css 或 search.css，为防止样式错乱，需要在加载过程中隐藏页面内容</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page_css\"</span>) || !<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"search_css\"</span>)) <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page-main\"</span>).style.opacity = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 获取页面数据</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> pageData;</span><br><span class=\"line\">        <span class=\"comment\">// 看看 SessionStorage 里有没有缓存</span></span><br><span class=\"line\">        <span class=\"comment\">// 依赖后文的 prefetch</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sessionStorage.getItem(<span class=\"string\">`<span class=\"subst\">${location.protocol}</span>//<span class=\"subst\">${location.hostname}</span><span class=\"subst\">${location.port ? <span class=\"string\">\":\"</span>+location.port:location.port}</span><span class=\"subst\">${$pjax_fullpath(path)}</span>`</span>)) {</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">\"FROM SESSIONSTORAGE\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">try</span> {</span><br><span class=\"line\">                pageData = <span class=\"built_in\">JSON</span>.parse(sessionStorage.getItem(<span class=\"string\">`<span class=\"subst\">${location.protocol}</span>//<span class=\"subst\">${location.hostname}</span><span class=\"subst\">${location.port ? <span class=\"string\">\":\"</span>+location.port:location.port}</span><span class=\"subst\">${$pjax_fullpath(path)}</span>`</span>));</span><br><span class=\"line\">            } <span class=\"keyword\">catch</span>(e) {</span><br><span class=\"line\">                <span class=\"comment\">// 还是出错就从服务器获取</span></span><br><span class=\"line\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">\"FROM SERVER\"</span>);</span><br><span class=\"line\">                pageData = <span class=\"keyword\">await</span> fetch($pjax_fullpath(path) + <span class=\"string\">\".page.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json());</span><br><span class=\"line\">                <span class=\"comment\">// 写到 SessionStorage 中</span></span><br><span class=\"line\">                sessionStorage.setItem(<span class=\"string\">`<span class=\"subst\">${location.protocol}</span>//<span class=\"subst\">${location.hostname}</span><span class=\"subst\">${location.port ? <span class=\"string\">\":\"</span>+location.port:location.port}</span><span class=\"subst\">${$pjax_fullpath(path)}</span>`</span>, <span class=\"built_in\">JSON</span>.stringify(pageData));</span><br><span class=\"line\">            }</span><br><span class=\"line\">        } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">\"FROM SERVER\"</span>);</span><br><span class=\"line\">            <span class=\"comment\">// fetch JSON</span></span><br><span class=\"line\">            pageData = <span class=\"keyword\">await</span> fetch($pjax_fullpath(path) + <span class=\"string\">\".page.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json());</span><br><span class=\"line\">            sessionStorage.setItem(<span class=\"string\">`<span class=\"subst\">${location.protocol}</span>//<span class=\"subst\">${location.hostname}</span><span class=\"subst\">${location.port ? <span class=\"string\">\":\"</span>+location.port:location.port}</span><span class=\"subst\">${$pjax_fullpath(path)}</span>`</span>, <span class=\"built_in\">JSON</span>.stringify(pageData));</span><br><span class=\"line\">        }</span><br><span class=\"line\">        <span class=\"comment\">// 补齐页面 CSS</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"search_css\"</span>)) {</span><br><span class=\"line\">            fetch(<span class=\"string\">\"/css/search.css\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">                <span class=\"keyword\">let</span> ele = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"style\"</span>);</span><br><span class=\"line\">                ele.innerHTML = res;</span><br><span class=\"line\">                ele.id = <span class=\"string\">\"search_css\"</span>;</span><br><span class=\"line\">                <span class=\"built_in\">document</span>.body.appendChild(ele);</span><br><span class=\"line\">            });</span><br><span class=\"line\">        }</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page_css\"</span>)) {</span><br><span class=\"line\">            fetch(<span class=\"string\">\"/css/page.css\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">                <span class=\"keyword\">let</span> ele = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"style\"</span>);</span><br><span class=\"line\">                ele.innerHTML = res;</span><br><span class=\"line\">                ele.id = <span class=\"string\">\"page_css\"</span>;</span><br><span class=\"line\">                <span class=\"built_in\">document</span>.body.appendChild(ele);</span><br><span class=\"line\">            });</span><br><span class=\"line\">        }</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!pageData) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 组合 state</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> state = { <span class=\"attr\">title</span>: <span class=\"string\">''</span>, <span class=\"attr\">url</span>: <span class=\"built_in\">window</span>.location.href.split(<span class=\"string\">\"?\"</span>)[<span class=\"number\">0</span>] };</span><br><span class=\"line\">        <span class=\"comment\">// 利用 history.pushState() 修改地址栏而不跳转</span></span><br><span class=\"line\">        history.pushState(state, <span class=\"string\">''</span>, path);</span><br><span class=\"line\">        <span class=\"comment\">// 修改页面标题</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.title = pageData.title;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">            <span class=\"comment\">// 滚动到页面顶部</span></span><br><span class=\"line\">            <span class=\"built_in\">window</span>.scrollTo({<span class=\"attr\">top</span>: <span class=\"number\">0</span>, <span class=\"attr\">behavior</span>: <span class=\"string\">\"smooth\"</span>});</span><br><span class=\"line\">            <span class=\"comment\">// 写入 HTML</span></span><br><span class=\"line\">            <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page-main\"</span>).innerHTML = pageData.page;</span><br><span class=\"line\">            <span class=\"built_in\">window</span>.onscroll = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> pageData.extraJS) {</span><br><span class=\"line\">                <span class=\"keyword\">try</span> {</span><br><span class=\"line\">                    <span class=\"comment\">// eval() 执行 JS</span></span><br><span class=\"line\">                    <span class=\"built_in\">eval</span>(pageData.extraJS[i]);</span><br><span class=\"line\">                } <span class=\"keyword\">catch</span>(e) {}</span><br><span class=\"line\">            }</span><br><span class=\"line\">            <span class=\"keyword\">try</span>{$pjax_prefetch();}<span class=\"keyword\">catch</span>(e){}</span><br><span class=\"line\">            <span class=\"comment\">// 再次转换所有链接</span></span><br><span class=\"line\">            $pjax_convertAllLinks();</span><br><span class=\"line\">        }, <span class=\"number\">200</span>);</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">            <span class=\"comment\">// 重新显示页面</span></span><br><span class=\"line\">            <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page-main\"</span>).style.opacity = <span class=\"number\">1</span>;</span><br><span class=\"line\">            loading.remove();</span><br><span class=\"line\">        }, <span class=\"number\">1000</span>);</span><br><span class=\"line\">    } <span class=\"keyword\">catch</span>(e) {</span><br><span class=\"line\">        <span class=\"comment\">// 有报错 直接跳转</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.warn(e);</span><br><span class=\"line\">        <span class=\"built_in\">window</span>.location.href = path;</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>如果使用 <code>window.location.href</code> 修改，那么页面就会刷新。<br>为了实现无刷新跳转，必须要使用 <code>pushState()</code> 更改。</p>\n<p>执行 JavaScript 方面使用 <code>eval()</code> 函数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 组合 state</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> state = { <span class=\"attr\">title</span>: <span class=\"string\">''</span>, <span class=\"attr\">url</span>: <span class=\"built_in\">window</span>.location.href.split(<span class=\"string\">\"?\"</span>)[<span class=\"number\">0</span>] };</span><br><span class=\"line\"><span class=\"comment\">// 利用 history.pushState() 修改地址栏而不跳转</span></span><br><span class=\"line\">history.pushState(state, <span class=\"string\">''</span>, path);</span><br><span class=\"line\"><span class=\"comment\">// 修改页面标题</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.title = pageData.title;</span><br><span class=\"line\"><span class=\"comment\">// 滚动到页面顶部</span></span><br><span class=\"line\"><span class=\"built_in\">window</span>.scrollTo({<span class=\"attr\">top</span>: <span class=\"number\">0</span>, <span class=\"attr\">behavior</span>: <span class=\"string\">\"smooth\"</span>});</span><br><span class=\"line\"><span class=\"comment\">// 写入 HTML</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page-main\"</span>).innerHTML = pageData.page;</span><br><span class=\"line\"><span class=\"built_in\">window</span>.onscroll = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> pageData.extraJS) {</span><br><span class=\"line\">  <span class=\"keyword\">try</span> {</span><br><span class=\"line\">    <span class=\"comment\">// eval() 执行 JS</span></span><br><span class=\"line\">    <span class=\"built_in\">eval</span>(pageData.extraJS[i]);</span><br><span class=\"line\">  } <span class=\"keyword\">catch</span>(e) {}</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h3>\n<a href=\"https://blog.yfun.top/#Prefetch-amp-Refetch\" class=\"headerlink\" title=\"Prefetch &amp; Refetch\"></a>Prefetch &amp; Refetch</h3>\n<p>此处借鉴乐特关于 Prefetch Page 的源码，当用户打开节流模式或为低速网络时就不要 Prefetch.</p>\n<p>Prefetch 可以提前缓存部分数据。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> $pjax_prefetch = <span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">    <span class=\"comment\">// 节流和低速网络不要 Prefetch</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> nav = navigator;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> { saveData, effectiveType } = nav.connection || nav.mozConnection || nav.webkitConnection || {};</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (saveData || <span class=\"regexp\">/2g/</span>.test(effectiveType)) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 此处是 Blog 的一些常见链接</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> posts_list = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">\".index-header a\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> posts_list) {</span><br><span class=\"line\">        <span class=\"comment\">// 全路径</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> thisLink = $pjax_fullpath(posts_list[i].href);</span><br><span class=\"line\">        <span class=\"comment\">// Session Storage 没有才 Fetch</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!sessionStorage.getItem(thisLink)) {</span><br><span class=\"line\">            fetch(thisLink + <span class=\"string\">\".page.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">                sessionStorage.setItem(thisLink,res);</span><br><span class=\"line\">            });</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>Refetch 用于刷新已有的缓存（虽然 <code>SessionStorage</code> 关闭页面就没了）</p>\n<p>其原理也很简单，<code>SessionStorage</code> 中所有的 Pjax 缓存重新获取就完事了。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> $pjax_refetch = <span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sst = sessionStorage;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">in</span> sst) {</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i.startsWith(<span class=\"string\">\"http://\"</span>) || i.startsWith(<span class=\"string\">\"https://\"</span>)) {</span><br><span class=\"line\">            fetch(i + <span class=\"string\">\".page.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">                sessionStorage.setItem(i, res);</span><br><span class=\"line\">            });</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h3>\n<a href=\"https://blog.yfun.top/#%E4%B8%80%E4%BA%9B%E4%BC%98%E5%8C%96\" class=\"headerlink\" title=\"一些优化\"></a>一些优化</h3>\n<h4>\n<a href=\"https://blog.yfun.top/#Prefetch-CSS-%E6%96%87%E4%BB%B6\" class=\"headerlink\" title=\"Prefetch CSS 文件\"></a>Prefetch CSS 文件</h4>\n<p>既然 CSS 文件需要补齐，那么打开页面 5s 后自动 Prefetch 可以提升速度。</p>\n<blockquote><p>5s 后再获取是为了防止阻塞页面。</p></blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">    <span class=\"comment\">// Prefetch CSS 文件</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"search_css\"</span>)) {</span><br><span class=\"line\">        fetch(<span class=\"string\">\"/css/search.css\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">            <span class=\"keyword\">let</span> ele = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"style\"</span>)</span><br><span class=\"line\">            ele.innerHTML = res;</span><br><span class=\"line\">            ele.id = <span class=\"string\">\"search_css\"</span>;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.body.appendChild(ele);</span><br><span class=\"line\">        });</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"page_css\"</span>)) {</span><br><span class=\"line\">        fetch(<span class=\"string\">\"/css/page.css\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.text()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">            <span class=\"keyword\">let</span> ele = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"style\"</span>)</span><br><span class=\"line\">            ele.innerHTML = res;</span><br><span class=\"line\">            ele.id = <span class=\"string\">\"page_css\"</span>;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.body.appendChild(ele);</span><br><span class=\"line\">        });</span><br><span class=\"line\">    }    </span><br><span class=\"line\">}, <span class=\"number\">5000</span>);</span><br></pre></td></tr></table></figure><h4>\n<a href=\"https://blog.yfun.top/#%E5%85%B3%E4%BA%8E-Robots\" class=\"headerlink\" title=\"关于 Robots\"></a>关于 Robots</h4>\n<p>当你运行 <code>$pjax_convertAllLinks();</code> 后，你肯定会发现所有的链接都变成了 <code>javascript:$pjax_jump('/xxx');</code>。这对机器人来说很不友好。</p>\n<p>所以，我们需要排除这些机器人。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> runningOnBrowser = <span class=\"keyword\">typeof</span> <span class=\"built_in\">window</span> !== <span class=\"string\">\"undefined\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> isBot = runningOnBrowser &amp;&amp; !(<span class=\"string\">\"onscroll\"</span> <span class=\"keyword\">in</span> <span class=\"built_in\">window</span>) || <span class=\"keyword\">typeof</span> navigator !== <span class=\"string\">\"undefined\"</span> &amp;&amp; <span class=\"regexp\">/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i</span>.test(navigator.userAgent);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (runningOnBrowser &amp;&amp; !isBot) {</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">        <span class=\"keyword\">try</span>{$pjax_prefetch();}<span class=\"keyword\">catch</span>(e){}</span><br><span class=\"line\">        $pjax_convertAllLinks();</span><br><span class=\"line\">    }, <span class=\"number\">100</span>);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%80%E5%90%8E\" class=\"headerlink\" title=\"最后\"></a>最后</h2>\n<p>在启用 Pjax 后，YFun's Blog 传输大小理论上最高缩小 3/4，性能速度均有提升。</p>\n<p>如果你也在使用 Pjax，不妨试试看。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E8%BF%98%E6%9C%89%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF\" class=\"headerlink\" title=\"还有一些错误\"></a>还有一些错误</h2>\n<p>如果你定义了 <code>onload</code> 等事件，页面没有刷新即代表没有变化，你需要在 <code>$pjax_jump()</code> 中简单清除一下这些信息。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%B9%BF%E5%91%8A%E6%97%B6%E9%97%B4\" class=\"headerlink\" title=\"广告时间\"></a>广告时间</h2>\n<p>我的博客即将同步至腾讯云开发者社区，邀请大家一同入驻：<a href=\"https://cloud.tencent.com/developer/support-plan?invite_code=16qkaef2qdvzm\">https://cloud.tencent.com/developer/support-plan?invite_code=16qkaef2qdvzm</a></p>\n","link":"https://blog.yfun.top/posts/2022/pjax/"},{"title":"抛弃静态博客的缺点，用 ESHexoN 在线编辑！","date":"2022-12-04 16:00:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%BB%80%E4%B9%88%E6%98%AF-ESHexoN\" class=\"headerlink\" title=\"什么是 ESHexoN?\"></a>什么是 ESHexoN?</h2>\n<blockquote><p>ESHexoN 是一款简洁、强大的 Hexo 在线编辑器。</p></blockquote>\n<p>其灵感来自于 <a href=\"https://github.com/HexoPlusPlus/HexoPlusPlus\">HexoPlusPlus/HexoPlusPlus</a> (基于 Cloudflare Workers 的无服务器 Hexo 后端)</p>\n<p>但是，遗憾的是 HPP 突然停止维护，只留下一个 <a href=\"https://github.com/Wexagonal/Wexagonal\">Wexagonal</a>。</p>\n<blockquote><p>However, 这更新速度也太慢了啊喂~</p></blockquote>\n<p><a href=\"https://github.com/Qexo/Qexo\">Qexo</a> 也是一个很不错的项目，但是它基于 Python + MongoDB，不属于我擅长的技术栈，有点劝退。</p>\n<p>于是，ESHexoN 诞生了。它致力于使用 JavaScript Edge Function 构建 Hexo「后端」，实现普通静态博客所不具备的功能，解决大部分静态博客的痛点。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-ESHexoN\" class=\"headerlink\" title=\"如何使用 ESHexoN?\"></a>如何使用 ESHexoN?</h2>\n<blockquote><p>ESHexoN 的使用说明可以参见文档 --&gt; <a href=\"https://eshexon-docs.netlify.app/\">文档链接</a></p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#ESHexoN-%E4%BB%A3%E7%A0%81-amp-%E5%8E%9F%E7%90%86\" class=\"headerlink\" title=\"ESHexoN 代码 &amp; 原理\"></a>ESHexoN 代码 &amp; 原理</h2>\n<h3>\n<a href=\"https://blog.yfun.top/#%E4%BB%A3%E7%A0%81%E7%9B%AE%E5%BD%95\" class=\"headerlink\" title=\"代码目录\"></a>代码目录</h3>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205115647.png\"></p>\n<p><code>dist</code> 目录存放构建的文件，<code>src</code> 目录为源码，<code>tools</code> 是一些工具，<code>index.js</code> 则为入口文件。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E5%90%8E%E7%AB%AF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%87%E4%BB%B6\" class=\"headerlink\" title=\"后端的主要文件\"></a>后端的主要文件</h3>\n<h4>\n<a href=\"https://blog.yfun.top/#src-res-js\" class=\"headerlink\" title=\"src/res.js\"></a><code>src/res.js</code>\n</h4>\n<p><code>res.js</code> 主要负责 HTTP 响应输出，统一输出格式。</p>\n<p>故 ESHexoN API 主要返回格式为:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"attr\">\"statusCode\"</span>: <span class=\"string\">\"...\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"statusInfo\"</span>: <span class=\"string\">\"...\"</span></span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p><a href=\"https://github.com/ESHexoN/ESHexoN/blob/master/src/res.js\">[Source Code]</a></p>\n<h4>\n<a href=\"https://blog.yfun.top/#src-check-token-js\" class=\"headerlink\" title=\"src/check_token.js\"></a><code>src/check_token.js</code>\n</h4>\n<p><code>check_token.js</code> 主要负责 API 请求的鉴权，所有的鉴权 API 都需要携带 <code>token</code> 发送。</p>\n<p>生成代码：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> token = md5(userdata[<span class=\"number\">0</span>].username + userdata[<span class=\"number\">0</span>].password + <span class=\"string\">`<span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"built_in\">Date</span>.now()).getFullYear()}</span><span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"built_in\">Date</span>.now()).getMonth()+<span class=\"number\">1</span>}</span>`</span>);</span><br></pre></td></tr></table></figure><p>故 ESHexoN Token 格式为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">md5(USERNAME+PASSWORD+YEAR+MONTH);</span><br></pre></td></tr></table></figure><p>过期时间为一个月。</p>\n<h4>\n<a href=\"https://blog.yfun.top/#src-env-js\" class=\"headerlink\" title=\"src/env.js\"></a><code>src/env.js</code>\n</h4>\n<p>ESHexoN 除了依靠 <a href=\"https://github.com/yfun-lab/gh-worker-kv\">yfun-lab/gh-worker-kv</a> 存储主要数据库文件外，还使用环境变量存储基本的 Token、仓库等。</p>\n<p>ESHexoN 自设计之初就预备支持 Cloudflare Workers, Deno 等平台。</p>\n<p>事实上，这两个平台获取环境变量的方式根本不一样。为了在一个代码下同时支持两个平台，<code>env.js</code> 简单的写了个判断。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205120944.png\"></p>\n<h4>\n<a href=\"https://blog.yfun.top/#%E6%98%AF%E4%B8%8D%E6%98%AF%E7%9B%AE%E5%BD%95%EF%BC%9F%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86\" class=\"headerlink\" title=\"是不是目录？文件遍历\"></a>是不是目录？文件遍历</h4>\n<p>GitHub API 会返回当前目录下的文件和文件夹，但有人的 <code>source/_posts</code> 目录下还有文件夹。根据观察发现，文件夹的 <code>type</code> 为 <code>dir</code>，而普通文件为 <code>file</code>，那么只需要一个简单的判断，就可以返回单个目录下所有文件。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205121416.png\"></p>\n<h4>\n<a href=\"https://blog.yfun.top/#%E5%86%99%E6%96%87%E4%BB%B6\" class=\"headerlink\" title=\"写文件\"></a>写文件</h4>\n<p>在写文件之前，我们需要先获取该文件的 <code>sha</code> 值。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205121728.png\"></p>\n<blockquote><p>这是因为 GitHub 规定修改文件必须在 <code>body</code> 中携带源文件 <code>sha</code>.</p></blockquote>\n<p>同时，文件还必须接受 Base64 编码。这个问题很好解决，ESHexoN 的仓库依赖中已经包含。当然，我更倾向于在前端编码文本，在后端直接 PUT。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E9%82%A3%E5%89%8D%E7%AB%AF%E5%91%A2%EF%BC%9F\" class=\"headerlink\" title=\"那前端呢？\"></a>那前端呢？</h3>\n<p>以上是后端的主要代码。因为 ESHexoN 是前后端分离项目，并且开放跨域，所以我们构建了一个官方前端。只需要输入你的用户名、密码和后端地址就可以开始使用。</p>\n<p>前端的代码也是开源的，基于 Vue + Vuetify 构建，<a href=\"https://github.com/ESHexoN/eshexon-frontend\">在 GitHub 上查看它</a></p>\n<h4>\n<a href=\"https://blog.yfun.top/#%E4%B8%80%E4%BA%9B%E5%B0%8F%E7%BB%86%E8%8A%82\" class=\"headerlink\" title=\"一些小细节\"></a>一些小细节</h4>\n<p>早在 HexoPlusPlus <code>dev</code> 阶段的时候，ChenYFan 就在群内讨论如何解决 Markdown 编辑器的问题。在当时，EditorMD 的兼容性很差。于是，HPP 上采取的解决方案是：<code>textarea</code> + <code>marked.js</code>。</p>\n<p>然后，HPP 编辑器就是这样的：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205122539.png\"></p>\n<p>这并不是一个很好的主意。</p>\n<p>于是在 ESHexoN 上，我们为 Hexo 特性定制了一款简单的编辑器。</p>\n<p>首先，它是由 <a href=\"https://yfun.top/lab/markdown/\">https://yfun.top/lab/markdown/</a> 修改而来的，在部分特性上与其类似。</p>\n<p>但是受限于页面尺寸和小屏幕优化，ESHexoN 的编辑器在大屏上是这样显示的：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205122828.png\"></p>\n<p>双栏布局，实时预览。</p>\n<p>为了保证在小屏幕的体验，在小屏幕上将自动收起预览，改为全屏模式。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205122955.png\"></p>\n<p>如果需要预览，可以点击「预览」按键。</p>\n<p>同时 ESHexoN 的编辑器有自动保存功能，即使写到一半刷新页面或是浏览器崩溃也不用怕，页面内容已经存储到 <code>localStorage</code> 内了。（我也不知道会不会撑炸</p>\n<p>一些基本的搜索功能都得以保留（与 HPP 是十分甚至九分的类似</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205123316.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205123356.png\"></p>\n<p>不仅仅局限于文章，配置文件、代码都可以修改：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.17/rawimg/20221205123427.png\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%9C%A8%E6%9C%AA%E6%9D%A5\" class=\"headerlink\" title=\"在未来\"></a>在未来</h2>\n<p>目前 ESHexoN 还处于 Beta 阶段，部分功能还没有开发完成。</p>\n<p>关于说说、评论等也都在等待开发（最近可能不会有）</p>\n<p>如果在使用中出现了任何的问题，欢迎提 Issue 反馈。</p>\n","link":"https://blog.yfun.top/posts/2022/eshexon/"},{"title":"让阅读无缝衔接 —— JS 获取用户阅读进度","date":"2022-11-11 16:40:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p>很多博客中最常见的问题就是：文章很长，但是读者很忙。下次阅读的时候，可能要花一些时间才能恢复到先前的阅读位置。</p>\n<p>如果可以设备间，识别二维码或是一个链接就可以让阅读无缝衔接，直接跳转到相应位置，那么阅读体验就会变得更加优秀。</p>\n<p>那么，开始吧！</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%9E%E8%B7%B5\" class=\"headerlink\" title=\"实践\"></a>实践</h2>\n<p>要知道阅读位置，那么就要知道当前页面的坐标。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getScrollPosition = <span class=\"function\">(<span class=\"params\">el = <span class=\"built_in\">window</span></span>) =&gt;</span> ({</span><br><span class=\"line\">    x: el.pageXOffset !== <span class=\"literal\">undefined</span> ? el.pageXOffset : el.scrollLeft,</span><br><span class=\"line\">    y: el.pageYOffset !== <span class=\"literal\">undefined</span> ? el.pageYOffset : el.scrollTop</span><br><span class=\"line\">});</span><br><span class=\"line\"><span class=\"comment\">// getScollPosition().x =&gt; 页面横坐标; getScrollPosition().y =&gt; 页面纵坐标;</span></span><br></pre></td></tr></table></figure><p>大部分情况下，我们只用关注纵坐标。横坐标大概率为 <code>0</code>。</p>\n<p>我们还需要一个页面滚动的事件，用于记录当前坐标，并储存在临时存储中。</p>\n<p>至于为什么是 <code>sessionStorage</code> 而不是 <code>localStorage</code>，则是因为 <code>localStorage</code> 除手动清除外，不会自动过期。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 此处的 750 是「页面元素的最大宽度」</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> wx = <span class=\"built_in\">window</span>.innerWidth &gt;= <span class=\"number\">750</span> ? <span class=\"number\">750</span> : <span class=\"built_in\">window</span>.innerWidth;</span><br><span class=\"line\"><span class=\"keyword\">var</span> wy = <span class=\"built_in\">window</span>.innerHeight;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">windowScroll</span>(<span class=\"params\"></span>) </span>{</span><br><span class=\"line\">    <span class=\"comment\">// 反复修改 确保页面尺寸不改变</span></span><br><span class=\"line\">    wx = <span class=\"built_in\">window</span>.innerWidth &gt;= <span class=\"number\">750</span> ? <span class=\"number\">750</span> : <span class=\"built_in\">window</span>.innerWidth;</span><br><span class=\"line\">    wy = <span class=\"built_in\">window</span>.innerHeight;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> y = <span class=\"built_in\">Math</span>.round(getScrollPosition().y);</span><br><span class=\"line\">    <span class=\"comment\">// 组合字符串，同时记录页面坐标，页面宽度和高度</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> p = <span class=\"string\">`<span class=\"subst\">${y}</span>:<span class=\"subst\">${wx}</span>:<span class=\"subst\">${wy}</span>`</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 写入到 sessionStorage 中</span></span><br><span class=\"line\">    sessionStorage.setItem(<span class=\"string\">\"read_y\"</span>, p);</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"built_in\">window</span>.onscroll = windowScroll;</span><br></pre></td></tr></table></figure><p>你可能发现了，此处的变量 <code>p</code>，并不仅仅是「页面纵坐标」，而是「页面高度」与「纵坐标」的组合字符串。</p>\n<p>事实上，如果单纯是纵坐标判断位置，那么在不同高度，不同宽度的设备上，就会出现错位的情况。而同时记录三个信息，就可以还原真实坐标。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// URL 中是否包含传递的坐标信息</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (location.hash.split(<span class=\"string\">\"#read=\"</span>).length &gt; <span class=\"number\">1</span>) {</span><br><span class=\"line\">    <span class=\"comment\">// 分离字符串</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> read_y = location.hash.split(<span class=\"string\">\"#read=\"</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">    read_y = read_y.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 组合乘积，顺滑移动至坐标</span></span><br><span class=\"line\">    <span class=\"built_in\">window</span>.scrollTo({<span class=\"attr\">top</span>: <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Number</span>(read_y[<span class=\"number\">0</span>]) * <span class=\"built_in\">Number</span>(read_y[<span class=\"number\">1</span>] * <span class=\"built_in\">Number</span>(read_y[<span class=\"number\">2</span>] / wx / wy))), <span class=\"attr\">behavior</span>: <span class=\"string\">\"smooth\"</span>});</span><br><span class=\"line\">} <span class=\"keyword\">else</span> {</span><br><span class=\"line\">    <span class=\"comment\">// 从 sessionStorage 中获取</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> read_y = sessionStorage.getItem(<span class=\"string\">\"read_y\"</span>) || <span class=\"string\">\"0:0:0\"</span>;</span><br><span class=\"line\">    read_y = read_y.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">window</span>.scrollTo({<span class=\"attr\">top</span>: <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Number</span>(read_y[<span class=\"number\">0</span>]) * <span class=\"built_in\">Number</span>(read_y[<span class=\"number\">1</span>] * <span class=\"built_in\">Number</span>(read_y[<span class=\"number\">2</span>] / wx / wy))), <span class=\"attr\">behavior</span>: <span class=\"string\">\"smooth\"</span>});</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>到现在，我们已经完成了 URL 的解析和基本生成。</p>\n<p>那么，URL 即为:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">`<span class=\"subst\">${location.protocol}</span>//<span class=\"subst\">${location.hostname}</span><span class=\"subst\">${location.port ? <span class=\"string\">\":\"</span>+location.port:location.port}</span><span class=\"subst\">${location.pathname}</span>#read=<span class=\"subst\">${sessionStorage.getItem(<span class=\"string\">\"read_y\"</span>)}</span>`</span>;</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%80%E5%90%8E\" class=\"headerlink\" title=\"最后\"></a>最后</h2>\n<p>搭配生成二维码等插件效果更佳。</p>\n<blockquote><p>Miracle 主题将在下个版本中更新该功能。</p></blockquote>\n","link":"https://blog.yfun.top/posts/2022/js-get-users-reading-progress/"},{"title":"React 为什么重新渲染","date":"2022-09-06 08:29:00","description":"\n<p>更新（重新渲染）是 React 的重要特性 —— 当用户与应用交互的时候，React 需要重新渲染、更新 UI，以响应用户的输入。但是，React 为什么会重新渲染呢？如果不知道 React 为什么会重新渲染，我们如何才能避免额外的重新渲染呢？</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/186432/20/28325/37613/631725bbEf2ff226e/66b99021df66578b.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/react-re-renders-101/\">https://blog.skk.moe/post/react-re-renders-101/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/react-re-renders-101/"},{"title":"为什么你不应该在 React 中直接使用 useEffect 从 API 获取数据","date":"2022-08-19 08:53:00","description":"\n<p>React 是一个由 Facebook 开源的、可以在任意平台上构建 UI 的 JavaScript 库。在 React 中，一个常见的 Pattern 是使用 <code>useEffect</code> 搭配 <code>useState</code> 发送请求、将状态从 API（React 外部）同步到 React 内部、用于渲染 UI，这篇文章恰恰在向你介绍为什么你不应该直接这么做。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/180676/37/27394/27265/62ff57f2E600b3725/cff75c5fca39bbcc.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/\">https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/"},{"title":"NPM 自动更新版本号","date":"2022-08-04 05:00:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p>ChenYFan 大佬的文章：<a href=\"https://blog.cyfan.top/p/d3c51290.html\">SpeedUp!使用黑科技为你的网站提速</a> 有提到过将 Hexo 博客的全部静态文件上传至 NPM 达到加速效果。</p>\n<p>但是 NPM 版本号不能重复，而且为了精准命中缓存和防止边缘 <code>@latest</code> 缓存过长，就必须指定版本号。</p>\n<p>本人在 <a href=\"https://blog.yfun.top/posts/2876015612/\">我的图床解决方案</a> 一文中使用的方法是 <code>npm version patch</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.16/rawimg/20220804133426.png\"></p>\n<p>但这个方法也有一些弊端，比如 <code>patch</code> 只会更新 <code>z</code> 位数的版本号，而且并不会上传至仓库，很可能会出现版本号冲突导致上传失败。这就是为什么最后还需要重新推送 Git 提交。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E8%AF%95%E8%AF%95%E7%9C%8B\" class=\"headerlink\" title=\"试试看\"></a>试试看</h2>\n<p>NPM 版本号遵循 <code>semver</code> 规范，格式为 <code>major.minor.patch</code>。</p>\n<p>为了在获取最新版本号的时候不发生混乱，我选择先获取最新的版本号。</p>\n<blockquote><p>记得把 <code>cky-blog-static</code> 改成自己的项目名。</p></blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getVersion = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> latestVersion = <span class=\"keyword\">await</span> fetch(<span class=\"string\">\"https://registry.npmjs.org/cky-blog-static/latest\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.version;</span><br><span class=\"line\">    })</span><br><span class=\"line\">    <span class=\"keyword\">return</span> latestVersion;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>获取到最新版本号后，就可以对版本号进行分析。</p>\n<p>以 <code>1.4.7-b541af2ea284a39da0bbf63b88fdb65c</code> 为例，先按 <code>major.minor.patch</code> 分离。当然，也需要考虑版本号后还有 <code>build metadata</code> 的情况。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> version = <span class=\"keyword\">await</span> getVersion();</span><br><span class=\"line\"><span class=\"keyword\">var</span> verArray = version.split(<span class=\"string\">\".\"</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = verArray[<span class=\"number\">2</span>].split(<span class=\"string\">\"-\"</span>)[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure><p><del>为了版本号好看些</del>，可以通过判断实现满十进一。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (verArray[<span class=\"number\">2</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\"><span class=\"comment\">// z 位小于 9，直接 +1</span></span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">2</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">} <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (verArray[<span class=\"number\">1</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\"><span class=\"comment\">// z 位大于等于 9，y 位小于 9，y+1, z=0</span></span><br><span class=\"line\">verArray[<span class=\"number\">1</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">1</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">} <span class=\"keyword\">else</span> {</span><br><span class=\"line\"><span class=\"comment\">// z 大于等于 9，y 大于等于 9，x+1,y=0,z=0</span></span><br><span class=\"line\">verArray[<span class=\"number\">0</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">0</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>最后，重新拼接版本号。如果担心服务器缓存版本号导致冲突，还可以加上一些随机字符串。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> newVersion = <span class=\"string\">`<span class=\"subst\">${verArray[<span class=\"number\">0</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">1</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">2</span>]}</span>`</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newVersion = newVersion + <span class=\"string\">\"-\"</span> + md5(<span class=\"string\">`<span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()}</span><span class=\"subst\">${newVersion}</span>`</span>);</span><br></pre></td></tr></table></figure><p>将最新的版本号信息重新写入 <code>package.json</code> 文件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> packageJson = fs.readFileSync(<span class=\"string\">\"./package.json\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> packageJson = <span class=\"built_in\">JSON</span>.parse(packageJson);</span><br><span class=\"line\">packageJson.version = newVersion;</span><br><span class=\"line\"><span class=\"keyword\">var</span> newPackage = <span class=\"built_in\">JSON</span>.stringify(packageJson);</span><br><span class=\"line\">fs.writeFileSync(<span class=\"string\">\"./package.json\"</span>, newPackage);</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E4%BB%A3%E7%A0%81\" class=\"headerlink\" title=\"代码\"></a>代码</h2>\n<p><del>直接 CV 代码！</del></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 更新 package.json 版本号</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> fetch = <span class=\"built_in\">require</span>(<span class=\"string\">\"node-fetch\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> md5 = <span class=\"built_in\">require</span>(<span class=\"string\">\"js-md5\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getVersion = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> latestVersion = <span class=\"keyword\">await</span> fetch(<span class=\"string\">\"https://registry.npmjs.org/cky-blog-static/latest\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.version;</span><br><span class=\"line\">    })</span><br><span class=\"line\">    <span class=\"keyword\">return</span> latestVersion;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> update = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> version = <span class=\"keyword\">await</span> getVersion();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> verArray = version.split(<span class=\"string\">\".\"</span>);</span><br><span class=\"line\">    verArray[<span class=\"number\">2</span>] = verArray[<span class=\"number\">2</span>].split(<span class=\"string\">\"-\"</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (verArray[<span class=\"number\">2</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">2</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">    } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (verArray[<span class=\"number\">1</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\">        verArray[<span class=\"number\">1</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">1</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">        verArray[<span class=\"number\">0</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">0</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">        verArray[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">var</span> newVersion = <span class=\"string\">`<span class=\"subst\">${verArray[<span class=\"number\">0</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">1</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">2</span>]}</span>`</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> newVersion = newVersion + <span class=\"string\">\"-\"</span> + md5(<span class=\"string\">`<span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()}</span><span class=\"subst\">${newVersion}</span>`</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(newVersion);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> packageJson = fs.readFileSync(<span class=\"string\">\"./package.json\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> packageJson = <span class=\"built_in\">JSON</span>.parse(packageJson);</span><br><span class=\"line\">    packageJson.version = newVersion;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> newPackage = <span class=\"built_in\">JSON</span>.stringify(packageJson);</span><br><span class=\"line\">    fs.writeFileSync(<span class=\"string\">\"./package.json\"</span>, newPackage);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Complete!!\"</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">update();</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%80%E5%90%8E\" class=\"headerlink\" title=\"最后\"></a>最后</h2>\n<p>如果是 Hexo 文件部署，就可以直接把文件直接丢在项目根目录，Action 集成部署加上：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">node update.js</span><br></pre></td></tr></table></figure><p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.16/rawimg/20220804135818.png\"></p>\n<p><del>Blog 半年没更新，除除草 --(....</del></p>\n","link":"https://blog.yfun.top/posts/2022/auto-update-npm-version/"},{"title":"我有特别的 DNS 配置和使用技巧","date":"2022-07-28 15:31:00","description":"\n<p>众所周知，DNS 的作用与电话簿类似，将人类可读的域名映射到机器可读 IP 地址、使人更方便地访问互联网。DNS 是非常重要的互联网基础设施，对于改善上网冲浪的体验中的重要程度不容小觑。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/96381/31/31172/23930/62e2ab5bE554d388b/37027f4a03351b9e.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/i-have-my-unique-dns-setup/\">https://blog.skk.moe/post/i-have-my-unique-dns-setup/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/i-have-my-unique-dns-setup/"},{"title":"优化博客的累计布局偏移（CLS）问题","date":"2022-06-07 17:24:00","description":"\n<p>距离上一篇文章发布已有四个月了，是时候写几篇文章给博客除草了。上一次我介绍了我如何迁移、重构了我的博客的架构，这次我想来谈谈我在重构中优化和打磨访客体验时解决的一个问题。我的博客优化之旅 图片 lazyload 的学问和在 Hexo 上的最佳实践 我的博客有多快？ 天下武功，唯快不破 —— 我是这样优化博客的 ...</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/206311/26/14625/38940/629f7f81Eb11312de/b1e67f07b1cc9bc7.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/fix-blog-cls/\">https://blog.skk.moe/post/fix-blog-cls/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/fix-blog-cls/"},{"title":"使用 Next.js + Hexo 重构我的博客","date":"2022-03-17 16:24:00","description":"\n<p>在咕咕了一整年、只发布了三篇文章（其中两篇还是译文）之后，我决定还是稍微花一点时间好好折腾一下自己的博客，以 React 作为抓手，通过 Next.js 和 Hexo 深度共建，对标 Gatsby，打通静态 HTML 与用户交互之间的垂直领域屏障，实现多维矩阵闭环，为个人博客赋能（咳咳咳），然后水出 2022 年第一篇文章（逃）技术选型：Gatsby vs Next.js我使用 Hexo 驱动博客已经三年之久了，之前写过一个 开源的 Hexo 主题，后来还成为了 Hexo 的 Core Team Member、为 Hexo 贡献了不少代码。Hexo 是一个诞生于 2012......</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/218492/18/14257/25439/6227858fE1517791d/63119f6e39dc9389.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/\">https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/"},{"title":"在 Windows 上快速安装 Hexo · 安装 Node.js","date":"2022-01-14 10:30:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p><strong>本文未经允许，禁止转载！</strong></p>\n<p><strong>视频教程正在制作，等待更新。</strong></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95\" class=\"headerlink\" title=\"文章目录\"></a>文章目录</h2>\n<ul>\n<li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-git\">安装 Git</a></li>\n<li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-nodejs\">安装 Node.js</a></li>\n</ul>\n<blockquote><p>更多文章等待更新...</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%8B%E8%BD%BD\" class=\"headerlink\" title=\"下载\"></a>下载</h2>\n<p>前往 Node.js 官网 (<a href=\"https://node.js.org/\">https://node.js.org</a>)</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/image-20220114174925675.png\" alt=\"image-20220114174925675\"></p>\n<p>下载 Node.js 安装包（推荐下载 LTS 版本）</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175645.png\" alt=\"image-20220114175645642\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<p>双击运行安装文件。</p>\n<p>点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175750.png\" alt=\"image-20220114175749822\"></p>\n<p>勾选同意协议，点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175835.png\" alt=\"image-20220114175835742\"></p>\n<p>修改文件安装位置，点击 <code>Next</code>。（也可以不用改）</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175929.png\" alt=\"image-20220114175929226\"></p>\n<p>点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180010.png\" alt=\"image-20220114180010036\"></p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180044.png\" alt=\"image-20220114180043895\"></p>\n<p>点击 <code>Install</code> 开始安装。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180108.png\" alt=\"image-20220114180107827\"></p>\n<p>等待安装完成。<img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180122.png\" alt=\"image-20220114180122728\"></p>\n<p>点击 <code>Finish</code> 完成安装。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180206.png\" alt=\"image-20220114180206024\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%B5%8B%E8%AF%95\" class=\"headerlink\" title=\"测试\"></a>测试</h2>\n<p>打开 <code>Git Bash</code>.</p>\n<blockquote><p>在文件夹处右击，点击 <code>Git Bash Here</code> 进入 Git Bash。<br>或是在开始菜单中找到 Git Bash.</p></blockquote>\n<p>输入 <code>node -v</code> 和 <code>npm -v</code> 查看版本，正确输出版本信息即代表安装成功。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180458.png\" alt=\"image-20220114180458685\"></p>\n","link":"https://blog.yfun.top/posts/hexo-blog/install-nodejs/"},{"title":"2022: 新年快乐！","date":"2021-12-31 16:00:00","description":"\n<p>转眼间，2021 年已经过去。这一年非常忙碌，以至于博客一周年的纪念来不及写，许多文章计划停留在了 To Do 里。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%8D%9A%E5%AE%A2\" class=\"headerlink\" title=\"博客\"></a>博客</h2>\n<p>由于 Cloudflare Web Analytics 是在 2021 年 4 月份启用的，再加上后来又将统计代码去除，所以关于访问量的信息不可用。</p>\n<p>截止至 2021 年 12 月 31 日，博客共发布 15 篇文章，其中 2021 年发布 11 篇文章，原创文章 10 篇。</p>\n<p>目前采用 <code>LeanCloud + Waline</code> 的评论方式，自 7 月份被刷评论后将评论权限改为登录（支持 <code>GitHub</code> 登录），还有部分评论在迁移中丢失，实在抱歉。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%BB%E9%A2%98\" class=\"headerlink\" title=\"主题\"></a>主题</h2>\n<p>博客自 2021 年 1 月 13 日将主题改为 <code>Miracle</code>，这是一款简洁、轻量的单栏 Hexo 主题。</p>\n<p><code>Miralce</code> 目前的版本是 <code>2.0.1</code>，全新的版本去除 jQuery，进一步提升性能。</p>\n<p>GitHub 仓库：<a href=\"https://github.com/hifun-team/hexo-theme-miracle\">https://github.com/hifun-team/hexo-theme-miracle</a></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%9B%B4%E5%A4%9A\" class=\"headerlink\" title=\"更多\"></a>更多</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">=&gt; ...</span><br></pre></td></tr></table></figure>\n","link":"https://blog.yfun.top/posts/2022/"},{"title":"[译] 不，Web3 不是去中心化","date":"2021-12-14 14:01:00","description":"加密货币社区对元宇宙和 Web3 的狂热仍在继续，大量投资人和开发者前仆后继加入其中。但是，Web3 真的能实现支持者们的种种愿景吗？亦或是另一个镜中月、水中花？也许让历史照进现实，能给我们答案。<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/123139/11/24965/54827/62215eedE5e3da14a/80c24408e97057dd.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/web3-is-not-decentralization/\">https://blog.skk.moe/post/web3-is-not-decentralization/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/web3-is-not-decentralization/"},{"title":"[译] 捍卫自由的互联网，对 Web3 说不","date":"2021-12-12 13:40:00","description":"作为一个充满泡沫和噱头的新概念，Web3 和元宇宙在区块链的社区中掀起了一波浪潮。鼓吹者坚信 Web3 就是互联网的未来、不惜砸下大把的金钱和精力、希望能在未来中捞一杯羹；而大部分人保持观望的态度。是时候来一点 Web3 的反对意见了。<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/87908/13/23797/13415/622032afE3a2f9e9f/95c01e98cd4a707a.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/keep-web-free-say-no-to-web3/\">https://blog.skk.moe/post/keep-web-free-say-no-to-web3/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/keep-web-free-say-no-to-web3/"},{"title":"2021 年 JavaScript Promise 性能对比","date":"2021-12-07 08:19:00","description":"\n<p>我们正生活在一个「Any application that can be written in JavaScript, will eventually be written in JavaScript」的时代。作为一门兼具动态性和简单性的语言，JavaScript 已经占领了客户端、服务端，甚至在机器学习中也占据一席之地；不可避免的，异步执行也逐渐成为这门语言不可缺少的一部分。TL; DR Bluebird 依然是速度最快、内存占用最少的 Promise 实现 Runtime 的 async / await 实现越来越快、顺序执行的性能已经超过 Native Promise，占用的内存也更少 对于平行并发执行的 Promise，Bluebird 的性能依然一骑绝尘。......</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/157404/28/28495/143414/622032b2Ef7b495fd/6a9bd02e79392c9d.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/promise-performance-benchmark/\">https://blog.skk.moe/post/promise-performance-benchmark/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/promise-performance-benchmark/"},{"title":"在 Windows 上快速安装 Hexo · 安装 Git","date":"2021-11-12 13:30:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p><strong>本文未经允许，禁止转载！</strong></p>\n<p><strong>视频教程正在制作，等待更新。</strong></p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95\" class=\"headerlink\" title=\"文章目录\"></a>文章目录</h3>\n<ul><li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-git\">安装 Git</a></li></ul>\n<blockquote><p>更多文章等待更新...</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%8B%E8%BD%BD\" class=\"headerlink\" title=\"下载\"></a>下载</h2>\n<p>前往 Git 官网 (<a href=\"https://git-scm.com/\">https://git-scm.com</a>).</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112204849.png\"></p>\n<p>点击页面中的 <code>Download For Windows</code> 下载 Windows 版本。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211507.png\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<p>双击运行安装文件。</p>\n<p>点击 <code>Next</code>，同意协议。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211528.png\"></p>\n<p>修改程序安装位置，点击 <code>Next</code>（直接装在 C 盘也不是不行）。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211604.png\"></p>\n<p>组件选项，可选桌面快捷键、右键菜单、LFS 支持、自动检查更新等。</p>\n<p>点击 <code>Next</code> 进入下一步。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211609.png\"></p>\n<p>开始菜单文件夹名，保持默认就可以，点击 <code>Next</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211613.png\"></p>\n<p>默认编辑器，保持 Vim 就可以，点击 <code>Next</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211616.png\"></p>\n<p>环境变量，选择第 2 个，点击 <code>Next</code>。</p>\n<blockquote><p>如果选择第 1 个，则只能在 Git Bash 中使用，可能会出现问题</p></blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211619.png\"></p>\n<p>剩下的都可以保持默认，一路 Next，然后点击 <code>Install</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211622.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211624.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211627.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211630.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211633.png\"></p>\n<p>等待安装完毕。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%B5%8B%E8%AF%95\" class=\"headerlink\" title=\"测试\"></a>测试</h2>\n<p>在文件夹处右击，点击 <code>Git Bash Here</code> 进入 Git Bash。</p>\n<p>（或是在开始菜单中找到 Git Bash）</p>\n<p>输入 <code>git --version</code> 查看版本，正确输出版本信息即代表安装成功。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/7ec315b7764cc.png\"></p>\n<p>大功告成！</p>\n","link":"https://blog.yfun.top/posts/hexo-blog/install-git/"},{"title":"使用 Python 爬取故宫壁纸","date":"2021-07-17 05:55:00","description":"\n<p>我非常喜欢故宫壁纸，但是一张一张下载的速度就太慢了。</p>\n<p>于是，我就写了个简单的 Python 小程序自动爬取故宫壁纸。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%BB%A3%E7%A0%81\" class=\"headerlink\" title=\"代码\"></a>代码</h2>\n<p>首先，我们通过简单的查看，知道故宫壁纸的页面并没有使用 JavaScript 载入。</p>\n<p>但是故宫壁纸很多，所以还需要分类。</p>\n<p>故宫壁纸大多都是以分类开头，如 <code>爱上紫禁城 紫藤</code>, <code>清   虚谷紫藤金鱼图轴（局部）</code> 等等，所以一般只需要做个简单的 <code>startswith()</code> 判断就 OK 了。</p>\n<p>很多壁纸的标题都是一样的，所以还可以使用 <code>random</code> 库在文件名末尾追加一个随机数。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests, bs4, time, random</span><br><span class=\"line\">path = <span class=\"string\">\"./wallpaper/爱上紫禁城\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">catch = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, <span class=\"number\">119</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 组合请求 URL</span></span><br><span class=\"line\">    url = <span class=\"string\">\"https://www.dpm.org.cn/lights/royal/p/{}.html\"</span>.<span class=\"built_in\">format</span>(i)</span><br><span class=\"line\">    <span class=\"comment\"># 发送请求</span></span><br><span class=\"line\">    response = requests.get(url)</span><br><span class=\"line\">    <span class=\"comment\"># 设定页面编码为 UTF-8</span></span><br><span class=\"line\">    response.encoding = <span class=\"string\">\"UTF-8\"</span></span><br><span class=\"line\">    <span class=\"comment\"># 从 HTML 中解析数据</span></span><br><span class=\"line\">    soup = bs4.BeautifulSoup(response.text, <span class=\"string\">\"lxml\"</span>)</span><br><span class=\"line\">    image = soup.find_all(name=<span class=\"string\">\"div\"</span>, class_=<span class=\"string\">\"pic\"</span>)</span><br><span class=\"line\">    <span class=\"comment\"># 循环输出图片</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> image:</span><br><span class=\"line\">        catch = catch + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># 获得壁纸名称</span></span><br><span class=\"line\">        <span class=\"comment\"># 分类，不是以【爱上紫禁城】开头的壁纸都忽略</span></span><br><span class=\"line\">        img_name = n.a.img[<span class=\"string\">\"title\"</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> img_name.startswith(<span class=\"string\">\"明\"</span>):</span><br><span class=\"line\">            print(<span class=\"string\">\"{}. {}\"</span>.<span class=\"built_in\">format</span>(catch, n.a.img[<span class=\"string\">\"title\"</span>]))</span><br><span class=\"line\">            <span class=\"comment\"># 组合获得壁纸页面</span></span><br><span class=\"line\">            url_1080 = <span class=\"string\">\"https://www.dpm.org.cn\"</span> + n.a[<span class=\"string\">\"href\"</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 请求高清版网页</span></span><br><span class=\"line\">            response_img = requests.get(url_1080)</span><br><span class=\"line\">            <span class=\"comment\"># 再次解析</span></span><br><span class=\"line\">            soup_img = bs4.BeautifulSoup(response_img.text, <span class=\"string\">\"lxml\"</span>)</span><br><span class=\"line\">            <span class=\"comment\"># 获取页面中的图片</span></span><br><span class=\"line\">            data = soup_img.find_all(name=<span class=\"string\">\"img\"</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 获得壁纸图片的链接</span></span><br><span class=\"line\">            img_url = data[<span class=\"string\">\"src\"</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 保存图片</span></span><br><span class=\"line\">            pic = requests.get(img_url).content</span><br><span class=\"line\">            file_name = path + img_name + <span class=\"string\">\"-\"</span> + <span class=\"built_in\">str</span>(random.randint(<span class=\"number\">100000</span>, <span class=\"number\">999999</span>)) + <span class=\"string\">\".jpg\"</span></span><br><span class=\"line\">            <span class=\"comment\"># 写入文件</span></span><br><span class=\"line\">            <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(file_name, <span class=\"string\">\"wb\"</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">                file.write(pic)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            print(<span class=\"string\">\"!Ignore: \"</span> + img_name)</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E5%90%8E\" class=\"headerlink\" title=\"后\"></a>后</h2>\n<p>我把一些我下载下来的壁纸放在了 <a href=\"https://t.yfun.top/dpm-wallpaper\">这里</a>，可以直接预览并下载。</p>\n<p><del>OK，又水了一篇文（</del></p>\n","link":"https://blog.yfun.top/posts/2021/dpm-wallpaper/"},{"title":"使用 Prettier 格式化代码","date":"2021-07-15 06:45:00","description":"\n<p>格式化代码可以提高代码的可读性，使代码更加美观。</p>\n<p>Prettier 支持：</p>\n<ul>\n<li>JavaScript (including experimental features)</li>\n<li>JSX</li>\n<li>Angular</li>\n<li>Vue</li>\n<li>Flow</li>\n<li>TypeScript</li>\n<li>CSS, Less, and SCSS</li>\n<li>HTML</li>\n<li>JSON</li>\n<li>GraphQL</li>\n<li>Markdown, including GFM and MDX</li>\n<li>YAML</li>\n</ul>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%8F%92%E4%BB%B6\" class=\"headerlink\" title=\"插件\"></a>插件</h3>\n<p>你可以很方便的在 VSCode 等 IDE 上安装插件，插件名为 <code>Prettier</code>.</p>\n<p>以 VSCode 为例：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.10/rawimg/6a3ad0ea42d55.png\"></p>\n<blockquote><p>如果安装了其他格式化插件，则需要点击 [格式化文档的方式]，选择 <code>Prettier</code>。</p></blockquote>\n<h3>\n<a href=\"https://blog.yfun.top/#CLI\" class=\"headerlink\" title=\"CLI\"></a>CLI</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo npm i -g prettier</span><br></pre></td></tr></table></figure><p>相关的文档可参见官网: <a href=\"https://prettier.io/docs/en/cli.html\">https://prettier.io/docs/en/cli.html</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">prettier --write . <span class=\"comment\"># 格式化当前文件夹的所有文件</span></span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E9%85%8D%E7%BD%AE\" class=\"headerlink\" title=\"配置\"></a>配置</h2>\n<p>参见官方文档：</p>\n<ul>\n<li><p><a href=\"https://prettier.io/docs/en/configuration.html\">https://prettier.io/docs/en/configuration.html</a></p></li>\n<li><p><a href=\"https://prettier.io/docs/en/options.html\">https://prettier.io/docs/en/options.html</a></p></li>\n</ul>\n<p>Prettier 的配置文件有多种写法：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.10/rawimg/a4cc583d84c12.png\"></p>\n<p>以使用 <code>YAML</code> 书写的 <code>.prettierrc</code> 为例：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 单行最长字符数</span></span><br><span class=\"line\"><span class=\"attr\">printWidth:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"comment\"># 制表符长度</span></span><br><span class=\"line\"><span class=\"attr\">tabWidth:</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"comment\"># 是否使用 Tab</span></span><br><span class=\"line\"><span class=\"attr\">useTabs:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"comment\"># 是否加入分号</span></span><br><span class=\"line\"><span class=\"attr\">semi:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># 单引号</span></span><br><span class=\"line\"><span class=\"attr\">singleQuote:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ...</span></span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%95%88%E6%9E%9C\" class=\"headerlink\" title=\"效果\"></a>效果</h2>\n<p>格式化前：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">fetch(<span class=\"string\">\"https://blog.yfun.top/search.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>res.json()).then(<span class=\"function\">(<span class=\"params\">content</span>) =&gt;</span> {<span class=\"built_in\">console</span>.log(content);<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; content.length; i++){<span class=\"built_in\">console</span>.log(content[i][<span class=\"string\">'title'</span>] + <span class=\"string\">\" --- https://blog.yfun.top\"</span> + content[i][<span class=\"string\">'url'</span>])}})</span><br></pre></td></tr></table></figure><p>格式化后：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">fetch(<span class=\"string\">\"https://blog.yfun.top/search.json\"</span>)</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> res.json())</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">content</span>) =&gt;</span> {</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(content);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; content.length; i++) {</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">                content[i][<span class=\"string\">\"title\"</span>] +</span><br><span class=\"line\">                    <span class=\"string\">\" --- https://blog.yfun.top\"</span> +</span><br><span class=\"line\">                    content[i][<span class=\"string\">\"url\"</span>]</span><br><span class=\"line\">            );</span><br><span class=\"line\">        }</span><br><span class=\"line\">    });</span><br></pre></td></tr></table></figure>\n","link":"https://blog.yfun.top/posts/2021/format-code-using-prettier/"},{"title":"[译] HentaiVerse 建议和指导","date":"2020-12-24 22:31:00","description":"\n<p>著名的同人本资源集散地 E-hentai 有一个完全没有人在意的角落 ——「HentaiVerse」，一个纯文字网页 RPG 游戏。虽然这个游戏应该不会有太多新玩家了，不过还是翻译一篇给新玩家的指导文吧。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/209138/1/18651/50218/622032acEf83a8d68/fc6db86aebb679ff.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/hentaiverse-advice/\">https://blog.skk.moe/post/hentaiverse-advice/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/hentaiverse-advice/"},{"title":"ZSH 自动读取 macOS 系统代理配置并设置环境变量","date":"2020-12-07 02:47:00","description":"\n<p>和其它 Linux 的 DE 一样，macOS 也支持在「系统偏好设置」中设置 HTTP 代理、HTTPS 代理，但是 macOS 并不会在终端（Terminal、iTerm）的 shell 中自动生效系统代理配置。为了方便日常使用，我决定好好研究一下 macOS 的系统代理。macOS 系统代理的行为和 Linux 和 Windows 只有一种系统代理配置不同，macOS 为每一种网络设备（Wi-Fi、Ethernet、Bluetooth PAN 等）维护了独立的网络配置，包括代理配置在内。因此当切换网络设备时，macOS 会使用不同的代理配置；如果同时连接了多个网络设备，则操作系统会优先采用在「系统偏好设置」网络「Service Order」靠上的设备的代理配置：...</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/207910/19/18573/59096/622032b0E05c1d4be/5d89d557f7889730.jpg\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/\">https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/"}]
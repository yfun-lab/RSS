[{"title":"任意键｜《赛博朋克 2077》稳了，暂时","date":"2022-09-25 06:58:09","description":"周末愉快！经过两个月的试运行和不断改进，我派的游戏专题「任意键」终于做好了正式上线前的大部分准备。新的「任意键」将作为少数派的常驻栏目，以双周一更的稳健节奏带来更加有趣和全面的内容。在扩大版面、充实内 ...<a href=\"https://sspai.com/post/75907\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75907"},{"title":"数字文具盒｜将知识内化为个人数据库：这是我的笔记工作流","date":"2022-09-25 03:38:30","description":"根据自己的习惯和需求建立工作流，记录以及内化各类知识，然后形成自己的个人数据库，方便未来随时调用。<a href=\"https://sspai.com/post/75364\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75364"},{"title":"具透 | iOS 16 通知管理迷思，一个通知的 N 种呈现方式","date":"2022-09-24 07:00:00","description":"一起来看看 iOS 16 的通知系统到底有多复杂。<a href=\"https://sspai.com/post/75895\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75895"},{"title":"数字文具盒｜Word 写论文，也可以很好用","date":"2022-09-24 03:01:56","description":"Matrix首页推荐Matrix是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选Matrix最优质的文章，展示来自用户的最真实的体验和观点。文章代表作者个人观点 ...<a href=\"https://sspai.com/post/75217\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75217"},{"title":"本周看什么 | 最近值得一看的 6 部作品","date":"2022-09-23 09:47:52","description":"☕️TL;DR近期佳作推荐：[电影]咒术回战0、[英剧]万物生灵第三季、[美剧]安多第一季、[国产剧]昆仑神宫、[韩剧]危机的X、[动画]蜂妹与狗狗猫几则精彩预告：TV动画《链锯人》公布正式预告，10 ...<a href=\"https://sspai.com/post/75887\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75887"},{"title":"派周报：年年焕新，不换不能新？","date":"2022-09-23 09:13:21","description":"不少顾客发现，今年的年年焕新政策发生了调整，在到店提取通过年年焕新渠道预约的新机时，交回旧机获得折抵款不再是可选项，而是强制要求。尽管目前批评意见主要集中在新规则本身，但苹果最大的问题或许不在于修改了规则，而在于没有任何明确通知就修改了规则，并且将其溯及地适用于往年加入计划的顾客。<p>[......]</p>\n<a href=\"https://sspai.com/prime/story/pi-weekly-010\" target=\"_blank\">查看全文</a><p>本文为会员文章，出自<a href=\"https://sspai.com/prime/precog/single\" target=\"_blank\">《单篇文章》</a>，订阅后可阅读全文。</p>\n","link":"https://sspai.com/prime/story/pi-weekly-010"},{"title":"灵动岛：欲盖弥彰与巧夺天工","date":"2022-09-23 09:09:34","description":"\n<p>你好，欢迎来到新一期的持续更新。</p>\n<h2>💬 评论&amp;漫游</h2>\n<p>本次的评论，不好意思，又要聊苹果… 因为 iPhone14 Pro 上的意外惊喜（没有被爆料泄漏）灵动岛（Dynamic Island）实在赚足了眼球和话题，当然还有大片的叫好声。必须承认，灵动岛确实是近年愈发无聊的手机行业中难得的创新之一。不过，在兴奋与叫好之后，我想带大家安静下来仔细并理性地重新认识一下灵动岛，并提出几点理性的批判。这次的评论环节会和漫游合并，因为在研究灵动岛的过程中，发现了一些与之相关的老产品，我们开始吧。</p>\n<figure class=\"image ss-img-wrapper\"><img src=\"https://cdn.sspai.com/2022/09/20/article/45fab5dad1f7b1b6b524f2136d7a48cf\"><figcaption>图片来自 9to5Mac</figcaption><p>[......]</p>\n<a href=\"https://sspai.com/post/75830\" target=\"_blank\">查看全文</a><p>本文为付费栏目文章，出自<a href=\"https://sspai.com/series/269\" target=\"_blank\">《100 小时后请叫我设计师》</a>，订阅后可阅读全文。</p></figure>\n","link":"https://sspai.com/post/75830"},{"title":"如果让你设计十年后的家，你觉得会长成什么样子？","date":"2022-09-23 07:50:44","description":"\n<p></p>\n<p data-pid=\"xH9NdEZr\"><b>有</b>时候设计师和艺术家一样，有灵感乍现的机会，也有痛苦万分的时刻，更少不了疯狂的时候。当马奈疯狂地使用各种鲜明的，高饱和的色调，抛弃传统绘画的立体感，成就印象派新的传奇；当马蒂斯打破画面的传统审美，建立全新的秩序，用儿童般的技巧去构思深沉的题材，让野兽派成为那个著名的又奇奇怪怪的风格。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-5bcb0226af02fdef10d302d30d503474_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"650\" data-rawheight=\"536\" data-watermark=\"original\" data-original-src=\"v2-5bcb0226af02fdef10d302d30d503474\" data-watermark-src=\"v2-a9ef1a36390c222cf095564179327eef\" data-private-watermark-src=\"v2-d80ecf56327c8ed2436ac80cb7cc7cec\"></p>\n<p data-pid=\"eq4veQUu\">家具设计师也渴望着疯狂和变化，同样存在着许许多多有意思的设计流派，也创造了很多匪夷所思的家具设计，这些作品有的至今无法被理解，有的设计却神奇得走入了千家万户。</p>\n<p data-pid=\"069nMmrE\">如果你有印象，十年前的理发店，伴随着洗剪吹和一些网络歌曲，你可能就是坐在这样的沙发里在等着叫号。它成了中国某个时间，某种文化的代表性符号，代表了那一代人的叛逆，打破自我，拥抱全新世界的渴望。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-e96b68b69cbab1150992de7aac4f37e6_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"500\" data-rawheight=\"281\" data-watermark=\"original\" data-original-src=\"v2-e96b68b69cbab1150992de7aac4f37e6\" data-watermark-src=\"v2-740e281e28a46666b68f7bb5b274b71f\" data-private-watermark-src=\"v2-36bd62b6cfff9c02d1788fc1f54c5d66\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-b0f671c6265f8b681b56f9d46e3bb0c7_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1452\" data-rawheight=\"1420\" data-watermark=\"original\" data-original-src=\"v2-b0f671c6265f8b681b56f9d46e3bb0c7\" data-watermark-src=\"v2-d7b4ae0b66dd1e065043ea0dca409398\" data-private-watermark-src=\"v2-ecf4e12a0549d0be6ca917bdbba7e82c\"></p>\n<p data-pid=\"qrhLLKzv\">尽管这不是原版的设计，也不是原版的造型工艺，但是它的设计宗旨却十分明显，就是反对传统家具设计中所倡导的功能，比例，造型优美，等等所有早已被世俗制定好的设计规则。</p>\n<p data-pid=\"nwAaZwom\"><b>这就是曾经风靡世界的设计新潮流——反设计主义。</b></p>\n<p data-pid=\"me5FticV\"><b>“极致的感官享受，完全的快乐至上”是反设计主义的名言，这是因为在二战结束，美苏冷战时期，敏锐的艺术家，设计师再一次对人类的理性感到不适，对无论是现代主义，还是包豪斯都产生了疲乏，更加热爱生活，崇尚感受。</b></p>\n<b></b><p><img src=\"https://pic2.zhimg.com/v2-76e22ca3b4eae7fbe83068ed7fbd78b0_720w.png?source=b1748391?rss\" data-caption=\"【Gufram CACTUS衣帽架】\" data-size=\"normal\" data-rawwidth=\"1077\" data-rawheight=\"809\" data-watermark=\"original\" data-original-src=\"v2-76e22ca3b4eae7fbe83068ed7fbd78b0\" data-watermark-src=\"v2-161db9fdff68d90dc82fbcbfce77456a\" data-private-watermark-src=\"v2-cdbe2b08f62934654319215245c228c3\"></p>\n<p data-pid=\"H1dpq9v8\">设计师把一个一人高的仙人掌以家具的形式搬进家的时候，就意味着，家具设计的历史打开了一个新的格局——<b>创造愉悦</b>。设计师Guido Drocco和Franco Mello一起在1972年创造了它，在这个设计你之前，不管以前的洛可可有多么繁复优美，也不管明式家具的结构有多精巧严谨，不管包豪斯的设计多么简约，都是有标准的风格流派来作为设计的指导。</p>\n<p data-pid=\"n6X_NueO\"><b>而这个设计告诉了全世界，也告诉了广大的设计师，你可能并不需要专业的设计知识和理论，只要你感受到了这棵仙人掌给你带来的新奇感和愉悦感，你就明白了一种全新的设计能力！</b></p>\n<p><img src=\"https://pic1.zhimg.com/v2-3b4aa95fb09f7d19259215804ef389c5_720w.png?source=b1748391?rss\" data-caption=\"【Gruppo Strum-Pratone lounge躺椅】\" data-size=\"normal\" data-rawwidth=\"1254\" data-rawheight=\"888\" data-watermark=\"original\" data-original-src=\"v2-3b4aa95fb09f7d19259215804ef389c5\" data-watermark-src=\"v2-09e87d9430e6a9d89829f5b6d124831e\" data-private-watermark-src=\"v2-c9da99db771d54def76771d3fc51d0ad\"></p>\n<p data-pid=\"0AS0rg_E\">这样的设计流派在后来其实影响了很多品牌和消费者，大部分人无法想象埋在一堆软体丛林躺椅里的新奇体验，它打破了传统设计所赋予的意义和价值，设计师们对想要的生活阐释就是没有意义，但是快乐。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-88794fdc5236b3fce9197f43e6569905_720w.png?source=b1748391?rss\" data-caption=\"【孟菲斯-品牌-poltronova等】\" data-size=\"normal\" data-rawwidth=\"1308\" data-rawheight=\"1548\" data-watermark=\"original\" data-original-src=\"v2-88794fdc5236b3fce9197f43e6569905\" data-watermark-src=\"v2-39a6f00f0fe79e54725d1332a311e0b2\" data-private-watermark-src=\"v2-81286a5d93cfb482d2746b2f8eaf16a7\"></p>\n<p data-pid=\"OfMBGbjo\">最近又重新火热起来的孟菲斯风格，眼看也会成为未来几年的复古潮流，它作为反设计主义的主要代表，把感官刺激做到了极致，每一件设计，每一种配色都在挑逗你对家居设计的底线，但是都能轻松战胜你的理性。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-103c904aea9b82584eecbcd921229bef_720w.png?source=b1748391?rss\" data-caption=\"【Edra-pack sofa】\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"836\" data-watermark=\"original\" data-original-src=\"v2-103c904aea9b82584eecbcd921229bef\" data-watermark-src=\"v2-a598549d790bd5408c57b6a7c1876368\" data-private-watermark-src=\"v2-237bbc8d4cd2a76e03ef686b268ac353\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-289b325d16bb779e903a0116366eb676_720w.png?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"1706\" data-watermark=\"original\" data-original-src=\"v2-289b325d16bb779e903a0116366eb676\" data-watermark-src=\"v2-4cb0c57c0037f64d1ec14595514d326b\" data-private-watermark-src=\"v2-9d9fe0d22e2d6759f97383e4e7852d9b\"></p>\n<p data-pid=\"T4Qc1QOS\">我们能在朋友家中见到北极熊，趴趴熊。</p>\n<h2>回到未来</h2>\n<p data-pid=\"RSQyc8sC\">孟菲斯以及反设计主义与风靡的波普艺术在核心理论上如出一辙，时尚、短暂的，冲击力十足的大众艺术，歌颂的大众，世俗的同时，反过来想其实就是在排斥权威和精英。</p>\n<blockquote data-pid=\"UBlzFrHC\"><b>安迪沃霍尔说每个人都有15分钟成为名人。</b></blockquote>\n<p data-pid=\"53_8BOUz\">意味着，名人，需要的更多是机会，而不是深厚的学识和高超的技术。在以前，做为设计师我们需要去研究各种生活中的材料，特征，还要知道工厂里如何加工制作这些材料，去学习人文知识，人体工程的考量等等。如果说以前木工算做一种专业工种的话，现在材料已经很丰富制造也可以很简单，做个家具像捏小人一样信手拈来。</p>\n<p data-pid=\"_J4r8eVv\">未来的家具设计一定也会像摄影，视频一样，让每个人都有创造的机会，灵感和知识变得更加扁平，人人都是摄影师，都是剪辑师，家具设计师的身份也越来越模糊，自制的家具开始逐渐出现，每个人都希望创造属于自己独一无二的家具，我相信未来是全民创造的时代。</p>\n<p><img src=\"https://pica.zhimg.com/v2-a4bcf184f0b6f8f89215f10828ccd199_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"540\" data-rawheight=\"542\" data-watermark=\"original\" data-original-src=\"v2-a4bcf184f0b6f8f89215f10828ccd199\" data-watermark-src=\"v2-8055f3c30cac6a855fe30b089bbf0c2b\" data-private-watermark-src=\"v2-9821846f2b068b5162bdbd03a38508f7\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-a5ca526d36a5b50cbb9867765c966d33_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"423\" data-watermark=\"original\" data-original-src=\"v2-a5ca526d36a5b50cbb9867765c966d33\" data-watermark-src=\"v2-6fb02a44d0dd681d3b63f4d01dea104d\" data-private-watermark-src=\"v2-44a735b12f945854e8c02bd347ed1241\"></p>\n<p data-pid=\"O-k5SYkU\">有人在装修的时候，用剩下的管道，水泥，泡沫就能制作一把椅子，充满了乐趣和返璞归真的艺术感。设计的大众化也势必伴随着参差不齐，大部分人的水平可能只能停留在DIY的程度，但是有艺术审美的人能让家具焕然一新，甚至创造性的想法。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-94e5aeed0cbbc3ae3c6af7a3dc8e550b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"751\" data-watermark=\"original\" data-original-src=\"v2-94e5aeed0cbbc3ae3c6af7a3dc8e550b\" data-watermark-src=\"v2-7c6def940f7054b0088dccdee568da76\" data-private-watermark-src=\"v2-4a90c1d75f82da82cebe506ef577a525\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-df04b300d1d52f0ae807747cb208ed3c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"705\" data-watermark=\"original\" data-original-src=\"v2-df04b300d1d52f0ae807747cb208ed3c\" data-watermark-src=\"v2-200e3e77b0d7e6eedbfdbed657f719a4\" data-private-watermark-src=\"v2-804469889ae088ef2461d9a6d457475b\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-91adc32103fe52d6bf7bbc7fe35528c7_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"752\" data-watermark=\"original\" data-original-src=\"v2-91adc32103fe52d6bf7bbc7fe35528c7\" data-watermark-src=\"v2-c32d441aed819c4c5ca0c65c67d1245a\" data-private-watermark-src=\"v2-67e4d36df51f19dc7a176415fafe0d34\"></p>\n<p data-pid=\"VnOuikhC\">用发泡胶制作的镜框和家具</p>\n<p data-pid=\"KmmXe9dl\">发泡胶近几年很火，本身的材料好获取也好制作，造型能力非常强还价格低廉，制作出来大块大块不规则的泡沫很适合装点这个浮华的社会，带着一点思辨的设计感，人如泡沫一般膨胀而轻浮，在网红圈子里一度成为流行。</p>\n<p data-pid=\"m8EEJnGf\">如果你有更深的毅力，更有艺术家的想法，也可以尝试去大海里析出盐分环绕在你的家具上形成独特的时尚设计，它的制作很慢，一天可能只增加一小层，可能要经历数月才能生成出一个家具的形态。</p>\n<p><img src=\"https://picx.zhimg.com/v2-6fcbb682c3583e16a8dd44303b65004b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"697\" data-watermark=\"original\" data-original-src=\"v2-6fcbb682c3583e16a8dd44303b65004b\" data-watermark-src=\"v2-4bf08e4c546a311a0eea13ab47e224e9\" data-private-watermark-src=\"v2-bafe36e5f2f5942aa3a10904a8938875\"></p>\n<p data-pid=\"3YTDPdoC\">甚至一个日本设计师通过对水晶的定型培育，制作真正的水晶座椅和家具，制作可能更慢， 但是这种创造就显得充满了浪漫和对生活的思想注入，这不就是现在网红趋势追求的文化赋能吗？</p>\n<p><img src=\"https://pic2.zhimg.com/v2-2cf0dd3147da5b74a45bee47e57b67cb_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"450\" data-rawheight=\"636\" data-watermark=\"original\" data-original-src=\"v2-2cf0dd3147da5b74a45bee47e57b67cb\" data-watermark-src=\"v2-178789a3fb9a4a6663ce269cc669163b\" data-private-watermark-src=\"v2-d80f9b558ba7f147494b258a99c59e5d\"></p>\n<p data-pid=\"Yz5LB9uX\">全民创造的环境下，对新风尚的敏感度是前所未有的，那些乐于改变的大众更早地走到了前面，他们可能厌倦了工厂制作出来的，千篇一律的工业品，反而想起了自然，想起了美好的真实世界，怀念起了双手的创造，土壤的质感，怀念不那么规则的桌子面，和不可预料的生活。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-314ba747faf0db0354998eecfb8a6686_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"705\" data-watermark=\"original\" data-original-src=\"v2-314ba747faf0db0354998eecfb8a6686\" data-watermark-src=\"v2-9c7fb3e42c489072ecf632a999d6041b\" data-private-watermark-src=\"v2-fc85a19990b50a6096f584ca3f694020\"></p>\n<p><img src=\"https://pic3.zhimg.com/v2-9ef1a9831a0035e73ea963b95c043476_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"846\" data-watermark=\"original\" data-original-src=\"v2-9ef1a9831a0035e73ea963b95c043476\" data-watermark-src=\"v2-23400683c0f9ad9bef0416dcc02a9c10\" data-private-watermark-src=\"v2-021548902ab2018aa80dc4e10816ad9c\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-086371245314e971befc3d61fa0ec9e4_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"846\" data-watermark=\"original\" data-original-src=\"v2-086371245314e971befc3d61fa0ec9e4\" data-watermark-src=\"v2-2e6c37697fae7fd4d48778db0979b797\" data-private-watermark-src=\"v2-03558ed7f86bb881a084f9f24bf3aca5\"></p>\n<p data-pid=\"50uTH6dd\">侘寂就是这样一个趋势，很多人无法理解这个风格，因为他们还抱着现代工业社会的思想去营造一个设计模板，反而弄巧成拙。但是侘寂却恰恰相反的是，它所崇尚的就是对家真挚的情感，不迎合风格，不矫揉造作，属于每个人为自己创造的家的形态，这可能是未来全民家具设计的第一次标志性宣告。</p>\n<p><img src=\"https://pic3.zhimg.com/v2-1b77a4d539829500854827fa7d097970_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"705\" data-watermark=\"original\" data-original-src=\"v2-1b77a4d539829500854827fa7d097970\" data-watermark-src=\"v2-219bac2e31b4ec2c500d79da05a0e903\" data-private-watermark-src=\"v2-2ce09f9c3639c3bc3d1b8c0f8609ef10\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-99e1ae3e53c015ed415d15082df84676_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"964\" data-watermark=\"original\" data-original-src=\"v2-99e1ae3e53c015ed415d15082df84676\" data-watermark-src=\"v2-4b690e092039ea1f1a16322b91efd00a\" data-private-watermark-src=\"v2-e6de89bb0123b21ca1c04b6db807dcac\"></p>\n<p data-pid=\"aj2lqMqT\">未来的所有都是迷茫的，这是探索者的宿命，艺术家也好，设计师也好，互相的身份越来越模糊的情况下，全民的创造能力或许能帮助群体走向一个更有意思的未来世界。</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/wang-hao-cheng?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">王昊诚</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/555159612/answer/2686421336?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">5 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/502156155?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">上有老下有小的家怎么设计？</a><br><a href=\"http://www.zhihu.com/question/57188892?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">该怎么设计一个使用又美观的家？</a><br>\n","link":"http://www.zhihu.com/question/555159612/answer/2686421336?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"iPhone mini 系列停更后，小屏手机还能选什么？","date":"2022-09-23 06:30:33","description":"我们在没得选的市场里选了这些，只能祝你快乐。<a href=\"https://sspai.com/post/75884\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75884"},{"title":"数字文具盒｜这些 app 帮我度过读研时光","date":"2022-09-23 03:28:42","description":"Matrix首页推荐Matrix是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选Matrix最优质的文章，展示来自用户的最真实的体验和观点。文章代表作者个人观点 ...<a href=\"https://sspai.com/post/75209\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75209"},{"title":"派早报：索尼发布 PlayStation VR2 预热视频、Getty Image 禁止上传和销售由 AI 生成的图像","date":"2022-09-23 01:03:50","description":"罗技发布多款新品，大疆发布 Osmo Mobile 6 手持稳定器等<a href=\"https://sspai.com/post/75876\" target=\"_blank\">查看全文</a>\n","link":"https://sspai.com/post/75876"},{"title":"汽车轮胎品牌那么多，该怎样选？","date":"2022-09-22 06:15:55","description":"\n<p data-pid=\"DNILM-OM\">首先说一下可能被人忽略的一点，现在相当多的电动汽车或者混动汽车（电机+发动机共同驱动）和普通燃油车已经相差很大，导致了它们所用的轮胎和普通燃油车的轮胎是不一样的，也可以说是两者并不通用的。</p>\n<p><img src=\"https://pica.zhimg.com/v2-c076f8445aa216d07822b4c888399f3f_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1581\" data-rawheight=\"944\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"mFPoNDDX\"><b>自重更大，对轮胎的抗压能力要求更高。</b></p>\n<p data-pid=\"1dO-lgzu\">和普通的燃油车相比，电动汽车因为配置了电池组的原因，整车质量更大。</p>\n<p data-pid=\"mfTSyfjy\">一般家用SUV的自重大多在1.5-1.8吨左右，而新能源SUV的自重一般是2吨起步，甚至一些长续航的SUV重量达到了2.6吨。</p>\n<p data-pid=\"PdyakQd7\">比如新能源中型SUV<a href=\"https://www.zhihu.com/search?q=%E6%AF%94%E4%BA%9A%E8%BF%AA%E5%94%90&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">比亚迪唐</a> 2022款 纯电版本的自重则高达2.3-2.6吨。</p>\n<p><img src=\"https://pic4.zhimg.com/v2-1cd928c0cda115d9fdd9269b3e43c4e4_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"735\" data-rawheight=\"226\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-89d0f5da97da6d765d14311763cf1e3a_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1354\" data-rawheight=\"674\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"o_PJ_Amm\">而且现在随着续航的增加，动力电池的能量密度没有明显的增加的前提下，即便是长续航轿车，自重也达到了2.3-2.5吨之间。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-8347d58ca78ba800d6131e2c076d91c8_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1234\" data-rawheight=\"664\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-89a001f4d70b0bd56de5e9a437840488_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"535\" data-rawheight=\"156\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"u9zeFK0F\">想一想，如果遇到节假日，全家一起开车自驾游，坐满5个成年人（三四百公斤），再加上后备厢装满行李的情况下，整车的质量有可能往3吨去了（参考<a href=\"https://www.zhihu.com/search?q=%E5%94%90%E6%96%B0%E8%83%BD%E6%BA%90&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">唐新能源</a>旗舰版）。在这种情况下，需要轮胎有着更高的抗压能力和耐磨耗性能，普通轮胎上去，别说磨损过度了，就是那大压力都抗不住。</p>\n<p><br></p>\n<p data-pid=\"kM39glnv\"><b>电机启动扭矩更大，对轮胎响应要求更高。</b></p>\n<p data-pid=\"XBPOx97p\">电动汽车的启动扭矩比燃油车大是电动汽车的电机决定的。</p>\n<p data-pid=\"010SbEjt\">电动汽车的电机比燃油车的<a href=\"https://www.zhihu.com/search?q=%E5%86%85%E7%87%83%E5%8F%91%E5%8A%A8%E6%9C%BA&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">内燃发动机</a>效率更高。在中低速行驶时候，电机效率甚至能达到95%以上。而传统燃油车的发动机因为<a href=\"https://www.zhihu.com/search?q=%E7%83%AD%E6%95%88%E7%8E%87&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">热效率</a>低，再加上排气、冷却、泵气、机械、不完全燃烧等损失，尤其内燃发动机在中低速行驶时候，效率往往不到电机的四分之一。</p>\n<p data-pid=\"sp_VnDnR\">电机本身的低扭充沛的特点，如果再配合上双电机的加持，即便是拥有电池的笨重车身，电动汽车依旧可以支持极快的零百加速。即使纯电SUV重量达到2.4吨以上，依旧可以实现零百加速达到4秒，轻松超越同级别的纯燃油车。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-376b76a71404a55924fbda4347ed90f1_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"744\" data-rawheight=\"216\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"tNNlBwWw\">但在如此之快的百公里加速下，电动汽车的轮胎必须要具备更快的加速响应才行。如果车的动力过足，但轮胎的响应速度不足，就及其容易抓地力不够造成打滑。如果碰到雨水天气，动力太强，而轮胎不匹配的话，反而会造成车身加速不稳，方向偏移，产生严重的安全隐患。</p>\n<p><br></p>\n<p data-pid=\"Mn2ktJfy\"><b>三电体系，没有发动机的轰鸣和震动，对胎噪静音要求更高</b></p>\n<p data-pid=\"xrEOaADZ\">电动汽车使用的是电机，噪音比燃油车要小的多，在车厢内听不到发动机的轰鸣和<a href=\"https://www.zhihu.com/search?q=%E6%8E%92%E6%B0%94%E7%B3%BB%E7%BB%9F&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">排气系统</a>的震动，所以轮胎的噪音能更清晰的传到车里，这时候就对轮胎的静音性能就提出了更高的要求，而很多传统轮胎是没有考虑静音功能的，只有专用的静音轮胎才能满足这个要求。</p>\n<p data-pid=\"BwmU201N\">比如封闭式胎肩可以阻挡花纹泵气噪声向周围环境传递；多节距设计则可降低花纹块对路面拍打的噪音，使噪音能量的峰值分布更加分散，不易出现噪声共振；而降噪波纹则能扰乱噪音的传播路径，降低噪声量。</p>\n<p><img src=\"https://pica.zhimg.com/v2-a3f92f66b67427a76869f69e89ad1722_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"720\" data-rawheight=\"972\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"DM8KQVhZ\"><b>电动车续航更需要低滚阻+轻量化的轮胎</b></p>\n<p data-pid=\"xVuq8-CK\">根据慕尼黑工业大学（TUM）在对两台电池容量都是55千瓦时的特斯拉Model3和大众ID.3，在外部温度为15℃的环城路段条件下，进行续航测试发现，因为轮下阻力较小的原因，大众ID.3取得了更好的续航成绩。</p>\n<p data-pid=\"tYtWtVjp\">轮胎的低滚阻和<a href=\"https://www.zhihu.com/search?q=%E8%BD%BB%E9%87%8F%E5%8C%96&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">轻量化</a>能有效的提高电动汽车的续航能力。</p>\n<p data-pid=\"zoMEkUoY\">其实想想也不难理解，在总能量固定不变，相同速度和其他条件的情况下，肯定轮胎受到的阻力越小、重量越轻的汽车跑的更远。</p>\n<p data-pid=\"CRNE4x3L\">由于以上几个原因，电动汽车的轮胎必须要选择特殊专配的，要<b>抗压/抓地力强/静音/低滚阻/轻量化</b>，而普通燃油轮胎是无法兼顾这么多的，不能充分发挥新能源汽车的优势甚至会带来安全隐患。</p>\n<p data-pid=\"SuOuUBA2\">如果强行在大重量，大动力，低噪音的电动汽车上安装普通轮胎，虽说不是不可以。但装上去了，也会导致普通轮胎寿命的大幅缩短，甚至正常使用无法超过一年，同时还会带来巨大的安全隐患，如抗压能力不达标发生爆胎，湿地加速/转向因扭矩过大导致的危险滑行等等。</p>\n<p data-pid=\"qOnlCYJR\">即使是使用了国际品牌的，某些方面十分出色的传统燃油轮胎也是不能适配电动汽车的。</p>\n<p data-pid=\"BgNYMmNk\"><b>米其林</b>在轮胎内部加入葵花籽油等油性添加剂保证低温性能和柔软度。但时间久了这种添加剂会流失，轮胎会变硬，舒适性变差。于是米其林就又在轮胎中加入隐形沟槽，增加耐磨能力，减缓抓地力的衰减；但即便米其林生产的燃油汽车用轮胎，也是更多的专注燃油汽车的行车特点，无法驾驭电动车的特殊性，即便是米其林的Total performance系列产品，也只能大致达到电动车轮胎的需求。</p>\n<p><img src=\"https://pica.zhimg.com/v2-4157af9e9359bce77f6d42b3c089fe85_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"600\" data-rawheight=\"400\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<ul><li data-pid=\"WK_s0CA1\">\n<b><a href=\"https://www.zhihu.com/search?q=%E6%99%AE%E5%88%A9%E6%96%AF%E9%80%9A&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">普利斯通</a></b>在冬季轮胎冰锐客系列采用发泡橡胶技术，在橡胶中打入<a href=\"https://www.zhihu.com/search?q=%E5%B0%8F%E6%B0%94%E6%B3%A1&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">小气泡</a>增加弹性，使轮胎变得更柔软，舒适性更高；</li></ul>\n<p><img src=\"https://pic4.zhimg.com/v2-704ecf06c20be0f560ef40a7569b20d6_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"560\" data-rawheight=\"443\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<ul><li data-pid=\"-vQuN0mr\">\n<b><a href=\"https://www.zhihu.com/search?q=%E5%9B%BA%E7%89%B9%E5%BC%82&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">固特异</a></b>则使用高碳分子链取代炭黑添加剂，使轮胎更耐磨，并且提出了不对称花纹的设计，增加弯道抓地力和刹车性能；</li></ul>\n<p><img src=\"https://picx.zhimg.com/v2-d4c1e0991722734428b1718fa9d29472_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"652\" data-rawheight=\"435\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<ul><li data-pid=\"SIlT0o1V\">主打安全和降噪的<b>马牌</b>则采用改变花纹排列，设置消音腔等技术，把声音变为震动，使胎噪更小，行车过程更安静。</li></ul>\n<p><img src=\"https://pica.zhimg.com/v2-6c361cd4d01cadc459481f1246154057_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"548\" data-rawheight=\"471\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<ul><li data-pid=\"SzLjnRH1\">以运动性能著称的<b>倍耐力</b>轮胎则使用了人造丝结构、高强度双层聚酰胺带束层增加运动性能，而橡胶则采用中等硬度获得良好的支撑性能。很多跑车，包括兰博基尼、保时捷、<a href=\"https://www.zhihu.com/search?q=%E9%A9%AC%E8%8E%8E%E6%8B%89%E8%92%82&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2632625075%7D\" class=\"internal\">马莎拉蒂</a>用的都是这个品牌的轮胎。</li></ul>\n<p><img src=\"https://pic1.zhimg.com/v2-2ee45839ca46ac87dc16a9de0d666a4e_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"593\" data-rawheight=\"395\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"9gjHsCcJ\">终归到底，各国际品牌厂商都绕不开三大性能——<b>滚动阻力、抗湿滑性能和耐磨性能</b>。而在电动车轮胎上面，还要加上<b>轻量化、静音、抗压</b>等要求，就对轮胎的适配性更为苛刻了。</p>\n<p data-pid=\"MimECQFL\">各大品牌为了改善这些性能也做了很多研发努力。但即使是各大品牌在技术创新方面付出了很多努力，但如想要提高耐湿滑性能，增加轮胎在雨水路面的抓地力，则需要增加和地面接触的面积，摩擦力也就相应的增大了，滚动阻力也就随之增加了。</p>\n<p data-pid=\"ppFlIVqR\">后来很多国际合资品牌都着重研发破解这一矛盾，通过技术创新实现提升抗湿滑性能的同时降低滚阻，加强轮胎的耐磨能力，改善电动车续航等问题。</p>\n<p data-pid=\"qaJ67SHL\">近两年，如果了解一些轮胎的，可以看到国内、国外的品牌都推出自己的专用电动汽车轮胎。</p>\n<p data-pid=\"GQADlV9T\">如<b>米其林的PS EV系列，普利司通T005 EV系列，固特异的ElectricDrive GT系列，马牌的eContact系列，国内品牌也有玲珑新能源轮胎，浦林RPINX系列等电动车专用轮胎</b>等。</p>\n<p data-pid=\"UmXokJ5A\">所以，如果电动汽车要换轮胎，尤其是那种大重量，百公里加速三四秒的，还是得注意轮胎一定要选适配电动汽车的，不能随意更换成传统燃油车的轮胎。</p>\n<p data-pid=\"E9dM4-MS\">（某些图片来源网络，侵删！）</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/will-liu-16?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">Will.liu</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/338882903/answer/2684497936?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">40 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/436749222?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">汽车轮胎品牌那么多我们改如何选择。?</a><br><a href=\"http://www.zhihu.com/question/545909571?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">汽车轮胎该如何选购？有哪些品牌推荐？</a><br>\n","link":"http://www.zhihu.com/question/338882903/answer/2684497936?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"【机器学习】逻辑回归（非常详细）","date":"2022-09-21 11:57:22","description":"\n<p data-pid=\"HU_wiiaj\">逻辑回归是一个非常经典的算法，其中也包含了非常多的细节，曾看到一句话：如果面试官问你熟悉哪个机器学习模型，可以说 SVM，但千万别说 LR，因为细节真的太多了。</p>\n<p data-pid=\"u8RurW59\">秉持着精益求精的工匠精神不断对笔记进行修改和改进，本着开源精神帮助大家一起学习。欢迎大家在阅读的过程中提出修改建议，我会非常感激。如果文章有帮助的话，希望能点个赞。</p>\n<h2>1. 模型介绍</h2>\n<p data-pid=\"iAH76d1W\">Logistic Regression 虽然被称为回归，但其实际上是分类模型，并常用于二分类。Logistic Regression 因其简单、可并行化、可解释强深受工业界喜爱。</p>\n<p data-pid=\"vCN_EHFt\">Logistic 回归的本质是：假设数据服从这个分布，然后使用极大似然估计做参数的估计。</p>\n<h3>1.1 Logistic 分布</h3>\n<p data-pid=\"ZFIuPZFT\">Logistic 分布是一种连续型的概率分布，其<b>分布函数</b>和<b>密度函数</b>分别为：   </p>\n<p data-pid=\"aTCU2ppu\"><img src=\"https://www.zhihu.com/equation?tex=F%28x%29+%3D+P%28X+%5Cleq+x%29%3D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-%28x-%5Cmu%29%2F%5Cgamma%7D%7D+%5C%5C+f%28x%29+%3D+F%5E%7B%27%7D%28X+%5Cleq+x%29%3D%5Cfrac%7Be%5E%7B-%28x-%5Cmu%29%2F%5Cgamma%7D%7D%7B%5Cgamma%281%2Be%5E%7B-%28x-%5Cmu%29%2F%5Cgamma%7D%29%5E%7B2%7D%7D+%5C%5C\" alt=\"F(x) = P(X \\leq x)=\\frac{1}{1+e^{-(x-\\mu)/\\gamma}} \\\\ f(x) = F^{'}(X \\leq x)=\\frac{e^{-(x-\\mu)/\\gamma}}{\\gamma(1+e^{-(x-\\mu)/\\gamma})^{2}} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"Imww-iZ3\">其中， <img src=\"https://www.zhihu.com/equation?tex=%5Cmu\" alt=\"\\mu\" eeimg=\"1\"> 表示<b>位置参数</b>， <img src=\"https://www.zhihu.com/equation?tex=%5Cgamma%3E0\" alt=\"\\gamma&gt;0\" eeimg=\"1\"> 为<b>形状参数</b>。我们可以看下其图像特征：</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-b15289fd1162a807e11949e5396c7989_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"385\" data-rawheight=\"131\" class=\"content_image\" width=\"385\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"PKmMox3k\">Logistic 分布是由其位置和尺度参数定义的连续分布。Logistic 分布的形状与正态分布的形状相似，但是 Logistic 分布的尾部更长，所以我们可以使用 Logistic 分布来建模比正态分布具有更长尾部和更高波峰的数据分布。在深度学习中常用到的 Sigmoid 函数就是 Logistic 的分布函数在 <img src=\"https://www.zhihu.com/equation?tex=%5Cmu%3D0%2C+%5Cgamma%3D1\" alt=\"\\mu=0, \\gamma=1\" eeimg=\"1\"> 的特殊形式。</p>\n<h3>1.2 Logistic 回归</h3>\n<p data-pid=\"rYCnFF2h\">之前说到 Logistic 回归主要用于分类问题，我们以二分类为例，对于所给数据集假设存在这样的一条直线可以将数据完成线性可分。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-34f3997ae1975cd620a8514e3954fa9e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"682\" data-rawheight=\"370\" class=\"origin_image zh-lightbox-thumb\" width=\"682\" data-original=\"https://pic3.zhimg.com/v2-34f3997ae1975cd620a8514e3954fa9e_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"mqpt1HIJ\">决策边界可以表示为​ <img src=\"https://www.zhihu.com/equation?tex=w_1x_1%2Bw_2x_2%2Bb%3D0\" alt=\"w_1x_1+w_2x_2+b=0\" eeimg=\"1\"> ，假设某个样本点 <img src=\"https://www.zhihu.com/equation?tex=h_w%28x%29+%3D+w_1x_1%2Bw_2x_2%2Bb+%3E+0\" alt=\"h_w(x) = w_1x_1+w_2x_2+b &gt; 0\" eeimg=\"1\"> 那么可以判断它的类别为 1，这个过程其实是感知机。</p>\n<p data-pid=\"dOq6zX9A\">Logistic 回归还需要加一层，它要找到分类概率 P(Y=1) 与输入向量 x 的直接关系，然后通过比较概率值来判断类别。</p>\n<p data-pid=\"5CE6IFeJ\">考虑二分类问题，给定数据集</p>\n<p data-pid=\"Zer0ixH-\"><img src=\"https://www.zhihu.com/equation?tex=+D%3D%7B%28x_%7B1%7D%2C+y_%7B1%7D%29%2C%28x_%7B2%7D%2Cy_%7B2%7D%29%2C%5Ccdots%2C%28x_%7BN%7D%2C+y_%7BN%7D%29%7D%2C+x_%7Bi%7D+%5Csubseteq+R%5E%7Bn%7D%2C+y_%7Bi%7D+%5Cin+%7B0%2C1%7D%2Ci%3D1%2C2%2C%5Ccdots%2CN+++%5C%5C\" alt=\" D={(x_{1}, y_{1}),(x_{2},y_{2}),\\cdots,(x_{N}, y_{N})}, x_{i} \\subseteq R^{n}, y_{i} \\in {0,1},i=1,2,\\cdots,N   \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"3_ktAhMX\">考虑到 <img src=\"https://www.zhihu.com/equation?tex=w%5E%7BT%7Dx%2Bb\" alt=\"w^{T}x+b\" eeimg=\"1\"> 取值是连续的，因此它不能拟合离散变量。可以考虑用它来拟合条件概率 <img src=\"https://www.zhihu.com/equation?tex=p%28Y%3D1%7Cx%29\" alt=\"p(Y=1|x)\" eeimg=\"1\"> ，因为概率的取值也是连续的。</p>\n<p data-pid=\"r0ZYflQ5\">但是对于 <img src=\"https://www.zhihu.com/equation?tex=w+%5Cne+0\" alt=\"w \\ne 0\" eeimg=\"1\"> （若等于零向量则没有什么求解的价值）， <img src=\"https://www.zhihu.com/equation?tex=w%5E%7BT%7Dx%2Bb\" alt=\"w^{T}x+b\" eeimg=\"1\"> 取值为 <img src=\"https://www.zhihu.com/equation?tex=R\" alt=\"R\" eeimg=\"1\"> ，不符合概率取值为 0 到 1，因此考虑采用广义线性模型。</p>\n<p data-pid=\"kqQyC3_2\">最理想的是单位阶跃函数： </p>\n<p data-pid=\"pxecnPQE\"><img src=\"https://www.zhihu.com/equation?tex=p%28y%3D1+%7C+x%29%3D%5Cbegin%7Bcases%7D+0%2C%26+z%5Clt+0+%5C%5C+0.5%2C%26+z+%3D+0%5C%5C+1%2C%26+z%5Cgt+0%5C+%5Cend%7Bcases%7D+%2C%5Cquad+z%3Dw%5ET+x%2Bb++%5C%5C\" alt=\"p(y=1 | x)=\\begin{cases} 0,&amp; z\\lt 0 \\\\ 0.5,&amp; z = 0\\\\ 1,&amp; z\\gt 0\\ \\end{cases} ,\\quad z=w^T x+b  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"tcBZ3kUq\">但是这个阶跃函数不可微，对数几率函数是一个常用的替代函数： </p>\n<p data-pid=\"2GA0-hPK\"><img src=\"https://www.zhihu.com/equation?tex=+y+%3D+%5Cfrac%7B1%7D%7B1%2Be%5E%7B-%28w%5E%7BT%7D+x+%2B+b%29%7D%7D++%5C%5C\" alt=\" y = \\frac{1}{1+e^{-(w^{T} x + b)}}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"0exVOVo6\">于是有： </p>\n<p data-pid=\"C4yGxpFQ\"><img src=\"https://www.zhihu.com/equation?tex=+ln+%5Cfrac%7By%7D%7B1%E2%88%92y%7D+%3D+w%5E%7BT%7Dx+%2B+b+%5C%5C\" alt=\" ln \\frac{y}{1−y} = w^{T}x + b \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"teejxPWj\">我们将 y 视为 x 为正例的概率，则 1-y 为 x 为其反例的概率。两者的比值称为<b>几率（odds）</b>，指该事件发生与不发生的概率比值，若事件发生的<b>概率</b>为 p。则对数几率：</p>\n<p data-pid=\"VN7OO19p\"><img src=\"https://www.zhihu.com/equation?tex=+ln%28odds%29+%3D+ln+%5Cfrac%7By%7D%7B1%E2%88%92y%7D++%5C%5C\" alt=\" ln(odds) = ln \\frac{y}{1−y}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"BGmy4ifk\">将 y 视为类后验概率估计，重写公式有： </p>\n<p data-pid=\"oC6XBRfr\"><img src=\"https://www.zhihu.com/equation?tex=w%5E%7BT%7D+x+%2B+b+%3D+ln%5Cfrac%7BP%28Y%3D1%7Cx%29%7D%7B1-P%28Y%3D1%7Cx%29%7D+%5C%5C+P%28Y%3D1%7Cx%29+%3D+%5Cfrac%7B1%7D%7B1%2Be%5E%7B-%28w%5E%7BT%7D+x+%2B+b%29%7D%7D+%5C%5C\" alt=\"w^{T} x + b = ln\\frac{P(Y=1|x)}{1-P(Y=1|x)} \\\\ P(Y=1|x) = \\frac{1}{1+e^{-(w^{T} x + b)}} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"Kn1zmFtN\">也就是说，输出 Y=1 的对数几率是由输入 x 的<b>线性函数</b>表示的模型，这就是<b>逻辑回归模型</b>。当 <img src=\"https://www.zhihu.com/equation?tex=w%5E%7BT%7Dx%2Bb\" alt=\"w^{T}x+b\" eeimg=\"1\"> 的值越接近正无穷， <img src=\"https://www.zhihu.com/equation?tex=P%28Y%3D1%7Cx%29+\" alt=\"P(Y=1|x) \" eeimg=\"1\"> 概率值也就越接近 1。因此<b>逻辑回归的思路</b>是，先拟合决策边界(不局限于线性，还可以是多项式)，再建立这个边界与分类的概率联系，从而得到了二分类情况下的概率。</p>\n<p data-pid=\"7EjRRftD\">在这我们思考个问题，我们使用对数几率的意义在哪？通过上述推导我们可以看到 Logistic 回归实际上是使用线性回归模型的预测值逼近分类任务真实标记的对数几率，其优点有：</p>\n<ol>\n<li data-pid=\"dxSNLvLs\">直接对<b>分类的概率</b>建模，无需实现假设数据分布，从而避免了假设分布不准确带来的问题（区别于生成式模型）；</li>\n<li data-pid=\"5oDP4CYw\">不仅可预测出类别，还能得到该<b>预测的概率</b>，这对一些利用概率辅助决策的任务很有用；</li>\n<li data-pid=\"516iLZKr\">对数几率函数是<b>任意阶可导的凸函数</b>，有许多数值优化算法都可以求出最优解。</li>\n</ol>\n<h3>1.3 代价函数</h3>\n<p data-pid=\"ONqLF-7x\">逻辑回归模型的数学形式确定后，剩下就是如何去求解模型中的参数。在统计学中，常常使用极大似然估计法来求解，即找到一组参数，使得在这组参数下，我们的数据的似然度（概率）最大。</p>\n<p data-pid=\"b1KWqsDS\">设： </p>\n<p data-pid=\"IGCP-MpR\"><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Baligned%7D+P%28Y%3D1%7Cx%29+%26%3D+p%28x%29+%5C%5C++P%28Y%3D0%7Cx%29+%26%3D+1-+p%28x%29+%5Cend%7Baligned%7D%5C%5C\" alt=\"\\begin{aligned} P(Y=1|x) &amp;= p(x) \\\\  P(Y=0|x) &amp;= 1- p(x) \\end{aligned}\\\\\" eeimg=\"1\"></p>\n<p data-pid=\"R_d4y_rL\">似然函数： </p>\n<p data-pid=\"WlckSfnR\"><img src=\"https://www.zhihu.com/equation?tex=L%28w%29%3D%5Cprod%5Bp%28x_%7Bi%7D%29%5D%5E%7By_%7Bi%7D%7D%5B1-p%28x_%7Bi%7D%29%5D%5E%7B1-y_%7Bi%7D%7D++%5C%5C\" alt=\"L(w)=\\prod[p(x_{i})]^{y_{i}}[1-p(x_{i})]^{1-y_{i}}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"QXaw6g03\">为了更方便求解，我们对等式两边同取对数，写成对数似然函数： </p>\n<p data-pid=\"0tFiZAck\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cbegin%7Baligned%7D+L%28w%29%26%3D%5Csum%5By_%7Bi%7Dlnp%28x_%7Bi%7D%29%2B%281-y_%7Bi%7D%29ln%281-p%28x_%7Bi%7D%29%29%5D+%5C%5C+%26%3D%5Csum%5By_%7Bi%7Dln%5Cfrac%7Bp%28x_%7Bi%7D%29%7D%7B1-p%28x_%7Bi%7D%29%7D%2Bln%281-p%28x_%7Bi%7D%29%29%5D++%5C%5C+%26%3D%5Csum%5By_%7Bi%7D%28w+%5Ccdot+x_%7Bi%7D%29+-+ln%281%2Be%5E%7Bw+%5Ccdot+x_%7Bi%7D%7D%29%5D+%5Cend%7Baligned%7D+%5C%5C\" alt=\" \\begin{aligned} L(w)&amp;=\\sum[y_{i}lnp(x_{i})+(1-y_{i})ln(1-p(x_{i}))] \\\\ &amp;=\\sum[y_{i}ln\\frac{p(x_{i})}{1-p(x_{i})}+ln(1-p(x_{i}))]  \\\\ &amp;=\\sum[y_{i}(w \\cdot x_{i}) - ln(1+e^{w \\cdot x_{i}})] \\end{aligned} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"t0woD_SP\">在机器学习中我们有损失函数的概念，其衡量的是模型预测错误的程度。如果取整个数据集上的平均对数似然损失，我们可以得到:  </p>\n<p data-pid=\"nYdE44lQ\"><img src=\"https://www.zhihu.com/equation?tex=J%28w%29%3D-%5Cfrac%7B1%7D%7BN%7DlnL%28w%29+%5C%5C\" alt=\"J(w)=-\\frac{1}{N}lnL(w) \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"uHXENLg_\">即在逻辑回归模型中，我们<b>最大化似然函数</b>和<b>最小化损失函数</b>实际上是等价的。</p>\n<h3>1.4 求解</h3>\n<p data-pid=\"DBcKSxbI\">求解逻辑回归的方法有非常多，我们这里主要聊下梯度下降和牛顿法。优化的主要目标是找到一个方向，参数朝这个方向移动之后使得损失函数的值能够减小，这个方向往往由一阶偏导或者二阶偏导各种组合求得。逻辑回归的损失函数是：</p>\n<p data-pid=\"UUgxUCOU\"><img src=\"https://www.zhihu.com/equation?tex=J%28w%29+%3D++-%5Cfrac%7B1%7D%7Bn%7D%28%5Csum_%7Bi%3D1%7D%5En%28y_ilnp%28x_i%29%2B%281-y_i%29ln%281-p%28x_i%29%29%29+%5C%5C\" alt=\"J(w) =  -\\frac{1}{n}(\\sum_{i=1}^n(y_ilnp(x_i)+(1-y_i)ln(1-p(x_i))) \\\\\" eeimg=\"1\"></p>\n<ol><li data-pid=\"nD1_Sjmy\">随机梯度下降</li></ol>\n<p data-pid=\"-8RusKfz\">梯度下降是通过 J(w) 对 w 的一阶导数来找下降方向，并且以迭代的方式来更新参数，更新方式为 : </p>\n<p data-pid=\"VYnuulvL\"><img src=\"https://www.zhihu.com/equation?tex=+g_i+%3D+%5Cfrac%7B%5Cpartial+J%28w%29%7D+%7B%5Cpartial+w_i%7D+%3D%28p%28x_i%29-y_i%29x_i+%5C%5C+w%5E%7Bk%2B1%7D_i%3Dw%5Ek_i-%5Calpha+g_i\" alt=\" g_i = \\frac{\\partial J(w)} {\\partial w_i} =(p(x_i)-y_i)x_i \\\\ w^{k+1}_i=w^k_i-\\alpha g_i\" eeimg=\"1\"></p>\n<p data-pid=\"NI0c8SwQ\">其中 k  为迭代次数。每次更新参数后，可以通过比较 <img src=\"https://www.zhihu.com/equation?tex=+%7C%7CJ%28w%5E%7Bk%2B1%7D%29%E2%88%92J%28w%5Ek%29%7C%7C+\" alt=\" ||J(w^{k+1})−J(w^k)|| \" eeimg=\"1\"> 小于阈值或者到达最大迭代次数来停止迭代。</p>\n<p data-pid=\"Zn51dwSJ\">2. 牛顿法</p>\n<p data-pid=\"vXTCrTKD\">牛顿法的基本思路是，<b>在现有极小点估计值的附近对 f(x) 做二阶泰勒展开，进而找到极小点的下一个估计值</b>。假设 <img src=\"https://www.zhihu.com/equation?tex=w%5Ek\" alt=\"w^k\" eeimg=\"1\"> 为当前的极小值估计值，那么有： </p>\n<p data-pid=\"4kjGsV-r\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cvarphi+%28w%29+%3D+J%28w%5Ek%29+%2B+J%5E%7B%27%7D%28w%5Ek%29%28w-w%5Ek%29%2B%5Cfrac%7B1%7D%7B2%7DJ%5E%7B%22%7D%28w%5Ek%29%28w-w%5Ek%29%5E2++%5C%5C\" alt=\" \\varphi (w) = J(w^k) + J^{'}(w^k)(w-w^k)+\\frac{1}{2}J^{&quot;}(w^k)(w-w^k)^2  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"mW317a2d\">然后令 <img src=\"https://www.zhihu.com/equation?tex=%CF%86%5E%7B%27%7D%28w%29%3D0\" alt=\"φ^{'}(w)=0\" eeimg=\"1\"> ，得到了 <img src=\"https://www.zhihu.com/equation?tex=+w%5E%7Bk%2B1%7D%3Dw%5E%7Bk%7D%E2%88%92%5Cfrac%7BJ%5E%7B%27%7D%28w%5Ek%29%7D%7BJ%5E%7B%22%7D%28w%5Ek%29%7D\" alt=\" w^{k+1}=w^{k}−\\frac{J^{'}(w^k)}{J^{&quot;}(w^k)}\" eeimg=\"1\"> 。因此有迭代更新式： </p>\n<p data-pid=\"qNfb6t_f\"><img src=\"https://www.zhihu.com/equation?tex=w%5E%7Bk%2B1%7D+%3D+w%5E%7Bk%7D+-+%5Cfrac%7BJ%5E%7B%27%7D%28w%5E%7Bk%7D%29%7D%7BJ%5E%7B%22%7D%28w%5E%7Bk%7D%29%7D+%3D+w%5E%7Bk%7D+-+H_%7Bk%7D%5E%7B-1%7D%5Ccdot+g_%7Bk%7D+%5C%5C\" alt=\"w^{k+1} = w^{k} - \\frac{J^{'}(w^{k})}{J^{&quot;}(w^{k})} = w^{k} - H_{k}^{-1}\\cdot g_{k} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"ITGuriJ7\">其中 <img src=\"https://www.zhihu.com/equation?tex=H_%7Bk%7D%5E%7B-1%7D\" alt=\"H_{k}^{-1}\" eeimg=\"1\"> 为海森矩阵： </p>\n<p data-pid=\"ANqa3Jds\"><img src=\"https://www.zhihu.com/equation?tex=H_%7Bmn%7D+%3D+%5Cfrac+%7B%5Cpartial%5E2+J%28w%29%7D+%7B%5Cpartial+w_%7Bm%7D+%5Cpartial+w_%7Bn%7D%7D+%3Dh_%7Bw%7D%28x%5E%7B%28i%29%7D%29%281-p_%7Bw%7D%28x%5E%7B%28i%29%7D%29%29x%5E%7B%28i%29%7D_mx%5E%7B%28i%29%7D_n++%5C%5C\" alt=\"H_{mn} = \\frac {\\partial^2 J(w)} {\\partial w_{m} \\partial w_{n}} =h_{w}(x^{(i)})(1-p_{w}(x^{(i)}))x^{(i)}_mx^{(i)}_n  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"2Gnv3TiF\">此外，这个方法需要目标函数是二阶连续可微的，本文中的 J(w) 是符合要求的。</p>\n<h3>1.5 正则化</h3>\n<p data-pid=\"ZYCWad6s\">正则化是一个通用的算法和思想，所以会产生过拟合现象的算法都可以使用正则化来避免过拟合。</p>\n<p data-pid=\"pvRikqmo\">在经验风险最小化的基础上（也就是训练误差最小化），尽可能采用简单的模型，可以有效提高泛化预测精度。如果模型过于复杂，变量值稍微有点变动，就会引起预测精度问题。正则化之所以有效，就是因为其降低了特征的权重，使得模型更为简单。</p>\n<p data-pid=\"ddeVckpS\">正则化一般会采用 L1 范式或者 L2 范式，其形式分别为 <img src=\"https://www.zhihu.com/equation?tex=%CE%A6%28w%29%3D%7C%7Cx%7C%7C_1\" alt=\"Φ(w)=||x||_1\" eeimg=\"1\"> 和 <img src=\"https://www.zhihu.com/equation?tex=%CE%A6%28w%29%3D%7C%7Cx%7C%7C_2+\" alt=\"Φ(w)=||x||_2 \" eeimg=\"1\"> 。</p>\n<ol><li data-pid=\"HqaryVp0\">L1 正则化</li></ol>\n<p data-pid=\"dFZkxqe3\">LASSO 回归，相当于为模型添加了这样一个先验知识：w 服从零均值拉普拉斯分布。  首先看看拉普拉斯分布长什么样子： </p>\n<p data-pid=\"6Jg8lC8V\"><img src=\"https://www.zhihu.com/equation?tex=f%28w%7C%5Cmu%2Cb%29%3D%5Cfrac%7B1%7D%7B2b%7D%5Cexp+%5Cleft+%28+-%5Cfrac%7B%7Cw-%5Cmu%7C%7D%7Bb%7D%5Cright+%29%5C%5C\" alt=\"f(w|\\mu,b)=\\frac{1}{2b}\\exp \\left ( -\\frac{|w-\\mu|}{b}\\right )\\\\\" eeimg=\"1\"></p>\n<p data-pid=\"DoVxZGr-\">由于引入了先验知识，所以似然函数这样写：  </p>\n<p data-pid=\"Hsiha621\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cbegin%7Baligned%7D+L%28w%29%26%3DP%28y%7Cw%2Cx%29P%28w%29%5C%5C+%26%3D%5Cprod_%7Bi%3D1%7D%5ENp%28x_i%29%5E%7By_i%7D%281-p%28x_i%29%29%5E%7B1-y_i%7D%5Cprod_%7Bj%3D1%7D%5Ed+%5Cfrac%7B1%7D%7B2b%7D%5Cexp+%5Cleft+%28%7B-%5Cfrac%7B%7Cw_j%7C%7D%7Bb%7D%7D+%5Cright+%29+%5Cend%7Baligned%7D++%5C%5C\" alt=\" \\begin{aligned} L(w)&amp;=P(y|w,x)P(w)\\\\ &amp;=\\prod_{i=1}^Np(x_i)^{y_i}(1-p(x_i))^{1-y_i}\\prod_{j=1}^d \\frac{1}{2b}\\exp \\left ({-\\frac{|w_j|}{b}} \\right ) \\end{aligned}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"3UEh1gtk\"> 取 log 再取负，得到目标函数：</p>\n<p data-pid=\"yxB1TpzC\"><img src=\"https://www.zhihu.com/equation?tex=-%5Cln+L%28w%29%3D-%5Csum_i+%5By_i%5Cln+p%28x_i%29%2B%281-y_i%29ln%281-p%28x_i%29%29%5D%2B%5Cfrac%7B1%7D%7B2b%5E2%7D%5Csum_j%7Cw_j%7C++%5C%5C\" alt=\"-\\ln L(w)=-\\sum_i [y_i\\ln p(x_i)+(1-y_i)ln(1-p(x_i))]+\\frac{1}{2b^2}\\sum_j|w_j|  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"bAn_2Gqq\">等价于原始损失函数的后面加上了 L1 正则，因此 L1 正则的本质其实是为模型增加了“<b>模型参数服从零均值拉普拉斯分布</b>”这一先验知识。</p>\n<p data-pid=\"9f7z5zRG\">2. L2 正则化</p>\n<p data-pid=\"d2j1vx37\">Ridge 回归，相当于为模型添加了这样一个先验知识：w 服从零均值正态分布。 </p>\n<p data-pid=\"E52CLV8U\">首先看看正态分布长什么样子： </p>\n<p data-pid=\"2sEnKzZI\"><img src=\"https://www.zhihu.com/equation?tex=f%28w%7C%5Cmu%2C%5Csigma%29%3D%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%7D%5Cexp+%5Cleft+%28+-%5Cfrac%7B%28w-%5Cmu%29%5E2%7D%7B2%5Csigma%5E2%7D%5Cright+%29++%5C%5C\" alt=\"f(w|\\mu,\\sigma)=\\frac{1}{\\sqrt{2\\pi}\\sigma}\\exp \\left ( -\\frac{(w-\\mu)^2}{2\\sigma^2}\\right )  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"gCDJBmJ_\">由于引入了先验知识，所以似然函数这样写：</p>\n<p data-pid=\"6UQE9x5n\"><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Baligned%7D+L%28w%29%26%3DP%28y%7Cw%2Cx%29P%28w%29%5C%5C+%26%3D%5Cprod_%7Bi%3D1%7D%5ENp%28x_i%29%5E%7By_i%7D%281-p%28x_i%29%29%5E%7B1-y_i%7D%5Cprod_%7Bj%3D1%7D%5Ed+%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%7D%5Cexp+%5Cleft+%28%7B-%5Cfrac%7Bw_j%5E2%7D%7B2%5Csigma%5E2%7D%7D+%5Cright+%29%5C%5C+%26%3D%5Cprod_%7Bi%3D1%7D%5ENp%28x_i%29%5E%7By_i%7D%281-p%28x_i%29%29%5E%7B1-y_i%7D+%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%7D%5Cexp+%5Cleft+%28%7B-%5Cfrac%7Bw%5ETw%7D%7B2%5Csigma%5E2%7D%7D+%5Cright+%29+%5Cend%7Baligned%7D+%5C%5C\" alt=\"\\begin{aligned} L(w)&amp;=P(y|w,x)P(w)\\\\ &amp;=\\prod_{i=1}^Np(x_i)^{y_i}(1-p(x_i))^{1-y_i}\\prod_{j=1}^d \\frac{1}{\\sqrt{2\\pi}\\sigma}\\exp \\left ({-\\frac{w_j^2}{2\\sigma^2}} \\right )\\\\ &amp;=\\prod_{i=1}^Np(x_i)^{y_i}(1-p(x_i))^{1-y_i} \\frac{1}{\\sqrt{2\\pi}\\sigma}\\exp \\left ({-\\frac{w^Tw}{2\\sigma^2}} \\right ) \\end{aligned} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"RbTEomTb\">取 ln 再取负，得到目标函数：</p>\n<p data-pid=\"3fj8RR0r\"><img src=\"https://www.zhihu.com/equation?tex=-%5Cln+L%28w%29%3D-%5Csum_i+%5By_i%5Cln+p%28x_i%29%2B%281-y_i%29ln%281-p%28x_i%29%29%5D%2B%5Cfrac%7B1%7D%7B2%5Csigma%5E2%7Dw%5ETw+%5C%5C\" alt=\"-\\ln L(w)=-\\sum_i [y_i\\ln p(x_i)+(1-y_i)ln(1-p(x_i))]+\\frac{1}{2\\sigma^2}w^Tw \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"JCruFCU5\">等价于原始的损失函数后面加上了 L2 正则，因此 L2 正则的本质其实是为模型增加了“<b>模型参数服从零均值正态分布</b>”这一先验知识。</p>\n<p data-pid=\"upIgJhBp\">3. L1 和 L2 的区别</p>\n<p data-pid=\"6eYacNO4\">从上面的分析中我们可以看到，L1 正则化增加了所有权重 w 参数的绝对值之和逼迫更多 w 为零，也就是变稀疏（ L2 因为其导数也趋 0, 奔向零的速度不如 L1 给力了）。我们对稀疏规则趋之若鹜的一个关键原因在于它能<b>实现特征的自动选择</b>。一般来说，大部分特征 x_i 都是和最终的输出 y_i 没有关系或者不提供任何信息的。在最小化目标函数的时候考虑 x_i 这些额外的特征，虽然可以获得更小的训练误差，但在预测新的样本时，这些没用的特征权重反而会被考虑，从而干扰了对正确 y_i 的预测。L1 正则化的引入就是为了完成特征自动选择的光荣使命，它会学习地去掉这些无用的特征，也就是把这些特征对应的权重置为 0。</p>\n<p data-pid=\"X7-hmAd8\">L2 正则化中增加所有权重 w 参数的平方之和，逼迫所有 w 尽可能趋向零但不为零（L2 的导数趋于零）。因为在未加入 L2 正则化发生过拟合时，拟合函数需要顾忌每一个点，最终形成的拟合函数波动很大，在某些很小的区间里，函数值的变化很剧烈，也就是某些 w 值非常大。为此，L2 正则化的加入就惩罚了权重变大的趋势。</p>\n<p data-pid=\"OJk8Yk-a\">我们以二维样本为例，图解阐述加入 L1 正则化和 L2 正则化之后目标函数求解时发生的变化。</p>\n<ul><li data-pid=\"aL9Y_Hb3\">原函数曲线等高线（同颜色曲线上，每一组 <img src=\"https://www.zhihu.com/equation?tex=w_1%2Cw_2\" alt=\"w_1,w_2\" eeimg=\"1\"> 带入后值都相同)</li></ul>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-896a01ead6aee864250941a64e7931e4_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"498\" data-rawheight=\"456\" class=\"origin_image zh-lightbox-thumb\" width=\"498\" data-original=\"https://pic1.zhimg.com/v2-896a01ead6aee864250941a64e7931e4_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"G2QZ1SI4\">那现在我们看下加了 L1 正则化和 L2 正则化之后，目标函数求解的时候，最终解会有什么变化。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-91986c70dab4d152339ea085321c6f3f_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"720\" data-rawheight=\"365\" class=\"origin_image zh-lightbox-thumb\" width=\"720\" data-original=\"https://pic4.zhimg.com/v2-91986c70dab4d152339ea085321c6f3f_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"nn2VCjJl\">从上边两幅图中我们可以看出：</p>\n<ul>\n<li data-pid=\"pA9LAkyF\">如果不加 L1 和 L2 正则化的时候，对于线性回归这种目标函数凸函数的话，我们最终的结果就是最里边的紫色的小圈圈等高线上的点。</li>\n<li data-pid=\"6ou3rZm8\">当加入 L1 正则化的时候，我们先画出 <img src=\"https://www.zhihu.com/equation?tex=%7Cw_1%7C%2B%7Cw_2%7C%3DF+\" alt=\"|w_1|+|w_2|=F \" eeimg=\"1\"> 的图像，也就是一个菱形，代表这些曲线上的点算出来的 <img src=\"https://www.zhihu.com/equation?tex=L_1\" alt=\"L_1\" eeimg=\"1\"> 范数 <img src=\"https://www.zhihu.com/equation?tex=%7Cw_1%7C%2B%7Cw_2%7C+\" alt=\"|w_1|+|w_2| \" eeimg=\"1\"> 都为 F。那我们现在的目标是不仅是原曲线算的值要小（越来越接近中心的紫色圈圈），还要使得这个菱形越小越好（F 越小越好）。那么还和原来一样的话，过中心紫色圈圈的那个菱形明显很大，因此我们要取到一个恰好的值。那么如何求值呢？</li>\n</ul>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-efc752bd6d1ce09dbf2e18b9766570eb_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"443\" data-rawheight=\"421\" class=\"origin_image zh-lightbox-thumb\" width=\"443\" data-original=\"https://pic4.zhimg.com/v2-efc752bd6d1ce09dbf2e18b9766570eb_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<ol>\n<li data-pid=\"gjJCab4j\">以同一条原曲线目标等高线来说，现在以最外圈的红色等高线为例，我们看到，对于红色曲线上的每个点都可做一个菱形，根据上图可知，当这个菱形与某条等高线相切（仅有一个交点）的时候，这个菱形最小，上图相割对比较大的两个菱形对应的 L1 范数更大。用公式说这个时候能使得在相同的 <img src=\"https://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7BN%7D++%5Csum_%7Bi+%3D+1%7D%5EN%7B%28y_i+-w%5ET+x_i%29%5E2+%7D\" alt=\"\\frac{1}{N}  \\sum_{i = 1}^N{(y_i -w^T x_i)^2 }\" eeimg=\"1\"> ，由于相切的时候的  <img src=\"https://www.zhihu.com/equation?tex=C%7C%7Cw%7C%7C_%7B1%7D+\" alt=\"C||w||_{1} \" eeimg=\"1\"> 小，即 <img src=\"https://www.zhihu.com/equation?tex=%7Cw_1%7C%2B%7Cw_2%7C\" alt=\"|w_1|+|w_2|\" eeimg=\"1\">所以能够使得<img src=\"https://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7BN%7D++%5Csum%7Bi+%3D+1%7D%5EN%7B%28y_i+-w%5ET+x_i%29%5E2+%7D%2B+C%7C%7Cw%7C%7C_%7B1%7D\" alt=\"\\frac{1}{N}  \\sum{i = 1}^N{(y_i -w^T x_i)^2 }+ C||w||_{1}\" eeimg=\"1\"> 更小；</li>\n<li data-pid=\"9fFXzBXU\">有了第一条的说明我们可以看出，最终加入 L1 范数得到的解一定是某个菱形和某条原函数等高线的切点。现在有个比较重要的结论来了，<b>我们经过观察可以看到，几乎对于很多原函数等高曲线，和某个菱形相交的时候及其容易相交在坐标轴（比如上图），也就是说最终的结果，解的某些维度及其容易是 0，比如上图最终解是</b> <img src=\"https://www.zhihu.com/equation?tex=w%3D%280%2Cx%29\" alt=\"w=(0,x)\" eeimg=\"1\"><b>，这也就是我们所说的 L1 更容易得到稀疏解（解向量中 0 比较多）的原因；</b>\n</li>\n<li data-pid=\"BC7wflFB\">当然光看着图说，L1 的菱形更容易和等高线相交在坐标轴一点都没说服力，只是个感性的认识，我们接下来从更严谨的方式来证明，简而言之就是假设现在我们是一维的情况下 <img src=\"https://www.zhihu.com/equation?tex=h%28w%29+%3D+f%28w%29+%2B+C%7Cw%7C\" alt=\"h(w) = f(w) + C|w|\" eeimg=\"1\"> ，其中 h(w) 是目标函数， <img src=\"https://www.zhihu.com/equation?tex=f%28w%29+\" alt=\"f(w) \" eeimg=\"1\">  是没加 L1 正则化项前的目标函数， <img src=\"https://www.zhihu.com/equation?tex=C%7Cw%7C\" alt=\"C|w|\" eeimg=\"1\"> 是 L1 正则项，要使得 0 点成为最值可能的点，虽然在 0 点不可导，但是我们只需要让 0 点左右的导数异号，即 <img src=\"https://www.zhihu.com/equation?tex=h_%7Bl%7D%5E%7B%27%7D%280%29++h_%7Br%7D%5E%7B%27%7D%280%29+%3D+%28f%5E%7B%27%7D%280%29+%2B+C%29%28f%5E%7B%27%7D%280%29+-+C%29+%3C+0+\" alt=\"h_{l}^{'}(0)  h_{r}^{'}(0) = (f^{'}(0) + C)(f^{'}(0) - C) &lt; 0 \" eeimg=\"1\">  即可也就是 <img src=\"https://www.zhihu.com/equation?tex=+C+%3E%7Cf%5E%7B%27%7D%280%29%7C\" alt=\" C &gt;|f^{'}(0)|\" eeimg=\"1\"> 的情况下，0 点都是可能的最值点。</li>\n</ol>\n<p data-pid=\"FwSdEIto\">当加入 L2 正则化的时候，分析和 L1 正则化是类似的，也就是说我们仅仅是从菱形变成了圆形而已，同样还是求原曲线和圆形的切点作为最终解。当然与 L1 范数比，我们这样求的 L2 范数的<b>从图上来看，不容易交在坐标轴上，但是仍然比较靠近坐标轴。因此这也就是我们老说的，L2 范数能让解比较小（靠近 0），但是比较平滑（不等于 0）。</b></p>\n<p data-pid=\"ng8PU40R\">综上所述，我们可以看见，加入正则化项，在最小化经验误差的情况下，可以让我们选择解更简单（趋向于 0）的解。</p>\n<p data-pid=\"yvxKkrGH\">结构风险最小化：在经验风险最小化的基础上（也就是训练误差最小化），尽可能采用简单的模型，以此提高泛化预测精度。</p>\n<p data-pid=\"0eidtdka\"><b>因此，加正则化项就是结构风险最小化的一种实现。</b></p>\n<p data-pid=\"EAHbpwNn\"><b>正则化之所以能够降低过拟合的原因在于，正则化是结构风险最小化的一种策略实现。</b></p>\n<p data-pid=\"SIy8995z\"><b>简单总结下</b>：</p>\n<p data-pid=\"azj38piO\">给 loss function 加上正则化项，能使新得到的优化目标函数 <img src=\"https://www.zhihu.com/equation?tex=h+%3D+f%2B%7C%7Cw%7C%7C+\" alt=\"h = f+||w|| \" eeimg=\"1\"> ，需要在 f 和 ||w|| 中做一个权衡，如果还像原来只优化 f 的情况下，那可能得到一组解比较复杂，使得正则项 ||w|| 比较大，那么 h 就不是最优的，因此可以看出加正则项能让解更加简单，符合奥卡姆剃刀理论，同时也比较符合在偏差和方差（方差表示模型的复杂度）分析中，通过降低模型复杂度，得到更小的泛化误差，降低过拟合程度。</p>\n<p data-pid=\"ienxl4SH\">L1 正则化就是在 loss function 后边所加正则项为 L1 范数，加上 L1 范数容易得到稀疏解（0 比较多）。L2 正则化就是 loss function 后边所加正则项为 L2 范数的平方，加上 L2 正则相比于 L1 正则来说，得到的解比较平滑（不是稀疏），但是同样能够保证解中接近于 0（但不是等于 0，所以相对平滑）的维度比较多，降低模型的复杂度。</p>\n<h3>1.6 并行化</h3>\n<p data-pid=\"YGEsutNQ\">从逻辑回归的求解方法中我们可以看到，无论是随机梯度下降还是牛顿法，或者是没有提到的拟牛顿法，都是需要计算梯度的，因此逻辑回归的并行化最主要的就是对目标函数梯度计算的并行化。</p>\n<p data-pid=\"_1mmw_fn\">我们看到目标函数的梯度向量计算中只需要进行向量间的点乘和相加，可以很容易将每个迭代过程拆分成相互独立的计算步骤，由不同的节点进行独立计算，然后归并计算结果。</p>\n<p data-pid=\"PvjZ-UqK\">下图是一个标签和样本矩阵，行为特征向量，列为特征维度。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-9c5aea83687172eb7d4756397bc2669e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"231\" data-rawheight=\"165\" class=\"content_image\" width=\"231\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"TG3878aT\">样本矩阵按行划分，将样本特征向量分布到不同的计算节点，由各计算节点完成自己所负责样本的点乘与求和计算，然后将计算结果进行归并，则实现了按行并行的 LR。按行并行的 LR 解决了样本数量的问题，但是实际情况中会存在针对高维特征向量进行逻辑回归的场景，仅仅按行进行并行处理，无法满足这类场景的需求，因此还需要按列将高维的特征向量拆分成若干小的向量进行求解。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-649613856d724587cfe627ef1870a826_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"420\" class=\"origin_image zh-lightbox-thumb\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-649613856d724587cfe627ef1870a826_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"XLOrIVae\">并行计算总共会被分为两个并行化计算步骤和两个结果归并步骤：</p>\n<p data-pid=\"WVAZ9GXp\"><b>步骤一：</b>各节点并行计算点乘，计算 <img src=\"https://www.zhihu.com/equation?tex=d_%7B%28r%2Cc%29%2Ck%2Ct%7D+%3D+W%5ET_%7Bc%2Ct%7DX_%7B%28r%2Cc%29%2Ck%7D+\" alt=\"d_{(r,c),k,t} = W^T_{c,t}X_{(r,c),k} \" eeimg=\"1\"> ，其中 <img src=\"https://www.zhihu.com/equation?tex=+k%3D1%2C2%E2%80%A6M%2Fm\" alt=\" k=1,2…M/m\" eeimg=\"1\"> ， <img src=\"https://www.zhihu.com/equation?tex=d_%7B%28r%2Cc%29%2Ck%2Ct%7D\" alt=\"d_{(r,c),k,t}\" eeimg=\"1\"> 表示第 t 次迭代中节点 <img src=\"https://www.zhihu.com/equation?tex=%28r%2Cc%29\" alt=\"(r,c)\" eeimg=\"1\"> 上的第 k 个特征向量与特征权重分量的点乘， <img src=\"https://www.zhihu.com/equation?tex=W_%7Bc%2Ct%7D\" alt=\"W_{c,t}\" eeimg=\"1\"> 为第 t 次迭代中特征权重向量在第 c 列节点上的分量； <b>步骤二：</b>对行号相同的节点归并点乘结果： </p>\n<p data-pid=\"lY4chqsC\"><img src=\"https://www.zhihu.com/equation?tex=d_%7Br%2Ck%2Ct%7D%3DW%5ET_t+X_%7Br%2Ck%7D%3D%5Csum_%7Bc%3D1%7D%5En+d_%7B%28r%2Cc%29%2Ck%2Ct%7D%3D%5Csum_%7Bc%3D1%7D%5En+W_%7Bc%2Ct%7D%5ETX_%7B%28r%2Cc%29%2Ck%7D++%5C%5C\" alt=\"d_{r,k,t}=W^T_t X_{r,k}=\\sum_{c=1}^n d_{(r,c),k,t}=\\sum_{c=1}^n W_{c,t}^TX_{(r,c),k}  \\\\\" eeimg=\"1\"></p>\n<figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-6b5f725a2893d4fa28a2ddb17db4c756_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"531\" data-rawheight=\"195\" class=\"origin_image zh-lightbox-thumb\" width=\"531\" data-original=\"https://pic3.zhimg.com/v2-6b5f725a2893d4fa28a2ddb17db4c756_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"BCMzPlVh\"><b>步骤三：</b>各节点独立算标量与特征向量相乘： </p>\n<p data-pid=\"UdQJKs6G\"><img src=\"https://www.zhihu.com/equation?tex=G_%7B%28r%2Cc%29%2Ct%7D%3D%5Csum_%7Bk%3D1%7D%5E%7BM%2Fm%7D%5B%5Csigma%28y_%7Br%2Ck%7Dd_%7Br%2Ck%2Ct%7D%29-1%5Dy_%7Br%2Ck%7DX_%7B%28r%2Cc%29%2Ck%7D++%5C%5C\" alt=\"G_{(r,c),t}=\\sum_{k=1}^{M/m}[\\sigma(y_{r,k}d_{r,k,t})-1]y_{r,k}X_{(r,c),k}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"dpXui3JZ\"><img src=\"https://www.zhihu.com/equation?tex=+G_%7B%28r%2Cc%29%2Ct%7D\" alt=\" G_{(r,c),t}\" eeimg=\"1\"> 可以理解为由第 r 行节点上部分样本计算出的目标函数梯度向量在第 c 列节点上的分量。</p>\n<p data-pid=\"jF7-IMMW\"><b>步骤四：</b>对列号相同的节点进行归并： </p>\n<p data-pid=\"CuZJBb54\"><img src=\"https://www.zhihu.com/equation?tex=G_%7Bc%2Ct%7D%3D%5Csum_%7Br%3D1%7D%5Em+G_%7B%28r%2Cc%29%2Ct%7D++%5C%5C\" alt=\"G_{c,t}=\\sum_{r=1}^m G_{(r,c),t}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"oVy3rpR2\"><img src=\"https://www.zhihu.com/equation?tex=G_%7Bc%2Ct%7D\" alt=\"G_{c,t}\" eeimg=\"1\"> 就是目标函数的梯度向量 <img src=\"https://www.zhihu.com/equation?tex=G_t+\" alt=\"G_t \" eeimg=\"1\"> 在第 c 列节点上的分量，对其进行归并得到目标函数的梯度向量： </p>\n<p data-pid=\"tdN6APHg\"><img src=\"https://www.zhihu.com/equation?tex=G_t%3D%3CG_%7B1%2Ct%7D%2C...%2CG_%7Bc%2Ct%7D...G_%7Bn%2Ct%7D%3E+%5C%5C\" alt=\"G_t=&lt;G_{1,t},...,G_{c,t}...G_{n,t}&gt; \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"HBJ6RWuz\">这个过程如下图所示：</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-a7cc0b79e62018e1a62dfcab5435e8f4_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"384\" data-rawheight=\"273\" class=\"content_image\" width=\"384\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"s6MxycUE\">所以并行计算 LR 的流程如下所示。</p>\n<p class=\"ztext-empty-paragraph\"><br></p>\n<figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-d93c4826068dbca6030cb7ca895102a0_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"691\" data-rawheight=\"538\" class=\"origin_image zh-lightbox-thumb\" width=\"691\" data-original=\"https://pic1.zhimg.com/v2-d93c4826068dbca6030cb7ca895102a0_r.jpg\"></figure><p class=\"ztext-empty-paragraph\"><br></p>\n<p data-pid=\"5qP9p0fm\">所以并行 LR 实际上就是在求解损失函数最优解的过程中，针对寻找损失函数下降方向中的梯度方向计算作了并行化处理，而在利用梯度确定下降方向的过程中也可以采用并行化。</p>\n<h2>2. 与其他模型的对比</h2>\n<h3>2.1 与线性回归</h3>\n<p data-pid=\"FT4LEyp8\">逻辑回归是在线性回归的基础上加了一个 Sigmoid 函数（非线形）映射，使得逻辑回归称为了一个优秀的分类算法。本质上来说，两者都属于广义线性模型，但他们两个要解决的问题不一样，逻辑回归解决的是分类问题，输出的是离散值，线性回归解决的是回归问题，输出的连续值。</p>\n<p data-pid=\"2K3c-xIT\">我们需要明确 Sigmoid 函数到底起了什么作用：</p>\n<ul>\n<li data-pid=\"pDLCxqi5\">线性回归是在实数域范围内进行预测，而分类范围则需要在 [0,1]，逻辑回归减少了预测范围；</li>\n<li data-pid=\"wQ3qc9BN\">线性回归在实数域上敏感度一致，而逻辑回归在 0 附近敏感，在远离 0 点位置不敏感，这个的好处就是模型更加关注分类边界，可以增加模型的鲁棒性。</li>\n</ul>\n<h3>2.2 与最大熵模型</h3>\n<p data-pid=\"YEEEYz4O\">逻辑回归和最大熵模型本质上没有区别，最大熵在解决二分类问题时就是逻辑回归，在解决多分类问题时就是多项逻辑回归。</p>\n<p data-pid=\"Lwdd6-3U\">首先进行符号定义：</p>\n<ol>\n<li data-pid=\"ZmXTh7S-\">\n<img src=\"https://www.zhihu.com/equation?tex=%5Cpi+%28x%29_u\" alt=\"\\pi (x)_u\" eeimg=\"1\"> 表示，输入时 x，输出的 y=u 的概率；</li>\n<li data-pid=\"VBL2nP2r\">A(u,v) 是一个指示函数，若 u=v，则 A(u,v)=1，否则 A(u,v)=0；</li>\n<li data-pid=\"p3XOSIQ0\">我们的目标就是从训练数据中，学习得到一个模型，使得 <img src=\"https://www.zhihu.com/equation?tex=+%5Cpi%28x%29_u\" alt=\" \\pi(x)_u\" eeimg=\"1\"> 最大化，也就是输入 x，预测结果是 y 的概率最大，也就是使得 <img src=\"https://www.zhihu.com/equation?tex=+%5Cpi%28x%29_y\" alt=\" \\pi(x)_y\" eeimg=\"1\"> 最大。</li>\n</ol>\n<p data-pid=\"8Mheb_iv\">对于逻辑回归而言： </p>\n<p data-pid=\"3aZLmh8h\"><img src=\"https://www.zhihu.com/equation?tex=P%28Y%3D1%7Cx%29+%3D+%5Cpi%28x%29_1+%3D%5Cdfrac%7Be%5E%7Bw+%5Ccdot+x%7D%7D%7B1%2Be%5E%7Bw+%5Ccdot+x%7D%7D+%5C%5C+++P%28Y%3D0%7Cx%29+%3D+%5Cpi%28x%29_0+%3D+1-%5Cpi%28x%29_1+%5C%5C\" alt=\"P(Y=1|x) = \\pi(x)_1 =\\dfrac{e^{w \\cdot x}}{1+e^{w \\cdot x}} \\\\   P(Y=0|x) = \\pi(x)_0 = 1-\\pi(x)_1 \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"_s5qIkOM\">我们这里可以用更泛化的形式来表示 π()： </p>\n<p data-pid=\"c8bCYcqQ\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cpi%28x%29_v%3D%5Cdfrac%7Be%5E%7Bw_v+%5Ccdot+x%7D%7D%7B%5Csum_%7Bu%3D1%7D%5Ek+e%5E%7Bw_u+%5Ccdot+x%7D%7D++%5C%5C\" alt=\" \\pi(x)_v=\\dfrac{e^{w_v \\cdot x}}{\\sum_{u=1}^k e^{w_u \\cdot x}}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"2LHqHpNW\"> 回到我们的目标：令 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi%28x_i%29y_i\" alt=\"\\pi(x_i)y_i\" eeimg=\"1\"> 最大，可以用极大似然估计的方法来求解。</p>\n<p data-pid=\"cVJ-42rF\"><img src=\"https://www.zhihu.com/equation?tex=L%28w%29%3D%5Cprod_%7Bi%3D1%7D%5En+%5Cpi%28x_i%29%7By_i%7D+%5C%5C+lnL%28w%29%3D%5Csum_%7Bi%3D1%7D%5En+ln%28%5Cpi%28x_i%29%7By_i%7D%29++%5C%5C\" alt=\"L(w)=\\prod_{i=1}^n \\pi(x_i){y_i} \\\\ lnL(w)=\\sum_{i=1}^n ln(\\pi(x_i){y_i})  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"GFJBmEhf\">然后我们求偏导：</p>\n<p data-pid=\"Dt--JNak\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial+w_%7Bu%2Cj%7D%7DlnL%28w%29%3D...%3D%5Csum_%7Bi%3D1%2C%5C%3By_i%3Du%7D%5Enx_%7Bij%7D-%5Csum_%7Bi%3D1%7D%5Enx_%7Bij%7D%5Cpi%28x_i%29_u++%5C%5C\" alt=\" \\frac{\\partial}{\\partial w_{u,j}}lnL(w)=...=\\sum_{i=1,\\;y_i=u}^nx_{ij}-\\sum_{i=1}^nx_{ij}\\pi(x_i)_u  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"wAgaxzpl\">另偏导数为 0： </p>\n<p data-pid=\"WbqLlaxW\"><img src=\"https://www.zhihu.com/equation?tex=%5Csum_%7Bi%3D1%7D%5Enx_%7Bij%7D%5Cpi%28x_i%29_u%3D%5Csum_%7Bi%3D1%2C%5C%3By_i%3Du%7D%5Enx_%7Bij%7D%2C+%28for%5C%3Ball%5C%3B+u%2Cj%29++%5C%5C+\" alt=\"\\sum_{i=1}^nx_{ij}\\pi(x_i)_u=\\sum_{i=1,\\;y_i=u}^nx_{ij}, (for\\;all\\; u,j)  \\\\ \" eeimg=\"1\"></p>\n<p data-pid=\"YpCUbF1W\">使用 <img src=\"https://www.zhihu.com/equation?tex=A%28u%2Cy_i%29+\" alt=\"A(u,y_i) \" eeimg=\"1\"> 这个函数，我们可以重写等式： </p>\n<p data-pid=\"0tvrcBOQ\"><img src=\"https://www.zhihu.com/equation?tex=%5Csum_%7Bi%3D1%7D%5Enx_%7Bij%7D%5Cpi%28x_i%29_u%3D%5Csum_%7Bi%3D1%7D%5En+A%28u%2Cy_i%29x_%7Bij%7D%2C+%28for%5C%3Ball%5C%3B+u%2Cj%29++%5C%5C\" alt=\"\\sum_{i=1}^nx_{ij}\\pi(x_i)_u=\\sum_{i=1}^n A(u,y_i)x_{ij}, (for\\;all\\; u,j)  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"t4qWO1S8\">想要证明逻辑回归跟最大熵模型是等价的，那么，只要能够证明它们的 <img src=\"https://www.zhihu.com/equation?tex=+%5Cpi+%28%29+\" alt=\" \\pi () \" eeimg=\"1\"> 是相同，结论自然就出来了。现在，我们不知道最大熵模型的 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi+%28%29\" alt=\"\\pi ()\" eeimg=\"1\"> ，但是我们知道下面的一些性质： </p>\n<p data-pid=\"QtlhJz-E\"><img src=\"https://www.zhihu.com/equation?tex=+%5Cpi%28x%29_v%5Cgeq0+%5Cquad+always++%5C%5C+%5Csum_%7Bv%3D1%7D%5Ek%5Cpi%28x%29_v+%3D+1+%5Cquad+always+%5C%5C+%5Csum_%7Bi%3D1%7D%5Enx_%7Bij%7D%5Cpi%28x_i%29_u%3D%5Csum_%7Bi%3D1%7D%5En+A%28u%2Cy_i%29x_%7Bij%7D%2C+%5Cquad%28for%5C%3Ball%5C%3B+u%2Cj%29+%5C%5C\" alt=\" \\pi(x)_v\\geq0 \\quad always  \\\\ \\sum_{v=1}^k\\pi(x)_v = 1 \\quad always \\\\ \\sum_{i=1}^nx_{ij}\\pi(x_i)_u=\\sum_{i=1}^n A(u,y_i)x_{ij}, \\quad(for\\;all\\; u,j) \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"EeV57KCl\">利用信息论，我们可以得到 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi+%28%29\" alt=\"\\pi ()\" eeimg=\"1\"> 的<b>熵</b>，定义如下： </p>\n<p data-pid=\"sDeEafy6\"><img src=\"https://www.zhihu.com/equation?tex=-%5Csum_%7Bv%3D1%7D%5Ek%5Csum_%7Bi%3D1%7D%5En%5Cpi%28x_i%29vlog%5B%5Cpi%28x_i%29_v%5D++%5C%5C\" alt=\"-\\sum_{v=1}^k\\sum_{i=1}^n\\pi(x_i)vlog[\\pi(x_i)_v]  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"S5prhlsv\">现在，我们有了<b>目标</b>： <img src=\"https://www.zhihu.com/equation?tex=%5Csum+%5Cpi%28%29\" alt=\"\\sum \\pi()\" eeimg=\"1\"> 最大，也有了上面的4个<b>约束条件</b>。求解约束最优化问题，可以通过拉格朗日乘子，将约束最优化问题转换为<b>无约束最优化</b>的对偶问题。我们的拉格朗日式子可以写成如下：</p>\n<p data-pid=\"Zfynkdbi\"><img src=\"https://www.zhihu.com/equation?tex=L%3D%5Csum_%7Bj%3D1%7D%5Em%5Csum_%7Bv%3D1%7D%5Ekw_%7Bv%2Cj%7D%28%5Csum_%7Bi%3D1%7D%5En%5Cpi%28x_i%29_vx_%7Bij%7D-A%28v%2Cy_i%29x_%7Bij%7D%29+%5C%5C+%2B%5Csum_%7Bv%3D1%7D%5Ek%5Csum_%7Bi%3D1%7D%5En%5Cbeta_i%28%5Cpi%28x_i%29_v-1%29++%5C%5C+-%5Csum_%7Bv%3D1%7D%5Ek%5Csum_%7Bi%3D1%7D%5En+%5Cpi%28x_i%29_vlog%5B%5Cpi%28x_i%29_v%5D\" alt=\"L=\\sum_{j=1}^m\\sum_{v=1}^kw_{v,j}(\\sum_{i=1}^n\\pi(x_i)_vx_{ij}-A(v,y_i)x_{ij}) \\\\ +\\sum_{v=1}^k\\sum_{i=1}^n\\beta_i(\\pi(x_i)_v-1)  \\\\ -\\sum_{v=1}^k\\sum_{i=1}^n \\pi(x_i)_vlog[\\pi(x_i)_v]\" eeimg=\"1\"></p>\n<p data-pid=\"M62Up_Cz\">对 L 求偏导，得到： </p>\n<p data-pid=\"9hvunN2B\"><img src=\"https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial+%5Cpi%28x_i%29_u%7DL%3Dw_u+%5Ccdot+x_i%2B%5Cbeta_i-log%5B%5Cpi%28x_i%29_u%5D-1+%5C%5C\" alt=\"\\frac{\\partial}{\\partial \\pi(x_i)_u}L=w_u \\cdot x_i+\\beta_i-log[\\pi(x_i)_u]-1 \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"ucEi16Am\">令偏导 = 0，得到：</p>\n<p data-pid=\"u4HLqXzi\"><img src=\"https://www.zhihu.com/equation?tex=w_u+%5Ccdot+x_i%2B%5Cbeta_i-log%5B%5Cpi%28x_i%29_u%5D-1%3D0+%5C%5C\" alt=\"w_u \\cdot x_i+\\beta_i-log[\\pi(x_i)_u]-1=0 \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"ifq39QFk\">从而得到： </p>\n<p data-pid=\"jXMHsE8l\"><img src=\"https://www.zhihu.com/equation?tex=%5Cpi%28x_i%29_u%3De%5E%7Bw_u+%5Ccdot+x_i%2B%5Cbeta_i-1%7D++%5C%5C\" alt=\"\\pi(x_i)_u=e^{w_u \\cdot x_i+\\beta_i-1}  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"D4iyWgbS\">因为有约束条件：</p>\n<p data-pid=\"oLRyezIT\"><img src=\"https://www.zhihu.com/equation?tex=%5Csum_%7Bv%3D1%7D%5Ek+%5Cpi%28x%29_v+%3D+1++%5C%5C\" alt=\"\\sum_{v=1}^k \\pi(x)_v = 1  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"i_7kV1Rh\">所以：</p>\n<p data-pid=\"Zyi_yVNb\"><img src=\"https://www.zhihu.com/equation?tex=%5Csum_%7Bv%3D1%7D%5Eke%5E%7Bw_v+%5Ccdot+x_i%2B%5Cbeta_i-1%7D%3D1+%5C%5C\" alt=\"\\sum_{v=1}^ke^{w_v \\cdot x_i+\\beta_i-1}=1 \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"eXvGfH0O\">因此，可以得到：</p>\n<p data-pid=\"Bf0Onb4X\"><img src=\"https://www.zhihu.com/equation?tex=e%5E%5Cbeta%3D%5Cfrac%7B1%7D%7B%5Csum_%7Bv%3D1%7D%5Eke%5E%7Bw_v+%5Ccdot+x_i-1%7D%7D+%5C%5C\" alt=\"e^\\beta=\\frac{1}{\\sum_{v=1}^ke^{w_v \\cdot x_i-1}} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"SXoF_jfz\">把 <img src=\"https://www.zhihu.com/equation?tex=e%5E%5Cbeta\" alt=\"e^\\beta\" eeimg=\"1\"> 代入  <img src=\"https://www.zhihu.com/equation?tex=%5Cpi+%28%29\" alt=\"\\pi ()\" eeimg=\"1\"> ，并且简化一下式子：  </p>\n<p data-pid=\"AH4w4STB\"><img src=\"https://www.zhihu.com/equation?tex=%5Cpi%28x%29_u%3D%5Cfrac%7Be%5E%7Bw_u%5Ccdot+x%7D%7D%7B%5Csum_%7Bv%3D1%7D%5Ek+e%5E%7Bw_v+%5Ccdot+x%7D%7D+%5C%5C\" alt=\"\\pi(x)_u=\\frac{e^{w_u\\cdot x}}{\\sum_{v=1}^k e^{w_v \\cdot x}} \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"8sCWlxY1\">这就是逻辑回归中提到的那个泛化的式子，这就证明了逻辑回归是最大熵模型的一个特殊例子。到此，逻辑回归与最大熵模型的关系就解释完毕了。</p>\n<h3>2.3 与 SVM</h3>\n<p data-pid=\"yA85lvoS\">相同点：</p>\n<ul>\n<li data-pid=\"ICZLzRiT\">都是分类算法，本质上都是在找最佳分类超平面；</li>\n<li data-pid=\"vYw6SLEf\">都是监督学习算法；</li>\n<li data-pid=\"xeTf3WFG\">都是判别式模型，判别模型不关心数据是怎么生成的，它只关心数据之间的差别，然后用差别来简单对给定的一个数据进行分类；</li>\n<li data-pid=\"r-t0xFTn\">都可以增加不同的正则项。</li>\n</ul>\n<p data-pid=\"h9XR5lMi\">不同点：</p>\n<ul>\n<li data-pid=\"BNYiotz5\">LR 是一个统计的方法，SVM 是一个几何的方法；</li>\n<li data-pid=\"6tpjFIDK\">SVM 的处理方法是只考虑 Support Vectors，也就是和分类最相关的少数点去学习分类器。而逻辑回归通过非线性映射减小了离分类平面较远的点的权重，相对提升了与分类最相关的数据点的权重；</li>\n<li data-pid=\"yMFUr0mZ\">损失函数不同：LR 的损失函数是交叉熵，SVM 的损失函数是 HingeLoss，这两个损失函数的目的都是增加对分类影响较大的数据点的权重，减少与分类关系较小的数据点的权重。对 HingeLoss 来说，其零区域对应的正是非支持向量的普通样本，从而所有的普通样本都不参与最终超平面的决定，这是支持向量机最大的优势所在，对训练样本数目的依赖大减少，而且提高了训练效率；</li>\n<li data-pid=\"WU_c6Gs6\">LR 是参数模型，SVM 是非参数模型，参数模型的前提是假设数据服从某一分布，该分布由一些参数确定（比如正太分布由均值和方差确定），在此基础上构建的模型称为参数模型；非参数模型对于总体的分布不做任何假设，只是知道总体是一个随机变量，其分布是存在的（分布中也可能存在参数），但是无法知道其分布的形式，更不知道分布的相关参数，只有在给定一些样本的条件下，能够依据非参数统计的方法进行推断。所以 LR 受数据分布影响，尤其是样本不均衡时影响很大，需要先做平衡，而 SVM 不直接依赖于分布；</li>\n<li data-pid=\"IBD5JMyL\">LR 可以产生概率，SVM 不能；</li>\n<li data-pid=\"QHwiAzAu\">LR 不依赖样本之间的距离，SVM 是基于距离的；</li>\n<li data-pid=\"5_ZiLzRS\">LR 相对来说模型更简单好理解，特别是大规模线性分类时并行计算比较方便。而 SVM 的理解和优化相对来说复杂一些，SVM 转化为对偶问题后，分类只需要计算与少数几个支持向量的距离，这个在进行复杂核函数计算时优势很明显，能够大大简化模型和计算。</li>\n</ul>\n<h3>2.4 与朴素贝叶斯</h3>\n<p data-pid=\"at-s0veq\">朴素贝叶斯和逻辑回归都属于分类模型，当朴素贝叶斯的条件概率 <img src=\"https://www.zhihu.com/equation?tex=P%28X%7CY%3Dc_k%29\" alt=\"P(X|Y=c_k)\" eeimg=\"1\"> 服从高斯分布时，它计算出来的 P(Y=1|X) 形式跟逻辑回归是一样的。</p>\n<p data-pid=\"hKcRN0mm\">两个模型不同的地方在于：</p>\n<ul>\n<li data-pid=\"OOWtK4uc\">逻辑回归是判别式模型 p(y|x)，朴素贝叶斯是生成式模型 p(x,y)：判别式模型估计的是条件概率分布，给定观测变量 x 和目标变量 y 的条件模型，由数据直接学习决策函数 y=f(x) 或者条件概率分布 P(y|x) 作为预测的模型。判别方法关心的是对于给定的输入 x，应该预测什么样的输出 y；而生成式模型估计的是联合概率分布，基本思想是首先建立样本的联合概率概率密度模型 P(x,y)，然后再得到后验概率 P(y|x)，再利用它进行分类，生成式更关心的是对于给定输入 x 和输出 y 的生成关系；</li>\n<li data-pid=\"F13fxYR4\">朴素贝叶斯的前提是条件独立，每个特征权重独立，所以如果数据不符合这个情况，朴素贝叶斯的分类表现就没逻辑会好了。</li>\n</ul>\n<h2>3. 模型细节</h2>\n<h3>3.1 为什么适合离散特征</h3>\n<p data-pid=\"-AAfjDzm\">我们在使用逻辑回归的时候很少会把数据直接丢给 LR 来训练，我们一般会对特征进行离散化处理，这样做的优势大致有以下几点：</p>\n<ol>\n<li data-pid=\"cLR82V6u\">离散后稀疏向量内积乘法运算速度更快，计算结果也方便存储，容易扩展；</li>\n<li data-pid=\"osDHuH8E\">离散后的特征对异常值更具鲁棒性，如 age&gt;30 为 1 否则为 0，对于年龄为 200 的也不会对模型造成很大的干扰；</li>\n<li data-pid=\"P-zfo1ob\">LR 属于广义线性模型，表达能力有限，经过离散化后，每个变量有单独的权重，这相当于引入了非线性，能够提升模型的表达能力，加大拟合；</li>\n<li data-pid=\"_9lStYG5\">离散后特征可以进行特征交叉，提升表达能力，由 M+N 个变量编程 M*N 个变量，进一步引入非线形，提升了表达能力；</li>\n<li data-pid=\"76JDrj9G\">特征离散后模型更稳定，如用户年龄区间，不会因为用户年龄长了一岁就变化；</li>\n</ol>\n<p data-pid=\"J0bUjkdL\">总的来说，特征离散化以后起到了加快计算，简化模型和增加泛化能力的作用。</p>\n<h3>3.2 为什么不用平方误差</h3>\n<p data-pid=\"dVgAnHxG\">假设目标函数是 MSE，即：</p>\n<p data-pid=\"98jau_Oi\"><img src=\"https://www.zhihu.com/equation?tex=L%3D%5Cfrac%7B%28y-%5Chat%7By%7D%29%5E2%7D%7B2%7D+%5C%5C+%5Cfrac%7B%5Cpartial+L%7D%7B%5Cpartial+w%7D%3D%28%5Chat%7By%7D-y%29%5Csigma%27%28w%5Ccdot+x%29x+%5C%5C\" alt=\"L=\\frac{(y-\\hat{y})^2}{2} \\\\ \\frac{\\partial L}{\\partial w}=(\\hat{y}-y)\\sigma'(w\\cdot x)x \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"tKF7kMQC\">这里 Sigmoid 的导数项为： </p>\n<p data-pid=\"G4GAm4AX\"><img src=\"https://www.zhihu.com/equation?tex=%5Csigma%5E%7B%27%7D%28w+%5Ccdot+x%29%3Dw%5Ccdot+x%281-w+%5Ccdot+x%29++%5C%5C\" alt=\"\\sigma^{'}(w \\cdot x)=w\\cdot x(1-w \\cdot x)  \\\\\" eeimg=\"1\"></p>\n<p data-pid=\"CbVF2LtB\">根据 w 的初始化，导数值可能很小（想象一下 Sigmoid 函数在输入较大时的梯度）而导致收敛变慢，而训练途中也可能因为该值过小而提早终止训练（梯度消失）。</p>\n<p data-pid=\"Obw29rRq\">另一方面，交叉熵的梯度如下，当模型输出概率偏离于真实概率时，梯度较大，加快训练速度，当拟合值接近于真实概率时训练速度变缓慢，没有 MSE 的问题。 </p>\n<p data-pid=\"zqi0Vjl8\"><img src=\"https://www.zhihu.com/equation?tex=g%5E%7B%27%7D%3D%5Csum_%7Bi%3D1%7D%5E%7BN%7D+x_%7Bi%7D%28y_%7Bi%7D-p%28x_%7Bi%7D%29%29++%5C%5C\" alt=\"g^{'}=\\sum_{i=1}^{N} x_{i}(y_{i}-p(x_{i}))  \\\\\" eeimg=\"1\"></p>\n<h2>4 引用</h2>\n<ol>\n<li data-pid=\"l4ZTOSou\"><a href=\"https://zhuanlan.zhihu.com/p/35356992\" class=\"internal\">L1 正则化与 L2 正则化</a></li>\n<li data-pid=\"OrXluvR_\"><a href=\"https://www.zhihu.com/question/37096933/answer/70426653\" class=\"internal\">L1 相比于 L2 为什么容易获得稀疏解？</a></li>\n<li data-pid=\"Oyn7TeUh\"><a href=\"https://link.zhihu.com/?target=https%3A//blog.csdn.net/sinat_27652257/article/details/80543604\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">参数模型和非参数模型</a></li>\n<li data-pid=\"IHuRcEUP\"><a href=\"https://www.zhihu.com/question/21704547\" class=\"internal\">SVM 和 Logistic 回归分别在什么情况下使用？</a></li>\n<li data-pid=\"dwDXIARc\"><a href=\"https://www.zhihu.com/question/26768865\" class=\"internal\">Linear SVM 和 LR 有什么异同？</a></li>\n<li data-pid=\"1RRq6Yff\"><a href=\"https://link.zhihu.com/?target=https%3A//blog.csdn.net/songbinxu/article/details/79633790%23%25E5%259B%259Blr-%25E6%25AD%25A3%25E5%2588%2599%25E5%258C%2596\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Logistic Regression (LR) 详解</a></li>\n<li data-pid=\"Fn6I4k7E\"><a href=\"https://link.zhihu.com/?target=https%3A//blog.csdn.net/yang090510118/article/details/39478033\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">逻辑回归 LR 的特征为什么要先离散化</a></li>\n<li data-pid=\"h2FtQNXP\"><a href=\"https://link.zhihu.com/?target=http%3A//blog.sina.com.cn/s/blog_6cb8e53d0101oetv.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">并行逻辑回归</a></li>\n<li data-pid=\"3r3Tzt3F\">\n<a href=\"https://www.zhihu.com/question/31989952/answer/54184582\" class=\"internal\">连续特征的离散化</a> </li>\n</ol>\n<p></p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/is-aze?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">阿泽</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br>\n","link":"http://zhuanlan.zhihu.com/p/74874291?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"融资到底谁说了算","date":"2022-09-21 02:59:31","description":"\n<p data-pid=\"838Ph82f\">「曾经有一份真挚的TS摆在我面前，但我没有珍惜，等到失去了我才后悔莫及，尘世间最痛苦的事莫过于此。如果上天可以给我再来一次的机会，我会对那个投资人说三个字：'Let's do it!' 如果非要在这份TS加一个期限的话，我希望是一万年。」</p>\n<p data-pid=\"n_o34DHJ\">最近很多创始人和我表达了类似的想法。</p>\n<p data-pid=\"m-YoNfdP\">也难怪。这一波创始人都是2015年左右开始下海的。那时候是O2O大行其道、全球美元重砸中国、硅谷就是北京七环那个年代，很难想象七年后就「痒」得不行，一定要分居了。经过了社会主义初级阶段投资人热情如火很多年的创始人们，现在忽然被冷落了，「好久没有陌生投资人给我打电话请客吃饭了」一位咖位不小的创始人这么和我讲。</p>\n<p data-pid=\"t4fqXRlS\">牛市中的创始人是时代的宠儿。但现在是黑得不见五指的熊市开端。很多更糟心的事情还没发生。至少中期选举还有俩月。很多工具山巅之国的白老爷子还没用。市场永远可以更差。</p>\n<p data-pid=\"pfjAxNRI\">其实无论是创业公司还是基金都是一样。说穿了大家都不是机构化平台，不是FANNG / MT. SAAS 或者 KKR 这样投资人尽管有时候也骂骂咧咧，但基本上都是不用做尽调就可以打钱的大平台。当然，红杉、IDG、深创投这些已经机构化的单位在募资上的苦恼略少一些，也不是本文讨论的对象。</p>\n<p data-pid=\"lmyJZjX9\">创始人有个错觉：自己是市场的佼佼者，于是大家都会埋单。其实未必。就算你确实是佼佼者。我经常和创业者们开玩笑，资本市场就像你的第一个女朋友（或者说「pre-女朋友」更准确），你永远搞不明白她到底怎么想的，一会儿冷，一会儿热，没有一刻你能猜到她的下一步。如果是牛市，那么创业者就是清华工物系的唯一女生，众星捧月，任皇上翻牌子；如果是熊市，那么就惨了，创业者就是「披2」里面的温兆伦和杜德伟，因为你的地位和经验，大家肯定过来打招呼，但是票不会投给你。</p>\n<p data-pid=\"5rQFD5vs\">融资时候创始人经常纠结稀释。这真是一个幸福的痛苦啊！「唉，虽然嫁妆很多，但是我要和他过一辈子啊！有点不甘心。」这种小女生情节会萦绕在每个创业者心里。只有傻乎乎的创业者或者真正经历过周期的创始人会毫不犹豫的拿下眼前的这份TS。事实证明，只有经历了熊市的干涸，每个创业者才会真正成熟起来，在能拿钱的时候融资，而不是一味的等待自己的下一个里程碑（于是可以涨涨价）或者条件更好的TS（还是要涨涨价）。只有能活下去的时候才有资格讲价。今天，很多公司的弹夹都空了。</p>\n<p data-pid=\"w-ASNEV_\">我是很保守的投资人，但却偏好「重新定义世界」类型的公司。我平衡自己风险的方式就是：一旦投了，那么公司一定要不停的融资，保证账上有3 - 4年的自由现金流，如果不是更多的话。无论是十年前的互联网（大家要烧钱验证模式，OPEX 极高）还是现在的硬科技（大家要烧钱做科研，CAPEX / 流片 / 临床花钱简直类似小黄车），钱是一切的前提。我甚至不在乎你下一轮的估值，但你的现金储备一定要多！碰上不爱融资的创始人我就特纠结：喜欢人家扎实的基本功，羡慕创始人面对资本心静如水，但是担心TA到最后就是一个固定收益项目，我可能还得想法儿技术变现回款及催收。</p>\n<p data-pid=\"6PQkpyn5\">资本化价值和商业化价值是两个层次上的事情，和时机高度相关。比如 2020 和 2021 挣得盆满钵满的IVD公司们现在的市盈率已经跌得稀里哗啦了。创始人既要搞好收入，又要做好IR，一个都不能少。因为 VC 只能通过资本化退出获利，很多创业者觉得委屈：我业务明明这么好，每年增长这么好，为什么投资人不买账？给我的估值这么低？因为，你的业务已经过时了，你已经不代表未来了。所以上市、资本化是一个与时俱进的功课，大家一定要做好。如果你不愿意做 IR 工作，那么我估计我们到最后也不会有什么收益，因为资本化的观众不会把票投给你。董秘不是秘书。你不要总想着省钱。TA 是美股的 CFO。CFO 也不是财务总监。TA 是你公司资本化价值的布道者。如果你不在时代的列车上，比如你现在做电商，而不是氢能，那么你就需要一个比你还厉害的 CFO 或者董秘，或者就多忍受一下投资人的抱怨甚至辱骂（庆幸我不在公募行业，那得折寿多少年），除非你是TikTok。</p>\n<p data-pid=\"IE6Nm4-g\">Call back: 融资到底谁说了算？市场。</p>\n<p data-pid=\"yBiLongh\">如果有无数的投资人不停的给你打电话，那么无论你现在处在什么状态，你都应该捞一把鱼。因为他们真的会离场，甚至资本市场也会下线。那时候，无论你的产品多么惊艳、你的团队多么完整、你的管线多么齐备……场内无人下单。聪明的创业者也许只是运气好，但像我这么笨的人，也一定会分清楚我的能力和市场 beta 的边界，利用市场 beta（参考我上一篇关于「披2」的文章，里面有关于市场 beta 的讨论），而不是孤注一掷搞产品搞技术，才能保证自己的企业基业长青，不会半路夭折，拍卖 IP 还 CB 或者 acquhire 给团队找出路。「失败是成功之母」听着耐受，其实创始人比谁都难受。不要失败！早做打算！学会和市场妥协。两亿颗精虫，只有一颗能够着床，但我们没有两亿次机会试错。「成功（才）是成功亲生的妈」。</p>\n<p data-pid=\"EAWxG5OI\">作为创始人，更需要考虑的是基业长青，也许会错过几个高点，但是一定要有足够的子弹活到那天。这个信条适用于所有行业。但经常发生的是，我们想着基业长青，但实操往往逢坑必入，不采纳我们的建议，牛市的胸有成竹如果没交付，那么熊市只能慌得一批。这和创始人的年纪也没太大关系，不意味着人生经历多的创始人遇到资本市场就不慌张。资本市场永远是你的女神，不听我们闺蜜的话，你绝对搞不定。我经常比喻VC更像女朋友，因为迟早会退出，不会陪团队一辈子，只要我们不劈腿（赌赛道），那么我们所有的心思都是为了你好。除了偶尔我们也想要一条新裙子或者名牌包（阶段性分红或者资产出售），我们愿意赔上耐心，赌你会成为这条街上最靓的仔。</p>\n<p data-pid=\"XcFi4eXo\">今天有个文章（<a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/smlxKON3tphNr1Yi5UTUAQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">技术封锁，生物科技内循环</a>）对比美国 biotech 市场的估值分布和 18A 公司，一个简单的统计是：纳斯达克有 800 多家创新药企业，其中 2014 - 2018 年上市的 424 家，其中 84 家市值小于一亿美元，只有9 家市值超过 50 亿美元；2004 - 2016年上市的 316 家生物科技公司，只有 36 家存活超过 10 年。</p>\n<p data-pid=\"AA2SQu0y\">反观 18A 的 36 家和科创板 30+ 家生物科技公司，样本量是纳斯达克的 1/10 不到，正态分布也许根本就不会发生。像 Arbutus 这样的全球卡脖子专利公司，Moderna / BioNTech 都绕不过去，要是放在科创板，一定能上天啊，但是在美股也就三亿多美元。很多创新药创始人哭穷「你们投资人给的估值太低了啊，比上一轮没涨啊！」但是在今天全球 Biotech 2000 这样一个市场里面，投资人为什么要投钱给一个 fully priced 的创业团队呢？为什么不把资源放到二级市场，或者直接从那些 micro cap 的公司里面买管线和技术，重新做一家又快又没负担的新公司呢？第一天就有IND级别的管线，第一天就不只是一家创业公司了。</p>\n<p data-pid=\"9G3Utqwa\">Call back 2: 其实不止是融资需要市场拍板。所有重大的事情都是市场拍板。一切都是「时势造英雄」。各位好汉，听人劝，吃饱饭。在这个无比难熬的漆黑熊市里，大家多屯粮、高筑墙、缓称王，哪怕条件不好，也胜过功亏一篑、倒在黎明前。想想 2019 年的李斌和 2021 年的俞敏洪，值得我们所有人敬佩的两条汉子！</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/wayneshiong?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">熊伟铭</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br>\n","link":"http://zhuanlan.zhihu.com/p/566481472?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"如何评价鹤戾申创作的国产漫画《画漫画太难了》？","date":"2022-09-21 02:32:55","description":"\n<p data-pid=\"cRk2x4V3\">很幸运也很可惜看到这部作品，这不是《爆漫王》，也不是《暴走邻家》而是一部真正意义上反映了当下中国漫画家生存现状的漫画。</p>\n<p data-pid=\"e0ByxTOQ\">这是一部让中国漫画家感同身受的作品、也是一部让读者更了解中国漫画产业的作品。同时，也是每一个爱好中国漫画读者的一份礼物</p>\n<p><img src=\"https://pica.zhimg.com/v2-3bd80935afa26f3ff3eed3b23a7e48cb_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"2989\" data-watermark=\"watermark\" data-original-src=\"v2-3bd80935afa26f3ff3eed3b23a7e48cb\" data-watermark-src=\"v2-8674a8719d6143560470a8be28a16aa8\" data-private-watermark-src=\"v2-496ca24d66c348999df3dc39f5628d10\"></p>\n<p data-pid=\"n3i7Pxf9\">《画漫画太难了！》围绕着<b>主人公画手高压锅、原作搭档荷兰猪以及新来的漫画编辑Wednesday，</b>讲述了一部名为《霸道废妻》的小说改编漫画在Didi漫画app上线后的创作过程和面临的各方压力。读者们跟随着新手编辑Wednesday的视线，以一个漫画新人的角度，逐渐了解漫画的创作、背后复杂的运作机制、以及一部漫画上线所引发的各方势力的矛盾和创作者的妥协。</p>\n<p><br></p>\n<p data-pid=\"3ivRuQhY\">从主题层面来讲，作品的野心很大。作者以新人画手出道作为起点，展现了<b>创作者、工作室、平台方三方的需求和顾虑</b>。不单单是从某一立场批判任何一方，《画漫画太难了！》展现了创作者创作商业漫画时，面对<b>实时变化的点击率、观众催更、平台数据</b>等，内心对梦想的坚持和对资本的需求的矛盾和纠结。是一部不可多得的现实主义漫画作品。</p>\n<p data-pid=\"c07DQZol\"><b>整部作品分为5卷，总共30话＋1话番外</b></p>\n<p data-pid=\"7fFhFG-i\">故事的一开头是采用剧中漫画的形式，一个简单粗暴的开场，清新的色彩，有点随意的线条描绘，加之霸气侧漏的台词，奠定了这部作品有点跳脱却不失严肃的基调。</p>\n<p><img src=\"https://pic4.zhimg.com/v2-51991b94b262437ddef2b0d20bb6071b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1384\" data-rawheight=\"2048\" data-watermark=\"watermark\" data-original-src=\"v2-51991b94b262437ddef2b0d20bb6071b\" data-watermark-src=\"v2-08602eb29939d35b8cc54f1169dc6437\" data-private-watermark-src=\"v2-73cd6c11ddba2605c63d3d21d4e67817\"></p>\n<p data-pid=\"dEN54U-9\">故事最开端就讲述了主人公高压锅画手不愿意随波逐流，追求流量似地去改编时下最热门的霸道总裁小说为漫画，但是搭档的一句，下个月房租该交了，直接让其破防。</p>\n<p><img src=\"https://pica.zhimg.com/v2-3f22eda5ec321459c9c538726d33a18c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1376\" data-rawheight=\"2048\" data-watermark=\"watermark\" data-original-src=\"v2-3f22eda5ec321459c9c538726d33a18c\" data-watermark-src=\"v2-6633dea7b5757a823365c06c26dbdd44\" data-private-watermark-src=\"v2-694efadb0f3e0a2f45869940b05bfdec\"></p>\n<p data-pid=\"3DmGhhos\">尤其是我们第一次知道画一话漫画的明码标价，原来有连载有正常收入的漫画家原来收入是这个水平（月薪过万）</p>\n<p data-pid=\"U42np5sG\">但是很快我们就能发现这万把来块钱赚的有多么不容易，而且这还是整个工作室的收入，所以顿时给读者泼了一把冷水：原来成功连载的漫画家也不怎么赚钱</p>\n<p><img src=\"https://pic4.zhimg.com/v2-bb0513efc0102b29891ff4a26689022c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1317\" data-rawheight=\"2048\" data-watermark=\"watermark\" data-original-src=\"v2-bb0513efc0102b29891ff4a26689022c\" data-watermark-src=\"v2-c0b265f01cd51f37b713b0b055a106bc\" data-private-watermark-src=\"v2-484c846d66a15e3c96b1caf5860d9d67\"></p>\n<p data-pid=\"1xeIQRKT\">而接下来许多关于漫画的创作过程，作者选取了一个很好的视角</p>\n<p data-pid=\"AuDpCI09\">新手漫画编辑Wednesday，带领着读者了解一部漫画是怎么诞生的</p>\n<p><img src=\"https://pic1.zhimg.com/v2-a750d5432f1663a91e55042931721843_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2551\" data-watermark=\"watermark\" data-original-src=\"v2-a750d5432f1663a91e55042931721843\" data-watermark-src=\"v2-d3504a00401ea85006573eb1912159ed\" data-private-watermark-src=\"v2-2e10228c5fe37a2c72db028ee5c27290\"></p>\n<p data-pid=\"DijfrRKc\">第一件事，就是要认识自己负责的漫画家，每个漫画家都有自己的小脾气，有自己擅长与不擅长的部分，这些部分，都是需要编辑去挖掘的。</p>\n<p data-pid=\"5dC-gbgP\">而我们的主人公就是看似凶神恶煞实则对漫画无比热爱的高压锅主笔</p>\n<p><img src=\"https://picx.zhimg.com/v2-de0ce62f7ea685134c156c8702681bb3_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2563\" data-watermark=\"watermark\" data-original-src=\"v2-de0ce62f7ea685134c156c8702681bb3\" data-watermark-src=\"v2-bdaa8422448224379641186dd0a430ee\" data-private-watermark-src=\"v2-cc7fb1f2b9a7223a7d96c742f1ec3bd5\"></p>\n<p data-pid=\"ILEe-_-t\">即便作为一个新手编辑，陪在漫画家身边，见证一部漫画的诞生，人物、场景、道具以及每次讨论剧情走向之时，都会让新编辑明白，一部漫画从创作到面世，这其中经历了怎样的曲折，可能只有亲身经历的工作室小伙伴们知道了，但是读者只看结果：<b>这部漫画是否有趣，是否吸引自己</b></p>\n<p><img src=\"https://pic1.zhimg.com/v2-52e07554a7192ff4842a26e689b36013_720w.jpg?source=b1748391?rss\" data-caption=\"这句话说出了多少人的心声\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2303\" data-watermark=\"watermark\" data-original-src=\"v2-52e07554a7192ff4842a26e689b36013\" data-watermark-src=\"v2-c5eb99f0ac3e4fc174ac6d4c849f172d\" data-private-watermark-src=\"v2-85e28467eb88d4122fe62c26157a62ba\"></p>\n<p data-pid=\"h6nTt5uL\">而在跟随漫画家创作的过程中，我们也学习到了一小部分漫画相关的知识，诸如漫画的叙事方式、分镜、构图等等</p>\n<p><img src=\"https://pic2.zhimg.com/v2-c452fe1756091d5c207e98fd369d0ab0_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2131\" data-watermark=\"watermark\" data-original-src=\"v2-c452fe1756091d5c207e98fd369d0ab0\" data-watermark-src=\"v2-9395398b7951b17cf3b4e042a1a41f3a\" data-private-watermark-src=\"v2-efa377fe6a5af24f618bb64485a3513e\" data-tags=\"porn\"></p>\n<p data-pid=\"d8C-71Wu\">更重要的是传递出一个问题让读者思考</p>\n<p data-pid=\"jAZ2JMy1\"><b>作为一个创作者，应该以创作者/读者意愿为重？</b></p>\n<p data-pid=\"eMffZUdH\">这是一个亘古不变的难题，作者要是自己画的爽，可能读者不买单，然后就没人气，作品可能无法继续连载。</p>\n<p data-pid=\"N4HhZ494\">作者如果以读者为主，就会被流量、被热点带着跑，创作的内容可能就不再是自己想表达的，作品失去灵魂。</p>\n<p data-pid=\"9b3Y-7rs\">那究竟怎样才算对的，才是好的，没有人知道答案</p>\n<p><img src=\"https://pica.zhimg.com/v2-5f62092d9286cb9f0792615d0a90dda9_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2544\" data-watermark=\"watermark\" data-original-src=\"v2-5f62092d9286cb9f0792615d0a90dda9\" data-watermark-src=\"v2-c28ba0f51ab48baf1566a91a7c1373fa\" data-private-watermark-src=\"v2-e878df25a12fe2656e8f91ddf5f50faf\"></p>\n<p data-pid=\"VY4YgKNF\">但是在创作过程中，相互配合的伙伴就很重要，诸如高压锅主笔虽然脾气暴躁，在和搭档荷兰猪因为创作分歧吵架以后一气之下出走工作室，但是在买宵夜回去之时，即便支付宝的钱不够，也要给搭档带回一杯咖啡，因为那是她的最爱。</p>\n<p data-pid=\"gakjuqHo\">试问这样的搭档在哪找？</p>\n<p><img src=\"https://pic1.zhimg.com/v2-6d4cf2450eabc2fa97ee63aa49d22d25_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2050\" data-watermark=\"watermark\" data-original-src=\"v2-6d4cf2450eabc2fa97ee63aa49d22d25\" data-watermark-src=\"v2-faa9d170683a416ba2f267a52e0e9d29\" data-private-watermark-src=\"v2-13a1d5c693b00d5e1a6390b791ee1773\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-2f464e35bb3c5d417da5f853aa4608b3_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"1756\" data-watermark=\"watermark\" data-original-src=\"v2-2f464e35bb3c5d417da5f853aa4608b3\" data-watermark-src=\"v2-a3bf3708aa71748ff47be3f30067c6d5\" data-private-watermark-src=\"v2-142963b5c5adf11511fdbd7d2223bd05\"></p>\n<p data-pid=\"ifQtBl0L\">而我们的新人编辑wednesday，之所以做这份工作，是源于一份热爱，源于自己对漫画的爱</p>\n<p data-pid=\"ymI_1iHR\">有多少读者心中也有同样的想法：<b>虽然自己不会画画，但是漫画改变了自己很多，所以希望自己能为漫画做点什么</b></p>\n<p data-pid=\"kYIlkPnC\">而wednesday，希望可以和漫画家们创作出令读者觉得有趣的作品</p>\n<p><img src=\"https://pic1.zhimg.com/v2-720ab9a14f10f8068e7e35c69c4f9a07_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2656\" data-watermark=\"watermark\" data-original-src=\"v2-720ab9a14f10f8068e7e35c69c4f9a07\" data-watermark-src=\"v2-6dee1c99e9e5dee7936b9dc6d616cb01\" data-private-watermark-src=\"v2-4055bea41ccf4d62924f4d29891ea7f2\"></p>\n<p><img src=\"https://pic1.zhimg.com/v2-92564c35d9252cb56892efd8442a885c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1435\" data-rawheight=\"1992\" data-watermark=\"watermark\" data-original-src=\"v2-92564c35d9252cb56892efd8442a885c\" data-watermark-src=\"v2-62eeeba0d18700fc5ca9c7df17637ad4\" data-private-watermark-src=\"v2-5c44fc1d3b62234d78132f6d53f5f716\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-1f489d90bba22480cca4763ef6d8916d_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2564\" data-watermark=\"watermark\" data-original-src=\"v2-1f489d90bba22480cca4763ef6d8916d\" data-watermark-src=\"v2-bdd29037fffe27ca09eb65808791aa84\" data-private-watermark-src=\"v2-bc9b479cabb28e5a5ea6473b7bc8503f\"></p>\n<p data-pid=\"3DF3THdo\">这部作品最不真实也最现实的地方就在于，wednesday是一个非常有能力的年轻人</p>\n<p data-pid=\"r0WU5Yjd\">在两位新人漫画家第一次连载，遇到了不靠谱的责任编辑，在新手保护期一过之后，一次都没有上过平台的推荐位，导致漫画面临腰斩的局面。</p>\n<p><br></p>\n<p><img src=\"https://pic1.zhimg.com/v2-102c1c7ed8b1c0b6b1bb88b7713fb468_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2816\" data-watermark=\"watermark\" data-original-src=\"v2-102c1c7ed8b1c0b6b1bb88b7713fb468\" data-watermark-src=\"v2-e091d1361c14e3aa2cabc08eb1041dd4\" data-private-watermark-src=\"v2-84b3d23768446023dc0860276dedfa35\"></p>\n<p data-pid=\"Bd0YUP8V\">这时的wednesday，详细地分析过自己负责的作品，用数据来说明作品的受欢迎程度，还有曾经做过的改编测评，用尽一切证明，自己一方绝对是付出了百分之百努力的</p>\n<p><img src=\"https://pic2.zhimg.com/v2-9106d7cea223844484cb9cc3ba6ff65b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2428\" data-watermark=\"watermark\" data-original-src=\"v2-9106d7cea223844484cb9cc3ba6ff65b\" data-watermark-src=\"v2-94d11e78b79d4b3fc06dc25f96f342d2\" data-private-watermark-src=\"v2-bbc8af6f763874efbef53fbd6027e993\"></p>\n<p data-pid=\"DYmvlJbj\">但是最终这么用心的作品依旧没有取得很好的成绩，平台方有责任，但是读者的选择也说明了一些问题，这段故事也借黎姐这位平台负责人之口道出这个道理：<b>平台会将资源投给受益更大的作品，即便这部作品或许并没那么优秀</b></p>\n<p><img src=\"https://pica.zhimg.com/v2-a69ab02f83705595f0a34f2a197e6457_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1357\" data-rawheight=\"2048\" data-watermark=\"watermark\" data-original-src=\"v2-a69ab02f83705595f0a34f2a197e6457\" data-watermark-src=\"v2-a72c1f23faa1093e34de5720c9767d63\" data-private-watermark-src=\"v2-61c34c5b65403733d113f63406f52a9b\"></p>\n<p data-pid=\"jTI1O3uB\">同时也是这次事件，令这位负责《霸道废妻》的编辑回想起自己做漫画编辑的初心：<b>帮助创作者一起创造和改进作品</b></p>\n<p><img src=\"https://pic1.zhimg.com/v2-a089402365b9dc3b4f08ff3968d3bf91_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1328\" data-rawheight=\"2048\" data-watermark=\"watermark\" data-original-src=\"v2-a089402365b9dc3b4f08ff3968d3bf91\" data-watermark-src=\"v2-fb94b8f258c84f2346a1346c94488edc\" data-private-watermark-src=\"v2-afbcab5cad53ff24bd39321e158f14c7\"></p>\n<p data-pid=\"31IxeKn4\">而黎姐更是一语道破：<b>漫画编辑不仅仅是帮助作者“完成”漫画，更要为这些作品增加展示的机会</b></p>\n<p><img src=\"https://pica.zhimg.com/v2-74ed679dceef4e170b4840762db6e20f_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2364\" data-watermark=\"watermark\" data-original-src=\"v2-74ed679dceef4e170b4840762db6e20f\" data-watermark-src=\"v2-8062532f651d20d1a286480fb8588431\" data-private-watermark-src=\"v2-d1861efd302291d756358bcd422edadc\"></p>\n<p data-pid=\"v0G-F3EG\">流量是一门玄学，所以不论是编辑还是漫画家，在这个流量时代也在想方设法增加曝光度</p>\n<p data-pid=\"SueBR6zN\">例如荷兰猪和高压锅就打算在wednesday的建议下采用直播方式推广作品</p>\n<p><br></p>\n<p><img src=\"https://pic4.zhimg.com/v2-4ec7d325b39eb3bd85e58ffc18b9651a_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2491\" data-watermark=\"watermark\" data-original-src=\"v2-4ec7d325b39eb3bd85e58ffc18b9651a\" data-watermark-src=\"v2-1280e2b4b397c5852bd452133708e416\" data-private-watermark-src=\"v2-07e2e55b29dd6d7f029d2e7752c80023\"></p>\n<p data-pid=\"_xS-bx96\">但是并不是每一个人都适合用这种方式，尤其是不善于交际的高压锅老师</p>\n<p data-pid=\"F7dwRfOT\">一个人画画没问题，和伙伴一起边讨论边画画，也没问题，在一群网友围观下画画，不是每个人都能做到了，所以，我们不能勉强每一位创作者</p>\n<p><img src=\"https://pic1.zhimg.com/v2-8e07ee060c0137a122febe5d35bae3c3_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2380\" data-watermark=\"watermark\" data-original-src=\"v2-8e07ee060c0137a122febe5d35bae3c3\" data-watermark-src=\"v2-2123b3b888b8a4049a7814930d804cc0\" data-private-watermark-src=\"v2-3d2d5faa49691c96db425e9116a57211\"></p>\n<p data-pid=\"9Wa6QAad\">于是乎，我们曾经整天上班摸鱼打游戏，浑浑噩噩上班的汪洋编辑，在wednesday的抽奖活动发生失误后，发挥出了他身为资深编辑的作用，亲手为每一位新的获奖者手写了一封感谢信</p>\n<p data-pid=\"hhh0NEL7\">真情流露，所以效果也显著</p>\n<p><img src=\"https://pica.zhimg.com/v2-164a89a594ec26b5498dfd1a0157a88b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2657\" data-watermark=\"watermark\" data-original-src=\"v2-164a89a594ec26b5498dfd1a0157a88b\" data-watermark-src=\"v2-890344af8f3ba67ba464be748a040178\" data-private-watermark-src=\"v2-e7398201ec9d0ddba4da72c684f8e45e\"></p>\n<p data-pid=\"KYvAqMsF\">除了编辑和漫画家外，这里面还刻画了一位优秀的父亲，他是专门负责作品上色的李拜天老师</p>\n<p data-pid=\"ltpDzzDS\"><b>曾经他还是拥有着漫画梦想的少年，在他得知女友怀孕之时，毅然决然掐灭烟头，说了一句我们结婚吧，投身赚钱养家行列，将自己漫画家的梦想深埋于心</b></p>\n<p data-pid=\"_VPCibHj\">这是多少拥有漫画梦少年的缩影，梦想可以有，但是现实依旧残酷，每个人有权利选择自己过怎样的人生，但是，也有责任过好这一生</p>\n<p><img src=\"https://pic3.zhimg.com/v2-1a6d765c46821511cf6de188f5b76c10_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"1931\" data-watermark=\"watermark\" data-original-src=\"v2-1a6d765c46821511cf6de188f5b76c10\" data-watermark-src=\"v2-98c92a082c077d069981d99d0b8f8e5b\" data-private-watermark-src=\"v2-8543bffed95ecdedccbcbe56963e5661\"></p>\n<p><img src=\"https://pic2.zhimg.com/v2-e21f8cab986f9d4d987513ee94bbc764_720w.jpg?source=b1748391?rss\" data-caption=\"超级喜欢这段\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2651\" data-watermark=\"watermark\" data-original-src=\"v2-e21f8cab986f9d4d987513ee94bbc764\" data-watermark-src=\"v2-de6e3fad9862f647c80af3d007124406\" data-private-watermark-src=\"v2-c990c5f20fa972a3cd8a8246a9e4cead\"></p>\n<p><img src=\"https://pica.zhimg.com/v2-16399857cfccd738e334ea94fe8a5de5_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2585\" data-watermark=\"watermark\" data-original-src=\"v2-16399857cfccd738e334ea94fe8a5de5\" data-watermark-src=\"v2-2359409c2414924cffb181214fe1b5b6\" data-private-watermark-src=\"v2-42fe282a21ea93cb9312e7dea05b76fe\" data-tags=\"politic\"></p>\n<p data-pid=\"ghMYwR0K\">为什么说这部漫画对于漫迷来说是一份礼物，因为这是一部对所有爱好漫画的人有着精准刻画的作品</p>\n<p><img src=\"https://pica.zhimg.com/v2-4f8f19130fb07e99ef9f0062ca04819a_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2561\" data-watermark=\"watermark\" data-original-src=\"v2-4f8f19130fb07e99ef9f0062ca04819a\" data-watermark-src=\"v2-91b0e97f6686c12383483cdf6911503f\" data-private-watermark-src=\"v2-7cc4c508d51b626fbe3e5da0fbf65b24\"></p>\n<p data-pid=\"lijyzOGZ\">非常简单的例子，在高压锅老师在漫展上看到一本有趣的漫画之时，背后衍生出故事情节那种飞一般的感觉，简直就想跳起来的感觉，描绘地惟妙惟肖，这种精神上的满足，是其他文娱作品无法带来的美妙体验。</p>\n<p><img src=\"https://pic3.zhimg.com/v2-4f2e96f9fb7096bc8ff3d7529857fbde_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2644\" data-watermark=\"watermark\" data-original-src=\"v2-4f2e96f9fb7096bc8ff3d7529857fbde\" data-watermark-src=\"v2-aa8014351c9a9c1f1b0d7022ece6c14d\" data-private-watermark-src=\"v2-91a94ff70f7cfce6d489b0bd87cf7917\" data-tags=\"porn\"></p>\n<p><img src=\"https://pic2.zhimg.com/v2-c06b5b81ab118f28340d29af2a13f159_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2680\" data-watermark=\"watermark\" data-original-src=\"v2-c06b5b81ab118f28340d29af2a13f159\" data-watermark-src=\"v2-1e5a6a39852609d3ef62c73c97a210d9\" data-private-watermark-src=\"v2-f25adcf6b6e238480e2f615cbed74b71\"></p>\n<p data-pid=\"H0f30C8o\">这部作品不仅仅是年轻人的梦，还有着中年人的漫画梦</p>\n<p data-pid=\"2Hh7SiCr\">比如这位工作室的大佬，曾经一手创办少年卡通，但是遇上纸媒衰落不得不放弃</p>\n<p data-pid=\"VBkVvvwU\">现在即便拥有工作室，依旧每天奔波于投资人之间，只为自己底下的伙伴可以专心创作</p>\n<p><img src=\"https://picx.zhimg.com/v2-81b3457e8f951fc3e74da9dc1878712f_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2380\" data-watermark=\"watermark\" data-original-src=\"v2-81b3457e8f951fc3e74da9dc1878712f\" data-watermark-src=\"v2-bd02ea13fbcc7eee9b6228e96c5abbb1\" data-private-watermark-src=\"v2-abe503846b9b3a0294ea0f7c0e3465a6\"></p>\n<p data-pid=\"S_eSlTw4\">比如这位资深编辑霍启，每天兢兢业业，因为被作品打动而拼命推进项目，在自己岗位上为漫画事业做贡献</p>\n<p><img src=\"https://pic2.zhimg.com/v2-4a49b1200743395230a990806ea06aaa_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2370\" data-watermark=\"watermark\" data-original-src=\"v2-4a49b1200743395230a990806ea06aaa\" data-watermark-src=\"v2-2044fb00570af0303712c4f29cecbe1c\" data-private-watermark-src=\"v2-0cabf8973dee474e0e9fc17687a15668\" data-tags=\"porn\"></p>\n<p data-pid=\"qDQOPDQw\">但是个人的力量始终无法战胜资本，一句一代朝臣一代纲就让自己之前所有的努力化为灰烬</p>\n<p><img src=\"https://pic3.zhimg.com/v2-20a7edfd6ffee210fcaad2f480ab5a88_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2660\" data-watermark=\"watermark\" data-original-src=\"v2-20a7edfd6ffee210fcaad2f480ab5a88\" data-watermark-src=\"v2-eb9ec4ae1926475f04f3429838f96d5a\" data-private-watermark-src=\"v2-3935bdffdbde8265468fe7a37d777787\"></p>\n<p data-pid=\"clx800C7\">以至于汪洋都问出这句，<b>我们一直以来所做的事情，到底算什么？</b></p>\n<p><img src=\"https://pic4.zhimg.com/v2-32cf011ed2f00d026e267f8907063921_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"1522\" data-watermark=\"watermark\" data-original-src=\"v2-32cf011ed2f00d026e267f8907063921\" data-watermark-src=\"v2-e7b9f3d6bad7855b19a1c8556c2bfc6f\" data-private-watermark-src=\"v2-f040f3d694a8d3676a00356eb97e920e\"></p>\n<p data-pid=\"UzLDenHx\">而霍启的这个满分回答我至今不能释怀</p>\n<h3><b>我们所做的一切源于我们对漫画的热爱，和对漫画编辑这个岗位的尊重！</b></h3>\n<p data-pid=\"caFoPocp\">但是对于资本来说</p>\n<h3><b>屁都不是！</b></h3>\n<p><img src=\"https://pic4.zhimg.com/v2-ac7b578db300623caed8af5a20636cfa_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2647\" data-watermark=\"watermark\" data-original-src=\"v2-ac7b578db300623caed8af5a20636cfa\" data-watermark-src=\"v2-08555a941a840b603caf7c4d9a86f9ca\" data-private-watermark-src=\"v2-72112027527999aecd8b6874d03d85a4\"></p>\n<p data-pid=\"R11WKn97\">因此这一段我有必要先介绍一下《画漫画太难了》这部作品的连载平台，一个由<b>彩条屋影业</b>牵头的漫画app<b>《一本漫画》，（这真不是打广告哈）</b>起初在这个平台上各个题材百花齐放，虽然说爆款不多，但是作者用心，作品也质量不错，是一众漫迷心中国漫的新希望。</p>\n<p data-pid=\"x6Fqw1bu\">但是在2020年的12月寒冬之际，《一本漫画》忽然腰斩大量非神话题材作品，《单向荷尔蒙》、《十文起送》和《温柔的夹竹桃》等漫画被迫完结，原因如同《画漫画太难了》中说道，总裁换人，方针改变，因为它的平台虽然精品不少，但流量迟迟不能做大，养不起那么多作品。而且彩条屋也是《魔童降世》和《姜子牙》的制作公司，它培育《一本漫画》的初衷，就是为了给“封神宇宙”添砖加瓦。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-a3e6903fab28b8e6c7125bdfe8dc1463_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"304\" data-watermark=\"watermark\" data-original-src=\"v2-a3e6903fab28b8e6c7125bdfe8dc1463\" data-watermark-src=\"v2-fd7af471cb29ce8f5efa10ed159e60bf\" data-private-watermark-src=\"v2-c8bf7cad74a8e96841fee47138548173\"></p>\n<p data-pid=\"jIBXRXXt\">所以《一本漫画》放弃非神话题材作品是事实，DM、百合以及古风等题材的漫画，都相继收到完结通知，有些是马上完结，有些则是半年后完结</p>\n<p><img src=\"https://picx.zhimg.com/v2-a6ba21187a76e5b9ba5606798eb60ef8_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"366\" data-watermark=\"watermark\" data-original-src=\"v2-a6ba21187a76e5b9ba5606798eb60ef8\" data-watermark-src=\"v2-0bf0e8faf1c7ee4b9610f564a209ce92\" data-private-watermark-src=\"v2-b15b1936182fce377ee49302c72882af\"></p>\n<p data-pid=\"RqmcvKpJ\">现在国产漫画的版权主要在平台手中，除了一些著名作者，其他九成的普通作者都不会有版权。《十文起送》的作者凄凉地说：“因为版权不在手里，连漫画本体都不能在微博上发”。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-a8db0f8d6befaf069b46e3c4c10214aa_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"278\" data-watermark=\"watermark\" data-original-src=\"v2-a8db0f8d6befaf069b46e3c4c10214aa\" data-watermark-src=\"v2-2774e2e60e545439fe391aa46b580b35\" data-private-watermark-src=\"v2-bdcefaef4210e167bafb762c507bbd2f\"></p>\n<p data-pid=\"luPsZeLI\">所以这部作品也算是在这个特定的时间段内记录了一件在中国漫画发展上意义重大且毫无影响的事件了吧。即便最终这部漫画同样因此被迫提前完结。</p>\n<p><img src=\"https://pic2.zhimg.com/v2-53dc970e0bad7fdaa4b7fc2b870e3517_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2657\" data-watermark=\"watermark\" data-original-src=\"v2-53dc970e0bad7fdaa4b7fc2b870e3517\" data-watermark-src=\"v2-717c93f163094b868ed25f20ff7e5dd2\" data-private-watermark-src=\"v2-08bb6d444859bac3a36dbb3818205075\"></p>\n<p data-pid=\"s08sOWQe\">所以看完这部作品的经历，我们也会像小女孩一般有这个疑问，既然画漫画这么难，为什么还有那么多人在坚持画漫画呢？</p>\n<p><br></p>\n<p data-pid=\"_K2abIpC\">因为最后的最后，作品依旧想向观众传递出一个正能量的，积极的信号：<b>画漫画实在太有趣了</b>。</p>\n<p data-pid=\"HvXiGa_U\">包括最后小女孩也因此想继续学习漫画，未来想成为漫画家，这也是一种国产漫画的传承与希望</p>\n<p><img src=\"https://pica.zhimg.com/v2-c4693171c679432eb8e1eaf31fe27e7a_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"2657\" data-watermark=\"watermark\" data-original-src=\"v2-c4693171c679432eb8e1eaf31fe27e7a\" data-watermark-src=\"v2-4cef44131016229d0d24f4c884e9c2cc\" data-private-watermark-src=\"v2-1adbb62497087e0d3b814e33f002a5f8\"></p>\n<h3>希望国漫越来越好，国漫加油！</h3>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/bin-di-47-74?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">彬帝</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/514831350/answer/2608048228?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">2 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/393241149?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">如何一句话惹怒漫画《非人哉》铁粉？</a><br><a href=\"http://www.zhihu.com/question/496198901?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">网易漫画里有哪些古风双男主漫画？</a><br>\n","link":"http://www.zhihu.com/question/514831350/answer/2608048228?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"电动汽车的生命周期比燃油车的要更长吗？","date":"2022-09-20 02:36:59","description":"\n<p data-pid=\"UAMGBYkb\">硬件上面，光看底盘、车身、电子电气架构、现在市面上的新能源车和传统油车之间还没拉出大的差别。所以寿命来看基本是一致的。（这里不考虑某些新能源车本身的底盘、车身质量隐患导致的寿命缩短。）</p>\n<p><img src=\"https://pic3.zhimg.com/v2-98484a7450ab10ed43e1b1989f373831_720w.jpg?source=b1748391?rss\" data-rawwidth=\"658\" data-rawheight=\"494\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-98484a7450ab10ed43e1b1989f373831\" data-watermark-src=\"v2-95df77d8a3208ed2ef285769ab5e3bb7\" data-private-watermark-src=\"v2-b5a2217c1268af3392f8f36e2d676c9c\"></p>\n<p data-pid=\"HZsFX-Pz\">但动力系统就是天差地别了。</p>\n<p data-pid=\"oHwBZpRK\">燃油车的动力系统由发动机、变速箱、管路（油、水、气）组成，下图是传统燃油车的系统结构图。</p>\n<p><img src=\"https://picx.zhimg.com/v2-78a52d4befc71f978a9cad4b7a86b472_720w.jpg?source=b1748391?rss\" data-rawwidth=\"550\" data-rawheight=\"310\" data-size=\"normal\" data-caption=\"\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"QZO_3PiA\">而纯电车的动力系统是三电系统（动力电池、电机、<a href=\"https://www.zhihu.com/search?q=%E7%94%B5%E6%8E%A7%E7%B3%BB%E7%BB%9F&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2229562420%7D\" class=\"internal\">电控系统</a>），下图是纯电车的动力系统结构图。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-6386a5d9adb70953259d518e0fd558f6_720w.jpg?source=b1748391?rss\" data-rawwidth=\"554\" data-rawheight=\"323\" data-size=\"normal\" data-caption=\"\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"daGd4yzd\">两种结构根本就截然不同。</p>\n<p data-pid=\"5LcjReEN\">所以看传统燃油车和电动汽车的生命周期，还是得看动力系统的生命周期。</p>\n<p data-pid=\"_IDHf9p4\">先看下燃油车的发动机、变速箱质保期。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-05d8dbb6b202952b6f1865ddc4db2da5_720w.jpg?source=b1748391?rss\" data-rawwidth=\"916\" data-rawheight=\"133\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-05d8dbb6b202952b6f1865ddc4db2da5\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-12b6593e27b45ca23325930338f0c2d7_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1085\" data-rawheight=\"146\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-12b6593e27b45ca23325930338f0c2d7\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p><img src=\"https://picx.zhimg.com/v2-6352005aef463da8060b8a04d8401e29_720w.jpg?source=b1748391?rss\" data-rawwidth=\"932\" data-rawheight=\"146\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-6352005aef463da8060b8a04d8401e29\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"4L7TosL-\">好吧，清一色的整车质保三年或10万公里。</p>\n<p data-pid=\"CBkrKSUy\">这里说的整车质保一般都是指的整车零部件在在正常保养的前提下，可以保这么久。</p>\n<p data-pid=\"jfO_zppm\">比如跑两年、五万公里轮胎不行了要换了，即便在整车质保期内，损耗件的更换是要自己掏钱的，这属于保养费，不属于免费质保的范围。属于这个整车免费质保的是动力系统、车身、底盘相关的。很多4S店会推出专门的针对动力系统，如发动机、变速箱、底盘传动系统的延长质保的服务，比如交两三千块钱，给你动力系统延长到8年或20万公里的质保。或者有的4S店还承诺终身对动力系统质保，但是需要你签约，所有保养和事故均到本4S店来。</p>\n<p data-pid=\"thmJqfUm\">但实际上，4S店做的基本是无本买卖，因为保养得当，发动机、变速箱的寿命是超乎想象的长。（这里不考虑某些燃油车本身的动力系统的质量隐患导致的寿命缩短。）</p>\n<p data-pid=\"bC8nimZ2\">现在好一些的发动机，保养得当，不乱来的话，即便是寿命比较短的涡轮增压发动机，寿命也可以达到约40-50万公里，10年往上。而传统发动机，寿命达到80-100万公里，20年都是正常的。以前运营车辆跑百万公里发动机无大修的比比皆是。</p>\n<p data-pid=\"6Qdy5hu8\">变速箱比发动机的极限寿命要少一些，正常保养下，跑50万公里往上，20年也没啥问题。</p>\n<p data-pid=\"fW2v77vN\">反过来再看下纯电汽车的动力电池的寿命。下面是2021年纯电热销车型的电池质保期。</p>\n<ul>\n<li data-pid=\"xuV8Sg8k\">特斯拉model 3： 高压电池与驱动总成质保8年或16万（19.6万）公里，电池容量不低于70%。</li>\n<li data-pid=\"KdJgKjEx\">\n<a href=\"https://www.zhihu.com/search?q=%E6%AF%94%E4%BA%9A%E8%BF%AA%E6%B1%89&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2301936765%7D\" class=\"internal\">比亚迪汉</a>EV ： 整车质保六年或15万公里，电芯终身质保，电池容量不低于70%。</li>\n<li data-pid=\"jDKIBMVP\">宏光MiniEV ： 8年12万公里的三电质保</li>\n<li data-pid=\"Z9hKwB7e\">小鹏P7 ： 整车质保5年或12万公里，电池组质保8年或16万公里</li>\n<li data-pid=\"LMA4YHgu\">\n<a href=\"https://www.zhihu.com/search?q=%E5%93%AA%E5%90%92&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">哪吒</a>V ： 整车质保3年或12万公里，三电系统质保终身，电池容量不低于70%。</li>\n<li data-pid=\"B89Mc7Ym\">欧拉好猫 ： 整车质保3年或12万公里，电池组质保8年或15万公里</li>\n<li data-pid=\"PkBqr6Hq\">广汽AION Y ： 整车质保4年或15万公里，电池质保终身</li>\n<li data-pid=\"tiE8UAGN\">蔚来ES6 ： 整车质保3年或12万公里，电池组质保终身</li>\n</ul>\n<p data-pid=\"OttlMdrA\">以上是大概总结了下，但是每个车企对于自家旗下的不同车型的电池组质保实际还有更细的要求，比如有的要首任车主才享受电池长期质保的政策，有的要每年里程数不超过3万公里，有的则是不允许跑<a href=\"https://www.zhihu.com/search?q=%E7%BD%91%E7%BA%A6%E8%BD%A6&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">网约车</a>，具体的还得看每个车型的具体细则。</p>\n<p data-pid=\"Y6IK4OXk\"><b>咋一看，对于动力电池组的寿命来说，这些新能源车企给出的质保期还比传统燃油车的动力系统还要长……</b></p>\n<p data-pid=\"z1pQaBZ4\">此外，有些车企还宣称自己的电池组可以跑几十万公里，轻轻松松超越传统燃油车的动力系统的寿命。</p>\n<p data-pid=\"u5aaJ1wQ\">比如比亚迪的CLTC续航600公里的纯电车，用得<a href=\"https://www.zhihu.com/search?q=%E7%A3%B7%E9%85%B8%E9%93%81%E9%94%82%E7%94%B5%E6%B1%A0&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">磷酸铁锂电池</a>，以理论循环2000次来算，就是120万公里，这也是为什么比亚迪号称自己的<a href=\"https://www.zhihu.com/search?q=%E5%88%80%E7%89%87%E7%94%B5%E6%B1%A0&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">刀片电池</a>理论上可以跑120万公里的原因了。</p>\n<p data-pid=\"eEqkYFJn\">说到这里，动力电池寿命真的等同发动机寿命吗？其实新能源车企在这里玩了一个小小的文字游戏，就是车企公布的电池寿命默认叫做<b>循环寿命。</b></p>\n<p data-pid=\"YSRdZRh_\">而循环寿命来看的话，实际现阶段动力电池的寿命和发动机的百万公里寿命真的相差无几。但循环寿命是受到日历寿命的限制的。</p>\n<p data-pid=\"6rSyUIZi\"><b>啥叫循环寿命？</b></p>\n<p data-pid=\"2NVt9JhU\">电池容量有50%，充电到100%，不叫一个循环。</p>\n<p data-pid=\"_DUGVguo\">我现在有30%电量，我去充到80%，也是不叫一个循环。</p>\n<p data-pid=\"L1RXfz-Z\">或者我现在10%电量，去充到40%，然后停一段时间，又充到70%，再见停下充到100%，这当然是也不能说三个循环。</p>\n<p data-pid=\"t94XvFSm\">从原理上说，循环寿命的一个完整循环是指正常能运动的锂离子在正负极之间做了一次往返。</p>\n<p data-pid=\"pd3VUUih\">通俗点说，<b>一个完整循环就是电池满充+满放一次</b>。（这是循环定义，并不是说电池要满充满放，浅充浅放才会使得锂电池更耐用。）</p>\n<p data-pid=\"mmHmphTa\">三元锂电芯的<b>理论寿命</b>为800-1200次循环，<a href=\"https://www.zhihu.com/search?q=%E7%A3%B7%E9%85%B8%E9%93%81%E9%94%82&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2306921474%7D\" class=\"internal\">磷酸铁锂</a>约为2000-2500次循环，到达70%的容量。</p>\n<p data-pid=\"cKOocGwB\">别看循环次数不多，但是电芯数量多啊，电芯数量多且一致性强，众电芯合力就意味着单趟循环的里程数多，再算总行驶里程，得到的数就会比较大了。</p>\n<p data-pid=\"syLlFSlM\"><b>啥叫日历寿命？</b></p>\n<p data-pid=\"TDo65u7m\">是指从厂家生产出来的锂电池到电池寿命结束的时间，这个寿命结束按国家的电池下限规定70%来算，并不是按电量耗完来算，一般以年为单位。</p>\n<p data-pid=\"yx2DZ6uG\">但这个和电池本身使用情况，外界环境都有关系，太长时间不用，或者回回快充到充满电，温度太高太低，湿度太高都会影响日历寿命。一般来说，汽车用的锂电池的日历寿命为6-10年。就是你不频繁用它，一年开三千公里，到了十来年的时候，只开了两三万公里，电池容量一样有可能严重衰减。</p>\n<p data-pid=\"nCFLLDkr\"><b>你就把它想象成一种食品一样，到了保质期，不管你吃不吃，吃了多少，时间一过，大概率就是不能吃了。</b></p>\n<p data-pid=\"I7caEb4z\">这个日历寿命，车企都是默认不公布的，因为这个公布会有不利影响。</p>\n<p data-pid=\"_0igxOR7\">但是我们看电池组的质保期，都还看得出来日历寿命，因为车企给出的一般都是5年或十几万公里。也有的车企给的3年或十几万公里。这都是保守估计，一般来说，6年到10年是个正常的电池寿命。如果所处环境良好，使用状态良好，注意浅充浅放，本身就好的<a href=\"https://www.zhihu.com/search?q=%E5%8A%A8%E5%8A%9B%E7%94%B5%E6%B1%A0%E7%BB%84&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">动力电池组</a>也有可能达到10年的使用寿命，和一辆汽车的基础使用寿命相当。</p>\n<p data-pid=\"tDsBd7m4\">有些消费者可能就会觉得不划算，都是一样的钱。别人一年开三万公里，我一年开三千公里，短的六七年，长的十多年，别人开了二三十万公里，我开了两三万公里，大家电池都得换。</p>\n<p data-pid=\"r1qcXhWk\">（现阶段我们如果买电动车，在有条件的情况下尽量浅充浅放，不要长期处于满电量或者报警电量的状况，平时能注意保护，不要让车长期处于高湿度，超高低温等恶劣的天气环境下，衰减到70%还是需要很长一段时间的。）</p>\n<p data-pid=\"unI4EMpM\">所以，新能源车不用或者用得少，动力电池寿命还是在那里摆着，随着时间流逝而消逝，这个和发动机的寿命还是不一样的，即便娇贵的涡轮增压发动机每年开一两万公里，也可以横跨二十年不出故障。因为发动机主要是磨损的物理故障或者零部件的老化，而不是动力电池的<a href=\"https://www.zhihu.com/search?q=%E7%94%B5%E5%8C%96%E5%AD%A6%E5%8F%8D%E5%BA%94&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2655219052%7D\" class=\"internal\">电化学反应</a>出了问题。</p>\n<p data-pid=\"Mfn9ZT0H\">所以，<b>光看里程寿命，电动车的动力系统真的不一定比传统燃油车差。</b></p>\n<p data-pid=\"oYCgPvwi\">电动车五年跑50万公里，八年跑80万公里，动力电池组不出故障，没有大的衰减都是可能的。</p>\n<p data-pid=\"zv5L14Cb\">但是如果看日历寿命，电动车现阶段还比不上传统燃油车，因为动力电池组的寿命肯定没有发动机十几二十年那么长。</p>\n<p data-pid=\"V4M-AxYW\">所以，如果是那种一年开几千公里，希望开10年往上，开个15-20年，中间大件不坏的朋友，现在的电动汽车可能还达不到你们的要求。过个八年换个电池组，省的那点油钱真的还不够换个新电池组的。</p>\n<p data-pid=\"Nh6f2ulw\">但如果是一年开三五万公里的朋友，纯电车就很适合了。因为八年到十年，电池组充放电三五十万公里开始大衰减，整车其他零部件也差不多到了寿命了，也该换车了。但这三五十万公里省下的油钱和保养的钱怕是真的不菲了。</p>\n<p data-pid=\"gOCHu2hs\">下图是五菱的入门纯电车的单月里程数榜单，这些单次续航一百多公里的也能开这么长的里程数，这么开纯电车才是真的省钱了。榜一的老哥估计十年下来，能省一辆奔驰E300L的顶配出来了。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-045009568e89e83aaae70fc1fd219dd3_720w.jpg?source=b1748391?rss\" data-rawwidth=\"574\" data-rawheight=\"900\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-045009568e89e83aaae70fc1fd219dd3\" data-watermark-src=\"v2-eeb695fa05ca35861790758466a1f517\" data-private-watermark-src=\"v2-8e38708a0d1ad3f567abeba21ba43fe0\"></p>\n<p><br></p>\n<p data-pid=\"8KBNNaP9\">（图片来源网络，侵删！）</p>\n<p data-pid=\"4OB_iQXe\"><br></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/will-liu-16?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">Will.liu</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/552123306/answer/2677356072?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">37 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/522865200?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">电动汽车是否会比油车的使用寿命更长？</a><br><a href=\"http://www.zhihu.com/question/372105179?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">三到五年时间电动汽车的使用率会高于燃油车吗？</a><br>\n","link":"http://www.zhihu.com/question/552123306/answer/2677356072?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"巴西的很多汽车是烧酒精的，为什么国内不可以效仿他们去造酒精汽车呢？","date":"2022-09-20 02:35:00","description":"\n<p data-pid=\"TplGQZ41\">其实现在国内也有地区一直都在用E10的汽油，E10代表着含10%的改性乙醇+90%的汽油。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-d300d49063d8bad0e2b7cb722abb05d6_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"500\" data-rawheight=\"354\" data-watermark=\"watermark\" data-original-src=\"v2-d300d49063d8bad0e2b7cb722abb05d6\" data-watermark-src=\"v2-13aef687d09df441d6831ba25abfb48d\" data-private-watermark-src=\"v2-7c689790780048d9170a57edd7f708b4\"></p>\n<p data-pid=\"5ohbtA9r\">2017年由国家发展改革委、国家能源局、财政部等十五部委联合印发<b>《关于扩大生物燃料乙醇生产和推广使用车用乙醇汽油的实施方案》</b>，根据方案要求，从2020年开始，我国全国范围将推广使用车用乙醇汽油。当时这就是国策，要求全国推广。</p>\n<blockquote data-pid=\"A6DL_3Pj\">国家发改委在《可再生能源中长期发展规划》明确提出，不再增加以粮食为原料的燃料乙醇生产能力，合理利用非粮生物质原料生产燃料乙醇，并提出2020年实现生物燃料乙醇年利用量1000万吨的目标。</blockquote>\n<p data-pid=\"ZxOXq9uQ\">比如山东省、天津市是全国最早使用乙醇汽油的地区，它们在2018年之前就开始推广使用乙醇汽油方案，并且要求全面实行，统一在所有加油站提供乙醇汽油。其中，辽宁、吉林、黑龙江、河南、安徽和广西6个省也同步进行中，基本加油站里都有乙醇汽油提供。</p>\n<p data-pid=\"OpKJWjT5\">但2018年到2022年，因为技术原因、市场反馈和国内外的政策变化，国内改性乙醇的价格居高不下，甚至一度和汽油价格差不多，所以导致了这项推广计划迟滞了，没有做全国性的铺开。（具体原因可以看本问题下的高赞。）</p>\n<p data-pid=\"WcWdkhru\"><b>为什么国家这么想推广乙醇汽油。</b></p>\n<p data-pid=\"iHKAU9zk\">比如E10汽油比纯汽油少10%汽油的含量，看起来不多，但放大到上亿辆汽车上，那么就意味着国内汽油的需求量会可观的减少。</p>\n<p data-pid=\"RPTDmSvX\">另一个原因乙醇燃烧能减排，原来100%的汽油燃烧，生成了100%的<a href=\"https://www.zhihu.com/search?q=%E6%B0%AE%E6%B0%A7&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2575828137%7D\" class=\"internal\">氮氧</a>、碳氢污染物。而含了10%的乙醇燃料，就能立竿见影减少10%的污染，而且对动力的影响还微乎其微，发动机也不用经过特殊的改造就可以直接使用。</p>\n<p data-pid=\"TrwkVyKT\">乙醇的热值26.75MJ/KG，汽油的46MJ/KG，乙醇的热值约为汽油的60%。发动机的<a href=\"https://www.zhihu.com/search?q=%E7%83%AD%E6%95%88%E7%8E%87&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2575828137%7D\" class=\"internal\">热效率</a>本来综合就只30%左右，所以用了10%的乙醇，对于发动机的输出动力影响大概就弱了2%左右，如果其他地方没问题，仅是热值的差距造成的动力衰减，司机是基本察觉不出来的。没有某些人说得加10%乙醇就是降低10%动力，油耗上升10%。用20%乙醇汽油就是降低20%动力，油耗上升20%那么离谱了。  很多老司机觉得加了乙醇汽油，动力明显下降，往往不是热值差异的原因，而是我下面说的原因了。</p>\n<p data-pid=\"dBfStuNF\">长期加改性乙醇（不含水）+汽油（含水小于0.8%），对于发动机还是有些弊端的。</p>\n<p data-pid=\"xn-WHdLP\">因为醇类这种<a href=\"https://www.zhihu.com/search?q=%E6%9C%89%E6%9C%BA%E6%BA%B6%E5%89%82&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2547100112%7D\" class=\"internal\">有机溶剂</a>，吸水性好，意味着醇类汽油必须要抓紧用，因为放着不用，吸收水分，燃料里面水分过多，则会对燃油发动机造成伤害。一般我们现在加醇类汽油，如10%浓度醇类的汽油，用的普通发动机，一般都要在30天内用完。如果当地湿度大，则要在两周到三周内用完。（具体为什么燃料里面有水会伤害发动机，可以看我之前写发动机的系列回答。）</p>\n<p data-pid=\"C3W6LePy\">如果燃料里面有一丁点水，发动机持续高温（发动机正常运作，<a href=\"https://www.zhihu.com/search?q=%E7%87%83%E7%83%A7%E5%AE%A4&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2575828137%7D\" class=\"internal\">燃烧室</a>温度则是两千摄氏度往上，从发动机排废气温度也是五六百度），是可以蒸发细微水气的，水气是不会在发动机里面凝结的，不至于对发动机产生太大影响。</p>\n<p data-pid=\"dR_g5JIT\">但如果燃油带的水份多了，这就是普通燃油发动机无法承受之重了，轻则动力下降油耗上升（因为机油润滑变差，导致发动机热效率下降），重则机油乳化都会出来，时间久了，发动机基本就是要废了。有些司机说长期加乙醇汽油动力下降厉害，建议去看下机油，保养下发动机，尤其是经常下雨的季节。至于有的人说乙醇燃烧生成水会不会影响发动机呢，实际汽油也是碳氢化合物燃料，烧出来也是二氧化碳、水和一些污染物……</p>\n<p data-pid=\"3TbIfKVb\">另外醇类的沸点低，不到80摄氏度，在汽油还未转成气态的时候，醇类可能就会转成气态，抢占发动机的汽油输送管道，容易造成汽车动力不足，甚至夏天打不着火的情况。这个也是有些炎热地区觉得加乙醇汽油，觉得踩油门没以前那么给力，动力下降厉害的原因之一了。</p>\n<p data-pid=\"3tNjeiuv\">另醇类对橡胶的溶胀性较强，对密封垫等合成橡胶破坏性大、对树脂滤芯破坏性大。对金属的腐蚀性较强，比汽油的导电性强，容易形成电位差的金属腐蚀。产生的氧化物，如甲酸对铝、铅、铸铁合金等金属表面有侵蚀。以上弊端虽然不明显，但长期使用乙醇汽油，还是会对发动机造成一定的伤害。</p>\n<p data-pid=\"fhEvaKRX\">种种原因，导致了乙醇汽油没有推广开来，但几年后随着新能源汽车的发展，混动系列却是有了醇电混动的路线。</p>\n<p data-pid=\"4TF0Ppjw\">比如2022年8月20日，吉利推出来第四代帝豪醇电混动车型，这里的“醇”指的是<b>甲醇（CH3OH），</b>专用发动机加甲醇燃料用作动力来源。该车型搭载了1.8L醇电混动发动机和混动电驱变速器，百公里醇耗9.2升，每公里出行成本低于0.3元。</p>\n<p><img src=\"https://pica.zhimg.com/v2-48dad05802a272e4ef217cfe05602202_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"646\" data-rawheight=\"306\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"ii5DbBVC\">国家工信部把甲醇汽车定义为“<b>符合GB/T3730.1中汽车定义，装用专门设计开发的适用车用甲醇（M85或M100）燃料或甲醇-柴（汽）油双燃料的发动机。</b>”</p>\n<p data-pid=\"M6OBIhcZ\">现在一般用M15,M30,M85,M100来代表甲醇的纯度，M85表示85%的燃料是甲醇（15%是汽油），而M100就表示纯甲醇100%作为燃料。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-4012e251cbdad80e02694fdeb984c77c_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"421\" data-watermark=\"watermark\" data-original-src=\"v2-4012e251cbdad80e02694fdeb984c77c\" data-watermark-src=\"v2-9b499ee3715f1f2c0024f83797a0c0a0\" data-private-watermark-src=\"v2-254cf3e8c1f5fd5b24ec8e5d289af699\"></p>\n<p data-pid=\"CUxl-LKb\">与改性乙醇的5000元-7000元每吨的高价不同，改性甲醇只需要2000-3000元每吨，远低于汽油的7000-9000元每吨。</p>\n<p data-pid=\"5bWnHvvx\">而且甲醇的数据也不错，研究法辛烷值（RON）达112，马达法辛烷值（MON）为106。甲醇和汽油调和后的辛烷值也比较高。</p>\n<p><img src=\"https://picx.zhimg.com/v2-1a429f21948b5667123a832bc5d64119_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"920\" data-rawheight=\"329\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"zHPFnknp\">排放尾气更清洁（含氧量高，燃烧充分，少排放碳），比如可以溶解汽油的一些副产物胶质和杂质（但如果是老车，开始使用醇类汽油，则容易造成<a href=\"https://www.zhihu.com/search?q=%E6%BA%B6%E8%A7%A3%E7%89%A9&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2547100112%7D\" class=\"internal\">溶解物</a>过于粘稠而堵塞油路管道）。</p>\n<p data-pid=\"WuEDlW8V\">虽然甲醇的热值比较低，只有19.60MJ/kg,汽油大概为43.50MJ/kg,甲醇的热值大概只有汽油的一小半左右。单独用来做传统汽车的动力会明显不足，但是在混动体系里面，甲醇发动机的热效率可以维系在高位的区间，这样就可以扬长避短，有效提高了甲醇动力的性价比。</p>\n<p><img src=\"https://pica.zhimg.com/v2-917fb2bf700e7b205c01af1716022545_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"651\" data-rawheight=\"202\" data-watermark=\"watermark\" data-original-src=\"v2-917fb2bf700e7b205c01af1716022545\" data-watermark-src=\"v2-aeb2e51baba9f762d4bdd0f452cbdc35\" data-private-watermark-src=\"v2-7da88fb18f14f8a33e31f0b0515e5732\"></p>\n<p data-pid=\"Ekjm8qDH\">国内的甲醇发动机已经达到了国际的一流水准，定制的甲醇发动机解决了<b>燃料系统材料的耐腐蚀溶胀，提高了油泵、油管、油滤、油箱的耐醇性，关键零部件及特殊润滑油的搭配，整车启动和燃烧控制，开发专用醇类发动机ECU，解决冷启动困难，添加油路增压管等等。</b></p>\n<p><img src=\"https://pic3.zhimg.com/v2-621c0831cbeddfef7de5cb6771ee1b28_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1200\" data-rawheight=\"800\" data-watermark=\"\" data-original-src=\"\" data-watermark-src=\"\" data-private-watermark-src=\"\"></p>\n<p data-pid=\"GposjI6w\">最后说到<b>巴西汽车烧酒精，实际和巴西本地的甘蔗盛产有关系</b>。巴西地域的光照、雨量极为适合种植甘蔗。</p>\n<p><img src=\"https://picx.zhimg.com/v2-3a78d4f12a5339a1c84fac25fabb06a6_720w.jpg?source=b1748391?rss\" data-caption=\"一望无际的甘蔗田\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"480\" data-watermark=\"watermark\" data-original-src=\"v2-3a78d4f12a5339a1c84fac25fabb06a6\" data-watermark-src=\"v2-e0fc7b438417d4d4061e915628fde42f\" data-private-watermark-src=\"v2-a982c7389541c9209986ed79f7d20ec8\"></p>\n<p data-pid=\"LAlj1l1D\">巴西是世界第一大甘蔗种植国，2019年，全世界甘蔗总产量为19亿吨左右，而巴西甘蔗总产量大概为7.5亿吨左右，全国甘蔗种植面积为1000万公顷。巴西是全球最大的甘蔗生产国，占到全球甘蔗交易量的约50%，占据全球第一。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-8a355a1d207c67c61c87b8b3f92f5e8b_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"427\" data-watermark=\"watermark\" data-original-src=\"v2-8a355a1d207c67c61c87b8b3f92f5e8b\" data-watermark-src=\"v2-255953fbf91f692955a06e2f3c75e158\" data-private-watermark-src=\"v2-6fb1aa2e8dd8e7181266fa623ffda665\"></p>\n<blockquote data-pid=\"mBNDhxsB\">同时，巴西是世界上最大的以甘蔗为原料生产生物燃料乙醇的国家，2020年生物乙醇的产量达到3亿升，占全球产能的30%，是全球仅次于美国的第二大乙醇生产国，也是全球第三大燃料乙醇消费国。从工艺上来看，巴西以甘蔗制醇的第一代工艺为主，在2020年全国的365个炼厂中，甘蔗制醇的工厂占94%，占市场主流地位。</blockquote>\n<p><img src=\"https://picx.zhimg.com/v2-8f371ed196df1e5e80acca2e9f4899db_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"360\" data-watermark=\"watermark\" data-original-src=\"v2-8f371ed196df1e5e80acca2e9f4899db\" data-watermark-src=\"v2-e16b846dcc5b63b3d16ea11dfe227931\" data-private-watermark-src=\"v2-f027b88fe8fa997d208b2a5f7cbcddba\"></p>\n<p data-pid=\"GxKRvqiA\">巴西以甘蔗生产的酒精的成本极低，只有美国玉米制作酒精的一半，欧盟制作酒精的三分之一。加上巴西政府的政策推广和补贴，使得巴西成为世界上唯一的大批量使用酒精作为汽车燃料的国家。</p>\n<p data-pid=\"TNgVnTzk\">而国内的农作物说实话，无法走巴西甘蔗制造乙醇的路线，也无法走美国玉米制造乙醇的路线，即便现在改性乙醇的价格依旧是居高不下。如果强行推广全国乙醇汽油，意味着就不是因地制宜而是硬上了，那就需要大量的补贴来制造乙醇，然后以低价给油企，否则加油站亏本是不可能接受推广的。但这么巨大的补贴换来的节油减排的利益却未必值当……</p>\n<p data-pid=\"bEaALU4s\">但是回看甲醇，甲醇的制备中国却是全球第一，产量是全世界总量的一半。无论是工艺成熟度还是产能都意味着甲醇的性价比极高。所以对比乙醇汽油的路线，我觉得甲醇的混动路线倒是一条利用醇类的新路径。</p>\n<p data-pid=\"8tQ3rjce\">（图片来源网络。）</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/will-liu-16?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">Will.liu</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/294651406/answer/2675285214?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">171 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/461142980?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">现如今有自动检测酒精的汽车吗？</a><br><a href=\"http://www.zhihu.com/question/468771388?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">酒精可以放在汽车上吗？需要注意什么？</a><br>\n","link":"http://www.zhihu.com/question/294651406/answer/2675285214?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"无人驾驶汽车真的适合城市道路吗？","date":"2022-09-20 02:34:48","description":"\n<p data-pid=\"tArvheeo\">前两天玩游戏，发现在某部大型开放式游戏中，整个城市的交通秩序井井有条。</p>\n<p data-pid=\"dA0Q9A-z\">如果不是玩家去“挑事儿”，由AI控制的NPC车辆完全不会造成拥堵、事故等问题。</p>\n<p data-pid=\"eXJdtxb0\">这部来自2013年的3A巨作，似乎已经在游戏的细节中，为我们打造出了未来无拥堵、无事故自动驾驶技术的蓝本——用AI取代人。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-8a68ebf0cd7754778fa5fbc80c793c59_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1601\" data-rawheight=\"870\" data-watermark=\"watermark\" data-original-src=\"v2-8a68ebf0cd7754778fa5fbc80c793c59\" data-watermark-src=\"v2-116a2b992ccce5d028bad9c4ff6b05f5\" data-private-watermark-src=\"v2-a304be88a4283c11856df3dce6826df2\"></p>\n<p data-pid=\"uiWyHzNk\">那么，如果我们从游戏引申出来，在现实世界中，高度自动化的无人驾驶技术，真的可以打造出真正理想化的城市交通模式、真正的去适配城市道路吗？</p>\n<p data-pid=\"2OKJ-X9e\">对此，许多人肯定会表示质疑，不过我想说，质疑的背后，或许还是在当下，许多人对“无人驾驶汽车”的想象。</p>\n<h2>实际上，当下的智能辅助驾驶技术，离真正的无人驾驶还很远很远</h2>\n<p data-pid=\"iEumipjD\">在目前，不少车企都推出了所谓的“高阶智能驾驶技术”。</p>\n<p data-pid=\"Y360MV0_\">拥堵辅助、高速领航等一应俱全。</p>\n<p data-pid=\"gbeA357-\">其实说到底，现在这些L2级、L2+级或者说是L3级智驾技术，它们核心目的在于降低本车驾驶者的工作强度而非提升道路状况的健康程度。</p>\n<p><br></p>\n<p data-pid=\"I3Be06ZQ\">举个例子：在上下班的时候，我最讨厌跟在一些智能电动车的后方。</p>\n<p data-pid=\"P2F7J6lL\">为啥？</p>\n<p data-pid=\"siX-465B\">因为他们很喜欢打开智能辅助驾驶功能，自动停车、自动跟车起步……</p>\n<p data-pid=\"5MAa6Jzy\">在红绿灯跟车起步的时候，这些车往往会在前车起步很久之后才缓缓蠕动，大幅降低了整个红绿灯路口的通信效率。</p>\n<p data-pid=\"Ge2vQ3r4\">打个比方，按照正常的人工驾驶效率，一分钟的时间可以通过20辆车，那么，在这些自动跟车系统的“帮助下”，智能车的驾驶员的操作的确是方便了，但是一分钟内的通行效率却降低到了15辆左右。</p>\n<p data-pid=\"NY9nCVSN\">除了拥堵之外，当下的智能辅助驾驶系统还有可能造成事故。</p>\n<p data-pid=\"cFT9CTsw\">相信大家都看过智能车型因为智能辅助驾驶系统造成事故的新闻，有的车因为没有识别到锥形桶，一股脑地扎进了施工区域；有的车因为识别不到异型车或者停在路中间的车，也是一股脑扎上去……</p>\n<p><img src=\"https://pic1.zhimg.com/v2-9d12d64bae66331962f54158388e6506_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"960\" data-watermark=\"watermark\" data-original-src=\"v2-9d12d64bae66331962f54158388e6506\" data-watermark-src=\"v2-fdad0707fc9d3a08a01781a876ebe913\" data-private-watermark-src=\"v2-398f06aaeebe2f98b63a00e76932e4ac\"></p>\n<p data-pid=\"C525GibX\">从这个角度来看，由于技术成熟度还不够，所以目前的有些智能驾驶辅助技术，甚至还有可能还会帮倒忙。</p>\n<p data-pid=\"fE_Wtyqg\">换句话说，想要真正解决这些问题，想要达成真正意义上的“无人驾驶”，车企们还有很长的路要走。</p>\n<p data-pid=\"lyMugHtN\">接下来，我们不妨一起“走向未来”，畅想一下，看看未来城市中的自动驾驶和智能交通有可能是什么样的？真正的L5级无接管自动驾驶和真正的零拥堵、零事故道路交通到底有没有可能实现？</p>\n<p data-pid=\"hFwKAErt\">在当下，很多车企都先一步推出了V2X、V2L等车路协同技术。</p>\n<p data-pid=\"4AH0SGwJ\">那么，车路协同技术应用在未来的自动驾驶环境中，有何意义呢？</p>\n<p data-pid=\"pu2Vga23\">其实我们可以这样来说，车路协同就是“集中-分散”式的自动驾驶模式。</p>\n<p data-pid=\"bD0IRVdx\">在一个城市或者一条道路上，有无数个道路环境感知系统和无数辆车，也有一个“大脑”即车路协同的信息管理中心。</p>\n<p><img src=\"https://pica.zhimg.com/v2-8f8731feb824861121a81ab7f78cfccb_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1269\" data-rawheight=\"651\" data-watermark=\"watermark\" data-original-src=\"v2-8f8731feb824861121a81ab7f78cfccb\" data-watermark-src=\"v2-83169a618a4013681ffbd6551d870ff5\" data-private-watermark-src=\"v2-70b593e313f8d6cfa36ad2843747f4eb\"></p>\n<p data-pid=\"VM4JFzje\">道路上的环境感知系统，可以查看当前的交通环境信息、道路抓地力系数、环境温度、是否有事故等信息，在收集信息后，道路上的环境感知系统将这些信息传递给信息处理中心。</p>\n<p data-pid=\"oSlyxm5c\">信息处理中心在收到输入后，可以迅速计算出车辆最高效、最安全的行驶方案，并且把这些信息分发给道路上的每一辆车，从而让这些车辆在合适的时候变道、在合适的时候转向、以合适的速度行驶。</p>\n<p data-pid=\"n3YbfRLr\">举个例子，当环境感知系统检测到全程路况良好的时候，车辆能够以最高速度限速行驶，而在遇到一些意外状况的时候，车辆能够即时规避。</p>\n<p data-pid=\"mYKgf3yu\">甚至，在极端天气状况下，车辆自身传感部件无法使用之时，车辆还可以通过无线电连接道路的基建系统，通过道路上的“外设”为车型进行导航。</p>\n<p><img src=\"https://pica.zhimg.com/v2-1730835a180f51d6a1a38ad279195aa3_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1429\" data-rawheight=\"890\" data-watermark=\"watermark\" data-original-src=\"v2-1730835a180f51d6a1a38ad279195aa3\" data-watermark-src=\"v2-38b98c48e9fae09b4304a0bfa0e23150\" data-private-watermark-src=\"v2-6babf91fa4ddb037d2f4c695ed8ed701\"></p>\n<p data-pid=\"qO5XD1BV\">另外，由于信息处理中心对每一辆车的统一调度，这样还可以避免驾驶者的问题。</p>\n<p data-pid=\"U5sPfIKt\">例如，在自动驾驶行为中，驾驶者是无权干预车辆操作的，只能紧急停车等，此时，我们就可以避免加塞、超速、低速等行为，让道路交通安全又畅快。</p>\n<p data-pid=\"Pb_M39Gh\">当然更重要的是，每一个区域内的道路信息处理中心，可以和周边的信息处理中心联动。</p>\n<p data-pid=\"l2rco2K1\">比如，北京市区的信息处理中心就需要和周边高速上的信息处理中心联动。两者之间互通有无，把上下高速、进出城的车辆信息、车流规模传递给对方，从而方便对方进行处理，确保各个区域之间的顺畅。</p>\n<p data-pid=\"-b4cwH1z\">简而言之，未来零拥堵、零事故的自动驾驶技术，必然是让各个车辆的自由权限更小，而是让信息处理系统或者调度系统进行统一且完善的资源分配和处理。</p>\n<p data-pid=\"adNdgp-v\">这样一来，倒是能够让我们看到一些零拥堵、零事故的曙光。</p>\n<h2>\n<b>更大胆一些的去想象的话，我觉得，要想实现对自动驾驶汽车集中管理、统一调度，需要的不仅仅是打造出车路协同系统，还</b>需要高度统一的设计，就像是“车同轨”一样。</h2>\n<p data-pid=\"h2-6nhgW\">大胆猜测一下，或许，我们未来的自动驾驶汽车，除了需要高度精准的感知系统和车路协同系统之外，在性能方面也需要高度相似。</p>\n<p data-pid=\"nxyJAZDx\">例如，在指挥系统统一调度车路进行加减速的时候，此时车辆的加速性能和刹车性能必须要在一个水平线上，才能满足同步加减速的需求来确保步调的统一。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-f19b1a244f588c35919e79f35b6b43fe_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"788\" data-watermark=\"watermark\" data-original-src=\"v2-f19b1a244f588c35919e79f35b6b43fe\" data-watermark-src=\"v2-b6279f5c9453e4f227eee1fdecec945e\" data-private-watermark-src=\"v2-d0453330e8981b1af79f5e38bd95795f\"></p>\n<p data-pid=\"Pbjhoex4\">另外，在未来，为了便于管理，车辆的尺寸或许也会相对比较统一。</p>\n<p data-pid=\"MO8Z5BYQ\">A、B、C等不同级别的车型，其尺寸需要有一个限定值，在这一数值内，可以让调度系统精确地对每一辆车转弯半径做出判断，在车辆掉头、小半径转向时提前确定“一把过”的位置，从而使得道路交通更加精确、高效。</p>\n<p data-pid=\"pYwBcQjn\">而在道路的建设中，真正的完全自动驾驶，需要完全的“闭环运行”。</p>\n<p data-pid=\"8Fg9ayzr\">也就是说，需要在城市或者高速道路上，我们还需要为自动驾驶汽车开辟一条专用的道路。</p>\n<p><img src=\"https://pic3.zhimg.com/v2-a1cbc6dcff75de105fc96c57c05dff52_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"720\" data-watermark=\"watermark\" data-original-src=\"v2-a1cbc6dcff75de105fc96c57c05dff52\" data-watermark-src=\"v2-fdfd19cf12ad562a281910b2c416670e\" data-private-watermark-src=\"v2-da7beaed40c81124b44945fe6d1ec896\"></p>\n<p data-pid=\"5rgD9WGq\">举个例子，在未来的我，想要开着自动驾驶汽车出门，自己玩着游戏看着电影就能到目的地的那种。</p>\n<p data-pid=\"F7H5Z_qi\">此时，我只需要手动把车辆开出小区地库，当车辆来到主路的时候，有一个自动驾驶汽车的“预通行区域”，这个区域类似于高速的收费站，在内部可以完成自动驾驶身份的识别认证以及对车辆车况安全性的一个快速验证，并在完成后启动完全的自动驾驶功能。</p>\n<p data-pid=\"49ZaUMsN\">于是，咱们就可以直接脱手让车辆自动加速、并入主要车道了。</p>\n<p data-pid=\"0oV3XyQA\">在快要达到目的地，车辆驶出自动驾驶道路的时候，还是通过一个识别区域，在这个区域中驾驶者接管车辆……</p>\n<p data-pid=\"uWFaAaWK\">当然，如果想要体验手动驾驶乐趣的话，我们也可以走旁边的普通车道，全程手动控制车辆，享受车辆的驾驶乐趣。</p>\n<p><br></p>\n<p data-pid=\"S-EwGVQZ\">在“自动驾驶道路”上，车辆们井然有序、高效安全地通行。</p>\n<p data-pid=\"cfC7JAI9\">其实，除了这些之外，真正的高阶自动化无人驾驶技术，还能带来更多的好处。</p>\n<p data-pid=\"0t-aoN6X\">比如当前提到的“汽车共享化”，就是未来发展的一个很好思路。</p>\n<p data-pid=\"_gufTzBj\">在未来，自动驾驶汽车可能会类似于当前的“轨道式交通”。只不过，自动驾驶汽车的轨道是虚拟的、由调度中心设定并分发的线路，与民航系统中的航路相近。</p>\n<p><img src=\"https://picx.zhimg.com/v2-60c338d4573a5ff3870d0005c6987e4e_720w.jpg?source=b1748391?rss\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"914\" data-rawheight=\"609\" data-watermark=\"watermark\" data-original-src=\"v2-60c338d4573a5ff3870d0005c6987e4e\" data-watermark-src=\"v2-13f169bed95607e4adec529cd9f2ab4f\" data-private-watermark-src=\"v2-eaf568febc786228796459829f31ec74\"></p>\n<p data-pid=\"8ko9ZMLq\">当我们想要出远门的时候，完全可以不用自己开车，走到家附近的“自动道路预同行区域”，可以通过智能设备呼叫“共享自动驾驶汽车”，在上车后，车辆就能根据预设线路，安全高效地到达目的地。</p>\n<p data-pid=\"8-ncWGcp\">其实，从“轨道交通”的设想出发，未来电动车的续航问题也可能会得到很大程度的改善。</p>\n<p data-pid=\"bQdaYv3f\">例如在“自动驾驶道路”上，会有一条“充电车道”，在车辆还有电的情况下，调度系统不会让你驶向这条车道。</p>\n<p data-pid=\"f395OAK_\">当车辆没电的时候，系统会自动让你在这条道路上行驶。</p>\n<p data-pid=\"l3UmeMha\">此时，通过道路预埋的无线充电系统或者说是移动充电缆，就能实现车辆行驶过程中的对接补能，打消纯电动汽车的续航焦虑问题。</p>\n<p><br></p>\n<p data-pid=\"MOqrm1xp\">其实在上述的畅想之中，未来城市中的无拥堵、无事故的道路交通并非是无法实现的，只不过，这需要投入巨大的人力、物力和财力，从车辆的规范化、标准化再到自动驾驶技术的普及甚至是城市智能道路基础建设的完善，每一环都需要做好。</p>\n<p data-pid=\"rF1A3nUx\">但是我相信，随着技术的发展和进步，咱们今天所畅想的城市交通模式，也总有能够实现的那一天。</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/ershixiongcar?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">二师兄玩车</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/384519954/answer/2675291404?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">39 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/546551524?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">无人驾驶汽车要想彻底落地，需要解决哪些难题？</a><br><a href=\"http://www.zhihu.com/question/266697951?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">2021年，无人驾驶车队会到来吗？</a><br>\n","link":"http://www.zhihu.com/question/384519954/answer/2675291404?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"国家大力发展电动车，但是电池使用五年之后效率大幅降低，而更换电池费用又过高，到时候又该怎么处理呢？","date":"2022-09-20 02:33:52","description":"\n<p data-pid=\"GXOZhSRb\">其实我看到有些答主列出了特斯拉的百万公里级别超长里程不衰减案例。但是这毕竟是少数，当然同样有很多大量的衰减案例，甚至因为BMS设计缺陷导致3年内过度衰减在北美引发召回的案例。所以关于电池衰减以及替换成本的问题是很多车主切实关切的问题，使用一段时间之后可用续航里程衰减，充放电性能下降也是切实在发生的案例。</p>\n<p data-pid=\"H5cfRVjt\">其实回答这个问题可以分为三个方面：</p>\n<h2>1.选择更好的电动汽车平台和更好的电动车使用习惯。</h2>\n<p data-pid=\"Up1uc_P1\">总体来说，能量密度更高、热管理做的更好、BMS系统（SOC和SOH管理）做的更出色以及电池容量余量更多的电动汽车的电池衰减控制的表现会更好。其中尤其是热管理和BMS，锂电池需要在一个合适的温度范围工作以及避免过充过放，在一般意义上，过度使用快充理论上也会带来更快的衰减（尽管现在有很多企业在承诺全生命周期快充无衰减）。用户使用也是如此，现在很多电动汽车可以提供在寒冷天气提前打开车辆热管理系统将电池包加热，这样用户就可以避免在电池温度较低的情况下进行性能输出需求，这些都会对电池的衰减带来不利的影响。此外你还可以通过在日常规划性通勤的时候将充电上限进行主动控制（例如直冲到80-85%），从而有效提高电池的寿命和减少衰减。</p>\n<p data-pid=\"kgfx8-nD\">很多中小型经济型电动车的衰减表现不好，和一些主机厂为了尽可能充分利用预算并提高续航里程以提高竞争力过度压榨电池性能也有关系，具体就是表现在保留的电池余量不足，对于电池的soc管理过于激进。其实在早期车型中，特斯拉的客户实际续航衰减表现异常好，有一部分原因是在于特斯拉的”藏电“比例是所有竞品中几乎最高的。</p>\n<p data-pid=\"eYD0Z2Mq\">所以说，认为当前电动车的衰减已经不是问题的，往往是看到的是大容量、高能量密度、液冷主动热管理或者智能热管理系统、还有比较健全的电池健康度管控的电动车。而认为目前电动车此类问题严重的，往往是看到的自然风冷靠天吃饭、经济型、低能量密度、电池管理系统和健康管理水平较差的电动车平台。所以如果你真的对于这个问题这么在意，那么选择好的电动车平台是打消你顾虑的第一步；</p>\n<h2>2. 电池的健康度评估或这残值评估是个大工程，但是短期内没有比较成熟的算法，未来主要围绕车企自己的二手车平台开展。</h2>\n<p data-pid=\"GWHsIt3V\">其实所谓电池健康度管理，就是所有电动汽车都装有芯片，会将你的电池信息上传到云端系统中，这个本身就是国家的强制要求。车企基于这个系统会增加更多的电池方面的监控维度，比如说观察充放电量、电压和温度等参数的长期趋势，或者增加传感器获得更多的检测维度。目前有些成熟的模型大概会长期监控电芯的7-10个维度的参数，然后通过大数据和机器学习的办法进行电池健康度的评价。</p>\n<p data-pid=\"UH9Agxs5\">不过，由于电池内部从化学的角度来讲是一个黑盒，我们所有的健康度评价模型都是从输入和输出的信号角度进行推测。只有在实验室中，我们能通过CT等极端手段看到电池中发生的一部分的真相，但是在车上，这就是个黑盒。与此同时，健康度模型是一个大数据体系，模型也并没有一些答主说的那么成熟，所以基本上其成果主要是自己企业使用，无法作为一个正式可信的数据来广泛使用。</p>\n<p data-pid=\"oClydXUE\">所以从未来纯电二手车的电池残值来说，应该会出现两种极端：1. 品牌效应的拍脑袋式信任，比如说特斯拉大家都觉得衰减做的特别好，那么可能二手车市场渐渐的会对性能残值有一个比较通用的算法。 2. 由于自由二手车市场过度低估，而拥有较为充分数据的官方二手车平台回购或以旧换新成为主流。</p>\n<p data-pid=\"5C6ZfrbY\">所以如果你想规避折旧风险，了解你所购买的电动车品牌是否有一个良好成熟的二手车市场服务也是一个很好的手段。</p>\n<h2>3. 电池回收可能会成为一条解决途径，但是一方面它的前提是原材料价格持续高涨，另一方面CTC等技术会阻碍电池回收。</h2>\n<p data-pid=\"2SM4j_BX\">很多人提到电池回收，和大家简单介绍一下目前电池回收的一个基本情况。我国目前废旧锂电池回收主要分为3个工艺：</p>\n<ol>\n<li data-pid=\"RbFRykFe\">机械法，就是粉碎处理；</li>\n<li data-pid=\"GebWvuMy\">火法冶金，就是靠热处理分离；</li>\n<li data-pid=\"K_4WNBOA\">湿法冶金，就是通过化学试剂湿法浸出；</li>\n</ol>\n<p data-pid=\"fzG1yi_k\">机械法目前提及的比较多，优点是简单，环境污染小，缺点是利用率不高，难以获得高纯度金属和化合物。后两者尤其是湿法，处理量大而且产物纯度高，但是问题就是二次污染比较严重，需要更多的环保设备。</p>\n<p data-pid=\"lUby2pTa\">所以有人说锂电池处理无害，有的说有害，可能大家说的就不是一个玩意儿。</p>\n<p data-pid=\"Oqg33lIQ\">废旧动力电池处理的基本工艺流程：</p>\n<p data-pid=\"Xw2yWzuF\">电池分级-》放电预处理-》破碎分选-》金属物理提取-》杂质金属净化-》有价金属分离-》前驱材料制备-》正极材料制备-》功能材料制备</p>\n<p data-pid=\"kZ6w9G_p\">大概就是这么个模式。</p>\n<p data-pid=\"C7ZZaesy\">上面这些工艺我估计应该百度不出来吧，算是目前实战的比较常见的工艺，在下一步的细节工艺就比较复杂了，我就不分享了，而且其实在下一步我也很难具体到设备来讲解了，我估计普通读者看到这里大概也够了。</p>\n<p data-pid=\"b5qxFS2r\">回收这个事情呢，在2年前其实是个政策生意，这个我在2019年前的一些回答中说过，真不挣钱，就是靠政府补贴和主机厂下单机器开动一下，没有主动回收的。这几年就反过来了，是真的挣钱但是收不到电池包，主要原因还是以碳酸锂为代表的电池价格的保障。从4万一吨到45万一吨才是环保主义回归的基础。</p>\n<p data-pid=\"zmxyEmUX\">正如马斯克所说：锂正在成为新的石油。（尽管他的原话是锂电池，但是实际上指的是以锂为代表的元素危机前提下的电池供应危机价格问题）。按照目前电池的发展速度，即便是所有可回收的电池都回收，也远远远远无法满足世界对锂电池的需求。所以在我看来，锂电池原材料的高价将会维持非常长的时间，而这也会有助于电池的回收技术的发展。因为自由市场有利可图向来是创新爆发的基础。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-72aaf9edffe94c9fe1ef20f989734486_720w.jpg?source=b1748391?rss\" data-rawwidth=\"927\" data-rawheight=\"571\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-72aaf9edffe94c9fe1ef20f989734486\" data-watermark-src=\"v2-fdf07d07bf3a52a70fcb9521eb60e328\" data-private-watermark-src=\"v2-16d638076a095087ffbc25a600232d6b\"></p>\n<p data-pid=\"zfj7FOH8\">不过，同样是Musk目前在干的很多事情又反过来在阻止电池组的维护、维修和回收工作，其中最典型的技术就是CTC。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-ffe9b3211289ae097cf1cd0cf75930c7_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1274\" data-rawheight=\"752\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-ffe9b3211289ae097cf1cd0cf75930c7\" data-watermark-src=\"v2-4789ad11e03da2be7985a3e76e5cdfc2\" data-private-watermark-src=\"v2-eccda668fb372b80c99a1386941f1150\"></p>\n<p data-pid=\"qOziAko3\">可以想见，回收业者得花费巨大的精力来切开和清理电池包，然后在避免破坏电芯引发电解液泄露甚至更加恶性事件发生的条件下清理出4860电芯并尽可能去掉这些胶质，然后才能开展后续的工作。这将会是回收业者的噩梦，按时只能希望这样的电池能够在很好的电池管理算法的条件下坚持的更久，让用户觉得折算到折旧已经回本了地步。</p>\n<p><br></p>\n<h2>4. 最后谈谈我不太想谈的梯次回收。我认为短期内铺开的可能性不大，因为风险和收益完全不成正比。</h2>\n<p data-pid=\"P9Vo-kfS\">梯次回收是很早之前提出的概念，大致就是车子的电池衰减到80%左右车用不好了，还可以改为做集中储能和家庭储能云云。</p>\n<p data-pid=\"MCDmbme6\">听起来很美好，现实很骨感。三元锂电池用全新的，全球炸了至少45个储能站。磷酸铁锂电池储能站全球有报道的炸了3个站，其中中国炸的成为了储能站全球死伤最为严重的案例 - 北京大红门光储充一体站。我有一个内部报告专门写这个事情，这里面发生的神奇故事完全可以开一场直播说2个小时的那种，教训太惨烈了。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-f58fc12423addbeab9c18ee89efa67b0_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1085\" data-rawheight=\"695\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-f58fc12423addbeab9c18ee89efa67b0\" data-watermark-src=\"v2-e4c04f5924f3bc9b06f8d72f4580fb70\" data-private-watermark-src=\"v2-d337c637c0ddc89b6884353581a6268f\"></p>\n<p data-pid=\"7gc2rD4E\">目前储能站不许用三元锂，关于梯次利用这块没有说禁止，但是大红门后加了一个前提，是对于电池健康管理要有成熟评估模型的要求，这个说实话和“原则上不鼓励”没啥区别。目前梯次利用国内还是有示范项目的，但是短期来说，储能电池需求未来的要求会和动力电池区分开来，而且电池类型都有可能会分开来，所以不要对这个寄予太大的希望。</p>\n<p><br></p>\n<hr>\n<p data-pid=\"Bp1uJdma\">关于前面特斯拉百万公里的事情，有人给我回了私信，介绍那个车的特殊情况。特斯拉很多车主做过衰退实测，表现确实还可以，不过百万公里的事情我也是看了人家信息，没有细就发生了什么。我就直接贴上吧。</p>\n<p><img src=\"https://pica.zhimg.com/v2-dd151664fccd29bde98cd8f25dc82a24_720w.jpeg?source=b1748391?rss\" data-rawwidth=\"1228\" data-rawheight=\"2700\" data-size=\"normal\" data-watermark=\"watermark\" data-original-src=\"v2-dd151664fccd29bde98cd8f25dc82a24\" data-watermark-src=\"v2-7c1b3460bc7ed2b25d3b826e0be9aa08\" data-private-watermark-src=\"v2-abe00c2053e57840b76aa34188a53b3a\"></p>\n<p></p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/JackyQ?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">JackyQ</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/300419422/answer/2670950233?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">290 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/515360245?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">电动车电池寿命是多久？新电池如何选购？废旧电池换下来是如何处理的？如何才能不造成污染？</a><br><a href=\"http://www.zhihu.com/question/315413364?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">国家为何不统一纯电动车换电池的规格？</a><br>\n","link":"http://www.zhihu.com/question/300419422/answer/2670950233?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"巴西的很多汽车是烧酒精的，为什么国内不可以效仿他们去造酒精汽车呢？","date":"2022-09-20 02:32:41","description":"\n<p data-pid=\"Vi-RghWV\">这个问题里面有几个高赞答案我简单看了一下，有些说的是认为这是一个骗补的虚假技术，有些是从美国乙醇汽油发展谈的。和我的个人介绍一样，我在汽车相关企业工作（包含可研阶段直接到企业做横向课题）已经14年了，其中在2013年的时候直接负责过研究南美市场，因为一方面我们有现有发动机出口到南美地区（直到现在也是如此，但是都是M15以内的），另一方面，当时南美地区计划委托我们团队设计一款1.0L的发动机，并希望能够支持柔性燃料。我甚至一度已经被计划安排到巴西地区常驻2年以支持当地的国产化与产品应用。所以我算是从汽车企业一线对于南美地区以乙醇为主的柔性燃料答主中算是最熟悉的一个人吧。我适当从行业发展的角度谈一谈乙醇汽油的问题。</p>\n<hr>\n<h2>首先，因地制宜应当是所有替代燃料的基础。南美地区丰富的含糖类农作物是乙醇汽油风靡的基础。美国和我国的乙醇历史也各有资源背景。</h2>\n<p data-pid=\"9kkzWYXb\">巴西的乙醇汽油的历史可以追溯到1930s，甚至早于南美地区发现大量石油之前。巴西的基础是大量的甘蔗园地。因为甘蔗是经济作物，所以制糖出口和制乙醇换钱本身也没啥区别。而且尽管巴西后期也发现了大量的石油，但是由于巴西本国却长期依赖石油进口和从外国资本控制的石油公司购买石油，在很长一段时间并没有充分享受到石油资源的红利。其后果就是巴西本国政府对于乙醇汽油的发展一直非常支持。后面我们会提到FFV（ Flex Fuel Vehicle - 柔性燃料汽车），就是在巴西被列为政府政策推广的车型。</p>\n<p data-pid=\"oicHzCwR\">美国的乙醇汽油主要依赖的是本国的工业化农产品-玉米。玉米的价格是如此便宜，以至于在美国装船送到中国，到岸价格比中国本地玉米的采购价格还要低，而且品质稳定，颗粒一致性好。</p>\n<p><img src=\"https://pic2.zhimg.com/v2-c02528c63155b4797b0a73a27d02f428_720w.jpg?source=b1748391?rss\" data-rawwidth=\"650\" data-rawheight=\"415\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-c02528c63155b4797b0a73a27d02f428\" data-watermark-src=\"v2-5d9eb88059b31c0406ab5499d9345572\" data-private-watermark-src=\"v2-3f7f3df4f400158c40d09c890f1b8b82\"></p>\n<p data-pid=\"Mqh4gg9r\">美国玉米的主要优势是：地理优势、大规模机械化和长期杂交育种。2017年，美国玉米全国平均产量为1.1万公斤/公顷（1466公斤/亩），而中国为6090公斤/亩（812公斤/亩），约为美国平均产量的55%，整体差距较大。这里要补充一下，根据统计，在2018年美国98%的玉米是转基因玉米，不过主要是为了大规模生产所需的抗病虫害目的。我个人由于我个人选择的原因，在有预算的条件下更倾向于购买非转基因玉米油食用。但是我也要强调的是，不能将美国玉米的高产量简单归结于转基因，其实核心还是农业机械化程度。如下表可见，中国的均摊的人力成本是美国的15.8倍。</p>\n<p><img src=\"https://pic4.zhimg.com/v2-a9a8ee6843274665a4dd55ed89aac7e3_720w.jpg?source=b1748391?rss\" data-rawwidth=\"641\" data-rawheight=\"195\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-a9a8ee6843274665a4dd55ed89aac7e3\" data-watermark-src=\"v2-0be42aec01e3c8d068493a8352ef4f11\" data-private-watermark-src=\"v2-23b086100e23395980672b4cafdedd9e\"></p>\n<p data-pid=\"nVRQAE_l\">由于大平原，大规模机械化以及品种优势，美国大量的玉米除了满足本国的口粮之外，大量用在畜牧业是出口领域。但是价格自然就非常低廉。所以反过来，当发现玉米是糖类作物中可以高产乙醇的时候，自然就会有很多企业开始搞乙醇燃料提升附加值的事情。根据一些不完全统计，专门给乙醇企业提供玉米长期合同的农产主的收入在面对玉米价格波动的时候，可以因此增收40%左右。</p>\n<p data-pid=\"E8RtU2cr\">我国在2000年之后一段时间一度对关于乙醇汽油比较关注，一方面是随着国家的发展，对于汽柴油的需求越来越高，作为一个农业大国是否可以通过醇类燃料减少对外部燃油类资源的依赖是一个永恒的课题，另一方面，是当时由于国内连年粮食丰收，又加上历史上的多年粮食积累，每年中国都在抛弃报废大量的临库陈化粮。这些粮食不能给人吃，作为畜牧业消耗也不是很合适，有人就提出可以用来做乙醇，然后通过乙醇汽油来长期消耗。</p>\n<p><img src=\"https://picx.zhimg.com/v2-2f87d4b5787accd1b22078ec98f3a096_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1080\" data-rawheight=\"877\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-2f87d4b5787accd1b22078ec98f3a096\" data-watermark-src=\"v2-f018cea5a94a7474d1932b2e0f12cd5e\" data-private-watermark-src=\"v2-3cb3eaf39b5a3a3776db15638d0ed8d0\"></p>\n<p data-pid=\"lTsKiazP\">那个时候我还在学校，各类代用燃料也是我们研究的课题之一。其实在那个时候这个话题还和土地流转问题挂钩了。因为在那个时代突然有很多中国的所谓”自由经济学家“认为，耕地问题和粮食问题都是可以通过自由贸易和技术进步来取代的，所以需要解绑中国的18亿亩耕地红线，把更多的耕地转为建筑用地或其他灵活用地，从而实现经济可持续发展。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-c69a9d58bc4ff870e630db3553aa6179_720w.jpg?source=b1748391?rss\" data-rawwidth=\"985\" data-rawheight=\"778\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-c69a9d58bc4ff870e630db3553aa6179\" data-watermark-src=\"v2-096c199e15ff8dc7cb6aaf7e066695a6\" data-private-watermark-src=\"v2-3bfa81e37de8bade354ba2caf167aab5\"></p>\n<p data-pid=\"YSwS5X1O\">然而，事实上从2005年-2011年，世界主要粮食生产国灾害频发，并直接导致了2006-2008年，2010-2011年两次世界粮食危机。恰恰是中国的粮食政策和耕地政策保障了中国平稳度过了这两个时期。目前我们正处在2020年之后的第三轮世界粮食危机的轮次中。</p>\n<p data-pid=\"gw8ZnD52\">所以2006年之后，关于陈化粮转乙醇的研究课题就渐渐消失了。在这过程中，美国的玉米转乙醇汽油技术同样被很多世界组织攻击，因为乙醇汽油消耗了本该廉价出口的大量玉米，而很多粮食自给率低的国家就是严重依赖美国的廉价玉米出口才能喂饱自己的国家国民。而美国在当时认为这就是自由市场自由买卖。</p>\n<h2>当粮食缺少5%的时候，不是粮食价格增长5%，而是当粮食价格上涨到5%的人口就算饿死也买不起的时候，价格增长才会停止。</h2>\n<p data-pid=\"EyI7o2nc\">所以从2006年以后，包括生物乙醇在内的所有生物质燃料研究的核心，是非粮化以及不与粮食作物争地。在靠植物转化方面，尽可能的使用非粮食作物和非畜牧业能用的生物质来制造。然后其问题就是成本太高，效率太低。</p>\n<p data-pid=\"dRt62OER\">所以国内的乙醇燃料产业一直发展的并不好。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-c792383c276f79e28e2689e29954cc93_720w.jpg?source=b1748391?rss\" data-rawwidth=\"1061\" data-rawheight=\"491\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-c792383c276f79e28e2689e29954cc93\" data-watermark-src=\"v2-fe5b268be19126b2bd0ad701262aaa59\" data-private-watermark-src=\"v2-b9625d7fb454c801b3b075d487060387\"></p>\n<p data-pid=\"clSFfnCm\">目前国内四种制醇方案的参考价格（2017年媒体公布价格，仅作参考），煤制乙醇成本最低，这个后面讲，问题还是继续消耗煤炭这类石化燃料，算是灰醇或者棕醇，然后合成路径比较长，未来还是甲醇比较靠谱。粮食甘蔗就是遇到了使用粮食相关作物的问题。木薯的问题是国内种就要挤占耕地，进口的话那还是依赖进口。秸秆木屑制醇高赞回答说过几句，目前的问题就是成本高。所以想要补贴我也可以理解，因为算是碳补贴嘛。这个未来看中国的全生命周期碳排放和碳市场的筹建情况可能才会有比较市场化的优势条件。</p>\n<hr>\n<h2>说完了资源背景，我们说说技术和政策层面。</h2>\n<p data-pid=\"cYcNP2V-\">美国乙醇汽油在早期有两个很重要的推动因素。第一是石油危机带来的燃料自给的问题，这个大家比较好理解。第二是由于内燃机的尾气排放问题带来的，而且一直影响到现在。</p>\n<p data-pid=\"39mVYFdM\">普通的汽油的燃烧排放物中包含了各种污染物，其中一个很大的原因来自于汽油是一个多组分的石油提取物，主要成分是长链的碳氢化合物，含氧量较低。所以配合早期的发动机技术和后处理设备，燃烧产物复杂，排气可以看到黑烟和颗粒物粉末。</p>\n<p><img src=\"https://pic1.zhimg.com/v2-70604e8f43cf3bf21c3059a4f1ede5b2_720w.jpg?source=b1748391?rss\" data-rawwidth=\"800\" data-rawheight=\"496\" data-size=\"normal\" data-watermark=\"watermark\" data-original-src=\"v2-70604e8f43cf3bf21c3059a4f1ede5b2\" data-watermark-src=\"v2-516233886dbd40357ccc1e49781f2a33\" data-private-watermark-src=\"v2-6c386120884c4aab5a61801d0113f95c\"></p>\n<p data-pid=\"qqeMuqdc\">乙醇是一个含氧量比较高的短链碳氢化物，简单的来说燃烧的时候产物更简单，而且不会有黑烟存在。所以天生其排放产物就更加有利于清洁空气。所以无论是混合到汽油里面还是纯乙醇，都被认为是一种更加清洁的燃料。</p>\n<p data-pid=\"pKCreiJS\">不过到了1980s，尤其是到了1990s，由于一种划时代的伟大发明：三元催化器的出现，彻底解放了汽油机。只要当发动机的燃烧空燃比控制在一个合理的范围内，这个神奇的尾气处理机构可以实现将99%的有害尾气物质完全消除，而且还不需要定期添加耗材。与此同时，发动机的燃烧技术也在不断发展，燃料的脱硫以及提炼净化技术也在不断提升，与此同时还有各类的燃油添加剂技术的发展。所以1990s之后，替代燃料技术的环保优势不在，而且通过几个轮次的中东战争，中东几个强硬国家被打得服服帖帖的，石油限产问题基本被美国武力解决了，甚至美国自己也逐渐成为了石油出口国。对于石油的观念也在发展，最典型的例子是1970年就有人说石油会在未来50年内耗尽，但是实际的情况是过去五十年每年发布的石油储量越来越多，也就是说，石油越挖越多。</p>\n<p data-pid=\"dIKGVaVl\">与此同时，新能源汽车技术的发展成为了化石燃料未来发展替代的一个新的重要方向，那么替代燃料技术的关注度就更低了。</p>\n<p data-pid=\"EUGJWC28\">不过，这几年来，乙醇的关注度又起来了一些，主要是由于如下几个方面：</p>\n<ol>\n<li data-pid=\"93D7ptal\">化学汽油添加剂被禁用，乙醇作为汽油的添加剂被重视。由于很多短视频和科普文章的传播，很多人都知道含铅汽油添加剂被无铅汽油添加剂取代的事情。但是很多人不知道的是，目前一些无铅汽油添加剂由于可能对自然生态带来的其他影响而被一些发达国家禁用了。其中尤其是一种叫做MTBE-甲基叔丁醚，这是一种辛烷值改进剂，在历史上是取代含铅汽油添加剂的一种革命性的产物。但是这种组分在1999年被美国政府立法正式禁用了，原因是会污染地下水和深层土壤且在厌氧条件下无法短期降解，目前在国内还在被广泛使用。尽管工业界已经开发出了其他类型的替代物，不过价格偏高，那么乙醇作为一个很好的替代品，目前在美国MTBE被禁用后成为了唯一的高性价比添加剂。所以MTBE的被禁止又被人叫做“玉米商人的胜利”</li>\n<li data-pid=\"DAboHoDT\">碳排放问题的持续关注。很多人认为纯电动为代表的新能源汽车是减少碳排放的途径，然而事实上锂电池的碳排放和电力碳排放的问题依然非常严重。除了北欧等极少数国家之外，世界上绝大部分国家的电动汽车的实际碳排放在头10-15万公里是超过纯燃油车的。与此同时，基础设施的巨大投入以及将整个交通系统依靠在电网安全上也是非常危险的事情。低碳代用燃料的主要两个方向：1是以绿氢为基础的合成染料技术，2就是新一代的生物燃料技术。其中生物乙醇作为技术最成熟的技术之一，依然被很多地方所关注到。</li>\n</ol>\n<p data-pid=\"amE65C-W\">目前南美等国的主要降低国家碳排放的策略就是进一步提升生物醇类燃料的比例，一方面来说这是因为他们的资源特点，另一方面来说也和他们的国家在电力基础设施升级与三电技术的发展局限性有一定的关系。</p>\n<p data-pid=\"HnL0RlHq\">中国目前的未来技术趋势有很多讨论和争论。与此同时，国际绿党也在不断的影响中国的政府决策机构和舆论，一些国际ngo组织每年在中国为了系统性推动中国向绿色政策转型的政策游说投入就高达1000万美元以上。</p>\n<p data-pid=\"1G6YOVGY\">其实在我看来，一个大国的未来，交通运输业必然是多样化的，总体来说，宜电则电、宜油则油、宜醇则醇，宜氢则氢，国家主管部门应当以全生命周期的碳排放为基础，管好大处，然后把剩下的交给技术的自然发展和市场竞争。</p>\n<p data-pid=\"NPF9AuGf\">此外，更重要的，是始终重视产业的正常发展规律，关注就业和基础设施建设，特别是国家税金，一定要避免因为个别行业领军人物被影响了，就把数千亿级别的国家税金砸的跟玩一样砸给特定的企业。要有监控和追责的体系，更重要的是公开辩论和信息透明。一定要避免中国的汽车相关产业出现发电业和煤炭业一样的问题后，才想起来“先立后破”的道理。因为发生了一次，那叫经验不足，发生2次，那就纯粹是蠢和坏了。</p>\n<br><br>\n来源：知乎 www.zhihu.com<br>\n    \n作者：<a href=\"http://www.zhihu.com/people/JackyQ?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=author\">JackyQ</a><br><br>\n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。\n        <a href=\"http://daily.zhihu.com/?utm_source=rssyanwenzi&amp;utm_campaign=tuijian&amp;utm_medium=rssnormal\" target=\"_blank\">点击下载</a><br><br>\n此问题还有 <a href=\"http://www.zhihu.com/question/294651406/answer/2669237809?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">171 个回答，查看全部。</a><br>\n                延伸阅读：<br><a href=\"http://www.zhihu.com/question/461142980?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">现如今有自动检测酒精的汽车吗？</a><br><a href=\"http://www.zhihu.com/question/468771388?utm_campaign=rss&amp;utm_medium=rss&amp;utm_source=rss&amp;utm_content=title\" target=\"_blank\">酒精可以放在汽车上吗？需要注意什么？</a><br>\n","link":"http://www.zhihu.com/question/294651406/answer/2669237809?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title"},{"title":"React 为什么重新渲染","date":"2022-09-06 08:29:00","description":"\n<p>更新（重新渲染）是 React 的重要特性 —— 当用户与应用交互的时候，React 需要重新渲染、更新 UI，以响应用户的输入。但是，React 为什么会重新渲染呢？如果不知道 React 为什么会重新渲染，我们如何才能避免额外的重新渲染呢？</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/186432/20/28325/37613/631725bbEf2ff226e/66b99021df66578b.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/react-re-renders-101/\">https://blog.skk.moe/post/react-re-renders-101/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/react-re-renders-101/"},{"title":"为什么你不应该在 React 中直接使用 useEffect 从 API 获取数据","date":"2022-08-19 08:53:00","description":"\n<p>React 是一个由 Facebook 开源的、可以在任意平台上构建 UI 的 JavaScript 库。在 React 中，一个常见的 Pattern 是使用 <code>useEffect</code> 搭配 <code>useState</code> 发送请求、将状态从 API（React 外部）同步到 React 内部、用于渲染 UI，这篇文章恰恰在向你介绍为什么你不应该直接这么做。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/180676/37/27394/27265/62ff57f2E600b3725/cff75c5fca39bbcc.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/\">https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/why-you-should-not-fetch-data-directly-in-use-effect/"},{"title":"NPM 自动更新版本号","date":"2022-08-04 05:00:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p>ChenYFan 大佬的文章：<a href=\"https://blog.cyfan.top/p/d3c51290.html\">SpeedUp!使用黑科技为你的网站提速</a> 有提到过将 Hexo 博客的全部静态文件上传至 NPM 达到加速效果。</p>\n<p>但是 NPM 版本号不能重复，而且为了精准命中缓存和防止边缘 <code>@latest</code> 缓存过长，就必须指定版本号。</p>\n<p>本人在 <a href=\"https://blog.yfun.top/posts/2876015612/\">我的图床解决方案</a> 一文中使用的方法是 <code>npm version patch</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.16/rawimg/20220804133426.png\"></p>\n<p>但这个方法也有一些弊端，比如 <code>patch</code> 只会更新 <code>z</code> 位数的版本号，而且并不会上传至仓库，很可能会出现版本号冲突导致上传失败。这就是为什么最后还需要重新推送 Git 提交。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E8%AF%95%E8%AF%95%E7%9C%8B\" class=\"headerlink\" title=\"试试看\"></a>试试看</h2>\n<p>NPM 版本号遵循 <code>semver</code> 规范，格式为 <code>major.minor.patch</code>。</p>\n<p>为了在获取最新版本号的时候不发生混乱，我选择先获取最新的版本号。</p>\n<blockquote><p>记得把 <code>cky-blog-static</code> 改成自己的项目名。</p></blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getVersion = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> latestVersion = <span class=\"keyword\">await</span> fetch(<span class=\"string\">\"https://registry.npmjs.org/cky-blog-static/latest\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.version;</span><br><span class=\"line\">    })</span><br><span class=\"line\">    <span class=\"keyword\">return</span> latestVersion;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>获取到最新版本号后，就可以对版本号进行分析。</p>\n<p>以 <code>1.4.7-b541af2ea284a39da0bbf63b88fdb65c</code> 为例，先按 <code>major.minor.patch</code> 分离。当然，也需要考虑版本号后还有 <code>build metadata</code> 的情况。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> version = <span class=\"keyword\">await</span> getVersion();</span><br><span class=\"line\"><span class=\"keyword\">var</span> verArray = version.split(<span class=\"string\">\".\"</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = verArray[<span class=\"number\">2</span>].split(<span class=\"string\">\"-\"</span>)[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure><p><del>为了版本号好看些</del>，可以通过判断实现满十进一。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (verArray[<span class=\"number\">2</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\"><span class=\"comment\">// z 位小于 9，直接 +1</span></span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">2</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">} <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (verArray[<span class=\"number\">1</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\"><span class=\"comment\">// z 位大于等于 9，y 位小于 9，y+1, z=0</span></span><br><span class=\"line\">verArray[<span class=\"number\">1</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">1</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">} <span class=\"keyword\">else</span> {</span><br><span class=\"line\"><span class=\"comment\">// z 大于等于 9，y 大于等于 9，x+1,y=0,z=0</span></span><br><span class=\"line\">verArray[<span class=\"number\">0</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">0</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">verArray[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><p>最后，重新拼接版本号。如果担心服务器缓存版本号导致冲突，还可以加上一些随机字符串。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> newVersion = <span class=\"string\">`<span class=\"subst\">${verArray[<span class=\"number\">0</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">1</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">2</span>]}</span>`</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newVersion = newVersion + <span class=\"string\">\"-\"</span> + md5(<span class=\"string\">`<span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()}</span><span class=\"subst\">${newVersion}</span>`</span>);</span><br></pre></td></tr></table></figure><p>将最新的版本号信息重新写入 <code>package.json</code> 文件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> packageJson = fs.readFileSync(<span class=\"string\">\"./package.json\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> packageJson = <span class=\"built_in\">JSON</span>.parse(packageJson);</span><br><span class=\"line\">packageJson.version = newVersion;</span><br><span class=\"line\"><span class=\"keyword\">var</span> newPackage = <span class=\"built_in\">JSON</span>.stringify(packageJson);</span><br><span class=\"line\">fs.writeFileSync(<span class=\"string\">\"./package.json\"</span>, newPackage);</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E4%BB%A3%E7%A0%81\" class=\"headerlink\" title=\"代码\"></a>代码</h2>\n<p><del>直接 CV 代码！</del></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 更新 package.json 版本号</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> fetch = <span class=\"built_in\">require</span>(<span class=\"string\">\"node-fetch\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> md5 = <span class=\"built_in\">require</span>(<span class=\"string\">\"js-md5\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">\"fs\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getVersion = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> latestVersion = <span class=\"keyword\">await</span> fetch(<span class=\"string\">\"https://registry.npmjs.org/cky-blog-static/latest\"</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> res.json()).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> {</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.version;</span><br><span class=\"line\">    })</span><br><span class=\"line\">    <span class=\"keyword\">return</span> latestVersion;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> update = <span class=\"keyword\">async</span>() =&gt; {</span><br><span class=\"line\">    <span class=\"keyword\">const</span> version = <span class=\"keyword\">await</span> getVersion();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> verArray = version.split(<span class=\"string\">\".\"</span>);</span><br><span class=\"line\">    verArray[<span class=\"number\">2</span>] = verArray[<span class=\"number\">2</span>].split(<span class=\"string\">\"-\"</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (verArray[<span class=\"number\">2</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">2</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">    } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (verArray[<span class=\"number\">1</span>] &lt; <span class=\"number\">9</span>) {</span><br><span class=\"line\">        verArray[<span class=\"number\">1</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">1</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">        verArray[<span class=\"number\">0</span>] = <span class=\"built_in\">String</span>(<span class=\"built_in\">Number</span>(verArray[<span class=\"number\">0</span>])+<span class=\"number\">1</span>);</span><br><span class=\"line\">        verArray[<span class=\"number\">1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        verArray[<span class=\"number\">2</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">var</span> newVersion = <span class=\"string\">`<span class=\"subst\">${verArray[<span class=\"number\">0</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">1</span>]}</span>.<span class=\"subst\">${verArray[<span class=\"number\">2</span>]}</span>`</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> newVersion = newVersion + <span class=\"string\">\"-\"</span> + md5(<span class=\"string\">`<span class=\"subst\">${<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()}</span><span class=\"subst\">${newVersion}</span>`</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(newVersion);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> packageJson = fs.readFileSync(<span class=\"string\">\"./package.json\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> packageJson = <span class=\"built_in\">JSON</span>.parse(packageJson);</span><br><span class=\"line\">    packageJson.version = newVersion;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> newPackage = <span class=\"built_in\">JSON</span>.stringify(packageJson);</span><br><span class=\"line\">    fs.writeFileSync(<span class=\"string\">\"./package.json\"</span>, newPackage);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Complete!!\"</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">update();</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%9C%80%E5%90%8E\" class=\"headerlink\" title=\"最后\"></a>最后</h2>\n<p>如果是 Hexo 文件部署，就可以直接把文件直接丢在项目根目录，Action 集成部署加上：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">node update.js</span><br></pre></td></tr></table></figure><p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.16/rawimg/20220804135818.png\"></p>\n<p><del>Blog 半年没更新，除除草 --(....</del></p>\n","link":"https://blog.yfun.top/posts/2022/auto-update-npm-version/"},{"title":"我有特别的 DNS 配置和使用技巧","date":"2022-07-28 15:31:00","description":"\n<p>众所周知，DNS 的作用与电话簿类似，将人类可读的域名映射到机器可读 IP 地址、使人更方便地访问互联网。DNS 是非常重要的互联网基础设施，对于改善上网冲浪的体验中的重要程度不容小觑。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/96381/31/31172/23930/62e2ab5bE554d388b/37027f4a03351b9e.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/i-have-my-unique-dns-setup/\">https://blog.skk.moe/post/i-have-my-unique-dns-setup/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/i-have-my-unique-dns-setup/"},{"title":"优化博客的累计布局偏移（CLS）问题","date":"2022-06-07 17:24:00","description":"\n<p>距离上一篇文章发布已有四个月了，是时候写几篇文章给博客除草了。上一次我介绍了我如何迁移、重构了我的博客的架构，这次我想来谈谈我在重构中优化和打磨访客体验时解决的一个问题。我的博客优化之旅 图片 lazyload 的学问和在 Hexo 上的最佳实践 我的博客有多快？ 天下武功，唯快不破 —— 我是这样优化博客的 ...</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/206311/26/14625/38940/629f7f81Eb11312de/b1e67f07b1cc9bc7.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/fix-blog-cls/\">https://blog.skk.moe/post/fix-blog-cls/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/fix-blog-cls/"},{"title":"使用 Next.js + Hexo 重构我的博客","date":"2022-03-17 16:24:00","description":"\n<p>在咕咕了一整年、只发布了三篇文章（其中两篇还是译文）之后，我决定还是稍微花一点时间好好折腾一下自己的博客，以 React 作为抓手，通过 Next.js 和 Hexo 深度共建，对标 Gatsby，打通静态 HTML 与用户交互之间的垂直领域屏障，实现多维矩阵闭环，为个人博客赋能（咳咳咳），然后水出 2022 年第一篇文章（逃）技术选型：Gatsby vs Next.js我使用 Hexo 驱动博客已经三年之久了，之前写过一个 开源的 Hexo 主题，后来还成为了 Hexo 的 Core Team Member、为 Hexo 贡献了不少代码。Hexo 是一个诞生于 2012......</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/218492/18/14257/25439/6227858fE1517791d/63119f6e39dc9389.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/\">https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/"},{"title":"在 Windows 上快速安装 Hexo · 安装 Node.js","date":"2022-01-14 10:30:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p><strong>本文未经允许，禁止转载！</strong></p>\n<p><strong>视频教程正在制作，等待更新。</strong></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95\" class=\"headerlink\" title=\"文章目录\"></a>文章目录</h2>\n<ul>\n<li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-git\">安装 Git</a></li>\n<li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-nodejs\">安装 Node.js</a></li>\n</ul>\n<blockquote><p>更多文章等待更新...</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%8B%E8%BD%BD\" class=\"headerlink\" title=\"下载\"></a>下载</h2>\n<p>前往 Node.js 官网 (<a href=\"https://node.js.org/\">https://node.js.org</a>)</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/image-20220114174925675.png\" alt=\"image-20220114174925675\"></p>\n<p>下载 Node.js 安装包（推荐下载 LTS 版本）</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175645.png\" alt=\"image-20220114175645642\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<p>双击运行安装文件。</p>\n<p>点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175750.png\" alt=\"image-20220114175749822\"></p>\n<p>勾选同意协议，点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175835.png\" alt=\"image-20220114175835742\"></p>\n<p>修改文件安装位置，点击 <code>Next</code>。（也可以不用改）</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114175929.png\" alt=\"image-20220114175929226\"></p>\n<p>点击 <code>Next</code>。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180010.png\" alt=\"image-20220114180010036\"></p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180044.png\" alt=\"image-20220114180043895\"></p>\n<p>点击 <code>Install</code> 开始安装。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180108.png\" alt=\"image-20220114180107827\"></p>\n<p>等待安装完成。<img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180122.png\" alt=\"image-20220114180122728\"></p>\n<p>点击 <code>Finish</code> 完成安装。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180206.png\" alt=\"image-20220114180206024\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%B5%8B%E8%AF%95\" class=\"headerlink\" title=\"测试\"></a>测试</h2>\n<p>打开 <code>Git Bash</code>.</p>\n<blockquote><p>在文件夹处右击，点击 <code>Git Bash Here</code> 进入 Git Bash。<br>或是在开始菜单中找到 Git Bash.</p></blockquote>\n<p>输入 <code>node -v</code> 和 <code>npm -v</code> 查看版本，正确输出版本信息即代表安装成功。</p>\n<p><img src=\"https://unpkg.zhimg.com/ocoke-osg@0.0.14/rawimg/20220114180458.png\" alt=\"image-20220114180458685\"></p>\n","link":"https://blog.yfun.top/posts/hexo-blog/install-nodejs/"},{"title":"2022: 新年快乐！","date":"2021-12-31 16:00:00","description":"\n<p>转眼间，2021 年已经过去。这一年非常忙碌，以至于博客一周年的纪念来不及写，许多文章计划停留在了 To Do 里。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%8D%9A%E5%AE%A2\" class=\"headerlink\" title=\"博客\"></a>博客</h2>\n<p>由于 Cloudflare Web Analytics 是在 2021 年 4 月份启用的，再加上后来又将统计代码去除，所以关于访问量的信息不可用。</p>\n<p>截止至 2021 年 12 月 31 日，博客共发布 15 篇文章，其中 2021 年发布 11 篇文章，原创文章 10 篇。</p>\n<p>目前采用 <code>LeanCloud + Waline</code> 的评论方式，自 7 月份被刷评论后将评论权限改为登录（支持 <code>GitHub</code> 登录），还有部分评论在迁移中丢失，实在抱歉。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%BB%E9%A2%98\" class=\"headerlink\" title=\"主题\"></a>主题</h2>\n<p>博客自 2021 年 1 月 13 日将主题改为 <code>Miracle</code>，这是一款简洁、轻量的单栏 Hexo 主题。</p>\n<p><code>Miralce</code> 目前的版本是 <code>2.0.1</code>，全新的版本去除 jQuery，进一步提升性能。</p>\n<p>GitHub 仓库：<a href=\"https://github.com/hifun-team/hexo-theme-miracle\">https://github.com/hifun-team/hexo-theme-miracle</a></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%9B%B4%E5%A4%9A\" class=\"headerlink\" title=\"更多\"></a>更多</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">=&gt; ...</span><br></pre></td></tr></table></figure>\n","link":"https://blog.yfun.top/posts/2022/"},{"title":"无垠 2021 年度总结","date":"2021-12-31 08:36:10","description":"\n<p>真是忙碌的一年啊。转眼 2021 已经过去，2022 即将到来。又到了该总结这一年的时候了。</p>\n<h1>统计数据</h1>\n<p>年度总结的第一部分仍然是一些统计数据。以下数据截止 2021 年 12 月 29 日 23:39:59。</p>\n<h2>博客主站</h2>\n<p>无垠博客主站，年 UV 29,073 (<span>+0.6%</span>)，年 PV 67,688 (<span>-11.61%</span>)，日均 UV 79.65，平均停留时间 3分34秒 (<span>-13.7%</span>)，平均跳出率 55% (<span>-9.8%</span>)。一年有效文章数 1 (<span>-80%</span>)，新增评论 109 条 (<span>-54.96%</span>)。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/blog.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/blog.jpg\" alt=\"\" width=\"515\" height=\"620\" class=\"aligncenter size-full wp-image-2537\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/blog.jpg 515w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/blog-249x300.jpg 249w\" sizes=\"(max-width: 515px) 100vw, 515px\"></a>\n<p>除了 UV 较去年提高 100 多之外，其他数据全部下滑。主要原因还是因为今年实在太过忙碌，只更新了一篇博客，评论区也没有怎么维护。不过目前已经有两篇新的文章在路上了，希望可以尽快写完吧。</p>\n<h2>个人主页</h2>\n<p>个人页总 UV 3,515 (<span>-18.12%</span>)，总 PV 3,929 (<span>-4.56%</span>)，日均 UV 9.63，平均停留时间 55秒 (<span>-12.7%</span>)。访问的主要来源是知乎和 GitHub。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/axton.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/axton.jpg\" alt=\"\" width=\"515\" height=\"647\" class=\"aligncenter size-full wp-image-2538\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/axton.jpg 515w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/axton-239x300.jpg 239w\" sizes=\"(max-width: 515px) 100vw, 515px\"></a>\n<p>仍然是没有更新个人主页的一年，我也没有继续宣传这个页面，统计数据下滑大概是正常的。</p>\n<h2>MDx</h2>\n<p>一年中，MDx 更新了 4 次，新增 149 commits (<span>-54.57%</span>)，Star 数增加了 174，现有 788。</p>\n<p>终于，MDx 2.0 发布了。但是因为今年的过于忙碌，MDx 并没有得到足够的维护，版本发布周期也拉得比较长，很多 Bug 没能及时修复。希望明年可以把更多的时间花在维护 MDx 上。无论如何，还是感谢各位对于 MDx 的支持！</p>\n<div class=\"mdx-github-cot\" data-mdxgithuba=\"yrccondor\" data-mdxgithubp=\"mdx\" data-mdxgithubg=\"https://api.github.com/\"><div class=\"mdx-github-wait-out-c2\"><div class=\"mdx-github-wait-out-c mdui-valign\"><div class=\"mdx-github-wait-out\"><div class=\"mdx-github-wait\"><a href=\"https://github.com/yrccondor/mdx\"><div class=\"mdui-spinner\"></div></a></div></div></div></div></div>\n<h1>2021 大事记</h1>\n<p>说起来，2021 真的太多“第一次”了...</p>\n<ul>\n<li>一月：由于电脑电池鼓包，第一次用 iPad 外接屏幕远程桌面到服务器来考期末🌚太痛苦了</li>\n<li>一月：MDx 喜提 600 Stars</li>\n<li>三月：第一次测核酸（真的酸）</li>\n<li>三月：第一次坐上 A350！(B-309W）</li>\n<li>三月：第一次来到英国</li>\n<li>六月：第一次来到伦敦</li>\n<li>六月：第一次去猫咖撸猫🐱</li>\n<li>六月：第一次坐上 B777！(B-2025）</li>\n<li>七月：酒店隔离十四天🌚</li>\n<li>七月：MDx 喜提 700 Stars</li>\n<li>七月：第一次和猫一起住（时刻有猫撸真的爽😆）</li>\n<li>七月：入职<a href=\"https://75.team/\">奇舞团</a>实习</li>\n<li>八月：北京景点怎么这么多</li>\n<li>九月：北京景点怎么还有这么多</li>\n<li>九月：<a href=\"https://flyhigher.top/develop/2160.html\">谈谈 WebAuthn</a> 被 <a href=\"https://weibo.com/1893751011/KyipM3tOM\" rel=\"noopener noreferrer\">w3c中国微博转发</a><del>（虽然并没有人看）</del>\n</li>\n<li>九月：从奇舞团<del>跑路</del>\n</li>\n<li>九月：整了个 Stackoverflow 的复制粘贴键盘<del>，太好用了</del>\n</li>\n<li>十月：终于买了心心念念的 MSFS</li>\n<li>十一月：终于买了一台新相机</li>\n<li>十一月：第一次坐上 A380！(B-6140）</li>\n<li>十二月：第一次来到爱丁堡并和 <a href=\"https://diygod.me/\">@DIYgod</a> 面基</li>\n</ul>\n<section><div class=\"set-images-div\">\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cats.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cats.jpg\" alt=\"和猫一起住的唯一问题就是手机很快会被猫片塞满\" width=\"730\" height=\"1500\" class=\"aligncenter size-full wp-image-2518\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cats.jpg 730w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cats-146x300.jpg 146w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cats-498x1024.jpg 498w\" sizes=\"(max-width: 730px) 100vw, 730px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat.jpg\" alt=\"看到你在写前端，猫猫很担心你\" width=\"1004\" height=\"1500\" class=\"aligncenter size-full wp-image-2523\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat.jpg 1004w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat-201x300.jpg 201w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat-685x1024.jpg 685w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cat-768x1147.jpg 768w\" sizes=\"(max-width: 1004px) 100vw, 1004px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv.jpg\" alt=\"高效开发工具（确信\" width=\"1500\" height=\"1019\" class=\"aligncenter size-full wp-image-2519\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv.jpg 1500w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv-300x204.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv-1024x696.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/cv-768x522.jpg 768w\" sizes=\"(max-width: 1500px) 100vw, 1500px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt.jpg\" alt=\"和 Ralph 在天坛\" width=\"947\" height=\"1500\" class=\"aligncenter size-full wp-image-2524\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt.jpg 947w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt-189x300.jpg 189w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt-646x1024.jpg 646w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/tt-768x1216.jpg 768w\" sizes=\"(max-width: 947px) 100vw, 947px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/380.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/380.jpg\" alt=\"380!\" width=\"1500\" height=\"874\" class=\"aligncenter size-full wp-image-2517\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/380.jpg 1500w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/380-300x175.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/380-1024x597.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/380-768x447.jpg 768w\" sizes=\"(max-width: 1500px) 100vw, 1500px\"></a>\n</div>\n<div class=\"set-images-div2\">\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2.jpg\" alt=\"到处玩.jpg\" width=\"1500\" height=\"1080\" class=\"aligncenter size-full wp-image-2521\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2.jpg 1500w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2-300x216.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2-1024x737.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play2-768x553.jpg 768w\" sizes=\"(max-width: 1500px) 100vw, 1500px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play.jpg\" alt=\"还是到处玩.jpg\" width=\"977\" height=\"1500\" class=\"aligncenter size-full wp-image-2520\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/play.jpg 977w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play-195x300.jpg 195w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play-667x1024.jpg 667w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/play-768x1179.jpg 768w\" sizes=\"(max-width: 977px) 100vw, 977px\"></a><br><a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars.jpg\" alt=\"380 上的星空\" width=\"1002\" height=\"1500\" class=\"aligncenter size-full wp-image-2522\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars.jpg 1002w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars-200x300.jpg 200w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars-684x1024.jpg 684w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/stars-768x1150.jpg 768w\" sizes=\"(max-width: 1002px) 100vw, 1002px\"></a>\n</div>\n</section><p><span>点击图片查看描述</span></p>\n<p>对了，对于可爱的猫猫们，我整了一个 Telegram 贴纸包，你可以在这里获取：<a href=\"https://telegram.me/addstickers/huanAndDan\">https://telegram.me/addstickers/huanAndDan</a>。</p>\n<h1>跨年红包</h1>\n<p>今年的解题之旅，从下面这张图片开始：</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/b.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/b.jpg\" alt=\"\" width=\"1510\" height=\"1250\" class=\"aligncenter size-full wp-image-2556\"></a>\n<p>不过，鉴于今年的题目较以往对于认真解题的人更难，我还准备了隐藏红包，在解题中收集线索即可发现隐藏红包。共有 20 个普通红包和 10 个隐藏红包。</p>\n<p>解题计划持续到东八区 2022.02.03 23:59:59 或红包被领完为止，之后我会发布题解。不过由于去年情况混乱，今年在解题过程中我一旦发现有不正常的现象就会立即停止活动。Anyway，新年快乐！祝玩得开心。</p>\n<h1>跨年海报</h1>\n<p>依然是传统艺能，今年的海报用到了 PS 和 Adobe 家的新玩具 Dimension。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1.jpg\" alt=\"\" width=\"707\" height=\"1000\" class=\"aligncenter size-full wp-image-2547\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1.jpg 1414w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1-212x300.jpg 212w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1-724x1024.jpg 724w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1-768x1086.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2021/12/2022-in-post-1-1086x1536.jpg 1086w\" sizes=\"(max-width: 707px) 100vw, 707px\"></a>\n<p>那么祝各位新年快乐！</p>\n","link":"https://flyhigher.top/diary/2507.html"},{"title":"[译] 不，Web3 不是去中心化","date":"2021-12-14 14:01:00","description":"加密货币社区对元宇宙和 Web3 的狂热仍在继续，大量投资人和开发者前仆后继加入其中。但是，Web3 真的能实现支持者们的种种愿景吗？亦或是另一个镜中月、水中花？也许让历史照进现实，能给我们答案。<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/123139/11/24965/54827/62215eedE5e3da14a/80c24408e97057dd.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/web3-is-not-decentralization/\">https://blog.skk.moe/post/web3-is-not-decentralization/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/web3-is-not-decentralization/"},{"title":"[译] 捍卫自由的互联网，对 Web3 说不","date":"2021-12-12 13:40:00","description":"作为一个充满泡沫和噱头的新概念，Web3 和元宇宙在区块链的社区中掀起了一波浪潮。鼓吹者坚信 Web3 就是互联网的未来、不惜砸下大把的金钱和精力、希望能在未来中捞一杯羹；而大部分人保持观望的态度。是时候来一点 Web3 的反对意见了。<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/87908/13/23797/13415/622032afE3a2f9e9f/95c01e98cd4a707a.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/keep-web-free-say-no-to-web3/\">https://blog.skk.moe/post/keep-web-free-say-no-to-web3/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/keep-web-free-say-no-to-web3/"},{"title":"2021 年 JavaScript Promise 性能对比","date":"2021-12-07 08:19:00","description":"\n<p>我们正生活在一个「Any application that can be written in JavaScript, will eventually be written in JavaScript」的时代。作为一门兼具动态性和简单性的语言，JavaScript 已经占领了客户端、服务端，甚至在机器学习中也占据一席之地；不可避免的，异步执行也逐渐成为这门语言不可缺少的一部分。TL; DR Bluebird 依然是速度最快、内存占用最少的 Promise 实现 Runtime 的 async / await 实现越来越快、顺序执行的性能已经超过 Native Promise，占用的内存也更少 对于平行并发执行的 Promise，Bluebird 的性能依然一骑绝尘。......</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/157404/28/28495/143414/622032b2Ef7b495fd/6a9bd02e79392c9d.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/promise-performance-benchmark/\">https://blog.skk.moe/post/promise-performance-benchmark/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/promise-performance-benchmark/"},{"title":"在 Windows 上快速安装 Hexo · 安装 Git","date":"2021-11-12 13:30:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p><strong>本文未经允许，禁止转载！</strong></p>\n<p><strong>视频教程正在制作，等待更新。</strong></p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95\" class=\"headerlink\" title=\"文章目录\"></a>文章目录</h3>\n<ul><li><a href=\"https://blog.yfun.top/posts/hexo-blog/install-git\">安装 Git</a></li></ul>\n<blockquote><p>更多文章等待更新...</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%B8%8B%E8%BD%BD\" class=\"headerlink\" title=\"下载\"></a>下载</h2>\n<p>前往 Git 官网 (<a href=\"https://git-scm.com/\">https://git-scm.com</a>).</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112204849.png\"></p>\n<p>点击页面中的 <code>Download For Windows</code> 下载 Windows 版本。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211507.png\"></p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<p>双击运行安装文件。</p>\n<p>点击 <code>Next</code>，同意协议。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211528.png\"></p>\n<p>修改程序安装位置，点击 <code>Next</code>（直接装在 C 盘也不是不行）。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211604.png\"></p>\n<p>组件选项，可选桌面快捷键、右键菜单、LFS 支持、自动检查更新等。</p>\n<p>点击 <code>Next</code> 进入下一步。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211609.png\"></p>\n<p>开始菜单文件夹名，保持默认就可以，点击 <code>Next</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211613.png\"></p>\n<p>默认编辑器，保持 Vim 就可以，点击 <code>Next</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211616.png\"></p>\n<p>环境变量，选择第 2 个，点击 <code>Next</code>。</p>\n<blockquote><p>如果选择第 1 个，则只能在 Git Bash 中使用，可能会出现问题</p></blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211619.png\"></p>\n<p>剩下的都可以保持默认，一路 Next，然后点击 <code>Install</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211622.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211624.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211627.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211630.png\"><br><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/20211112211633.png\"></p>\n<p>等待安装完毕。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E6%B5%8B%E8%AF%95\" class=\"headerlink\" title=\"测试\"></a>测试</h2>\n<p>在文件夹处右击，点击 <code>Git Bash Here</code> 进入 Git Bash。</p>\n<p>（或是在开始菜单中找到 Git Bash）</p>\n<p>输入 <code>git --version</code> 查看版本，正确输出版本信息即代表安装成功。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.11/rawimg/7ec315b7764cc.png\"></p>\n<p>大功告成！</p>\n","link":"https://blog.yfun.top/posts/hexo-blog/install-git/"},{"title":"前端时间国际化 101","date":"2021-10-14 15:58:23","description":"\n<blockquote>\n<p>时间只是幻觉。</p>\n<footer>—— 阿尔伯特·爱因斯坦</footer>\n</blockquote>\n<p>最近在开发一个需要完善国际化方案的前端项目，在处理时间国际化的时候遇到了一些问题。于是花了一些时间研究，有了这篇文章。不过由于网上关于 JavaScript 中 <code>Date</code> 对象的坑的文章已经一抓一大把了，<strong>因此这篇文章不是 JavaScript 中 <code>Date</code> 对象的使用指南，而是只专注于前端时间国际化。</strong></p>\n<h1>从时区说起</h1>\n<p>要想处理时间，UTC 是一个绕不开的名字。协调世界时（Coordinated Universal Time）是目前通用的世界时间标准，计时基于原子钟，但并不等于 TAI（国际原子时）。TAI 不计算闰秒，但 UTC 会不定期插入闰秒，因此 UTC 与 TAI 的差异正在不断扩大。UTC 也接近于 GMT（格林威治标准时间），但不完全等同。可能很多人都发现近几年 GMT 已经越来越少出现了，这是因为 GMT 计时基于地球自转，由于地球自转的不规则性且正在逐渐变慢，目前已经基本被 UTC 所取代了。</p>\n<blockquote><p>JavaScript 的 <code>Date</code> 实现不处理闰秒。实际上，由于闰秒增加的不可预测性，Unix/POSIX 时间戳完全不考虑闰秒。在闰秒发生时，Unix 时间戳会重复一秒。这也意味着，一个时间戳对应两个时间点是有可能发生的。</p></blockquote>\n<p>由于 UTC 是标准的，我们有时会使用 UTC+/-N 的方式表达一个时区。这很容易理解，但并不准确。中国通行的 <code>Asia/Shanghai</code> 时区<strong>大部分</strong>情况下可以用 UTC+8 表示，但英国通行的 <code>Europe/London</code> 时区并不能用一个 UTC+N 的方式表示——由于夏令时制度，<code>Europe/London</code> 在夏天等于 UTC+1，在冬天等于 UTC/GMT。</p>\n<blockquote><p>一个时区与 UTC 的偏移并不一定是整小时。如 <code>Asia/Yangon</code> 当前为 UTC+6:30，而 <code>Australia/Eucla</code> 目前拥有奇妙的 UTC+8:45 的偏移。</p></blockquote>\n<p>夏令时的存在表明<strong>时间的表示不是连续的</strong>，时区之间的时差也并不是固定的，我们并不能用固定时差来处理时间，这很容易意识到。但一个不容易意识到的点是，时区还包含了其历史变更信息。中国目前不实行夏令时制度，那我们就可以放心用 UTC+8 来表示中国的时区了吗？你可能已经注意到了上一段中描述 <code>Asia/Shanghai</code> 时区时我使用了<strong>大部分</strong>一词。<code>Asia/Shanghai</code> 时区在历史上实行过夏令时，因此 <code>Asia/Shanghai</code> 在部分时间段可以使用 UTC+9 来表示。</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">new Date('1988-04-18 00:00:00')\n// Mon Apr 18 1988 00:00:00 GMT+0900 (中国夏令时间)</pre>\n<blockquote><p>夏令时已经够混乱了，但它实际上比你想象得更混乱——部分穆斯林国家一年有四次夏令时切换（进入斋月时夏令时会暂时取消），还有一些国家使用混沌的 15/30 分钟夏令时而非通常的一小时。</p></blockquote>\n<blockquote><p><strong>不要总是基于 <code>00:00</code> 来判断一天的开始。</strong>部分国家使用 0:00-1:00 切换夏令时，这意味着 23:59 的下一分钟有可能是 1:00。</p></blockquote>\n<p>事实上，虽然一天只有 24 个小时，但当前（2021.10）正在使用的时区有超过 300 个。<strong>每一个时区都包含了其特定的历史。</strong>虽然有些时区在现在看起来是一致的，但它们都包含了不同的历史。时区也会创造新的历史。由于政治、经济或其他原因，一些时区会调整它们与 UTC 的偏差（萨摩亚曾经从 UTC-10 切换到 UTC+14，导致该国 2011.12.30 整一天都消失了），或是启用/取消夏令时，甚至有可能导致一个时区重新划分为两个。因此，为了正确处理各个时区，我们需要一个数据库来存放时区变更信息。还好，已经有人帮我们做了这些工作。目前大多数 *nix 系统和大量开源项目都在使用 <a href=\"https://www.iana.org/time-zones\" rel=\"noopener\">IANA 维护的时区数据库</a>（IANA TZ Database），其中包含了自 Unix 时间戳 0 以来各时区的变更信息。当然这一数据库也包含了大量 Unix 时间戳 0 之前的时区变更信息，但并不能保证这些信息的准确性。IANA 时区数据库会定期更新，以反映新的时区变更和新发现的历史史实导致的时区历史变更。</p>\n<blockquote><p>Windows 不使用 IANA 时区数据库。微软为 Windows 自己维护了一套<a href=\"https://docs.microsoft.com/zh-cn/troubleshoot/windows-client/system-management-components/daylight-saving-time-help-support\" rel=\"noopener\">时区数据库</a>，这有时会导致在一个系统上合法的时间在另一系统上不合法。</p></blockquote>\n<p>既然我们不能使用 UTC 偏移来表示一个时区，那就只能为每个时区定义一个标准名称。通常地，我们使用 <code>/</code> 来命名一个时区。这里的城市一般为该时区中人口最多的城市。于是，我们可以将中国的通行时区表示为 <code>Asia/Shanghai</code>。也有一些时区有自己的别名，如太平洋标准时间 <code>PST</code> 和协调世界时 <code>UTC</code>。</p>\n<blockquote><p>时区名称使用城市而非国家，是由于国家的变动通常比城市的变动要快得多。</p></blockquote>\n<blockquote><p><strong>城市不是时区的最小单位。</strong>有很多城市同时处于多个时区，甚至澳大利亚<a href=\"https://en.wikipedia.org/wiki/Gold_Coast_Airport\" rel=\"noopener\">有一个机场</a>的跑道两端处于不同的时区。</p></blockquote>\n<h1>处理时区困难重重</h1>\n<p>几个月前的一天，<a href=\"https://milkice.me/\" rel=\"noopener\">奶冰</a>在他的 Telegram 频道里发了这样的一条消息：</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-1.jpg\"><img src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-1.jpg\" alt=\"奶冰频道的消息\" width=\"500\" class=\"aligncenter size-medium wp-image-2490\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-1.jpg 800w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-1-244x300.jpg 244w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-1-768x944.jpg 768w\" sizes=\"(max-width: 800px) 100vw, 800px\"></a>\n<p>你想的没错，这个问题正是由时区与 UTC 偏移的不同造成的。<code>Asia/Shanghai</code> 时区在 1940 年前后和 1986 年前后曾实行过夏令时，<strong>而夏令时的切换会导致一小时的出现和消失。</strong>具体来说，启用夏令时当天会有一个小时消失，如 2021.3.28 英国启用夏令时，1:00 直接跳到 3:00，导致 <code>2021-03-28 01:30:00</code> 在 <code>Europe/London</code> 时区中是不合法的；取消夏令时当天又会有一个小时重复，如 2021.10.31 英国取消夏令时，2:00 会重新跳回 1:00 一次，导致 <code>2021-10-31 01:30:00</code> 在 <code>Europe/London</code> 时区中对应了两个时间点。而在奶冰的例子中，<code>1988-04-10 00:46:50</code> 正好处于因夏令时启用而消失的一小时中，因此系统会认为此时间字符串不合法而拒绝解析。</p>\n<blockquote><p>你可能会注意到在历史上 1988.4.10 这一天 <code>Asia/Shanghai</code> 时区实际上是去掉了 1:00-2:00 这一小时而不是 0:00-1:00。上文问题更深层次的原因是，在 IANA TZDB 2018a 及更早版本中，IANA 因缺乏历史资料而设置了错误的夏令时规则，规则设定了夏令时交界于 0:00-1:00 从而导致上文问题发生。而随后社区<a href=\"http://mm.icann.org/pipermail/tz/2018-August/026760.html\" rel=\"noopener\">发现了更准确的史实</a>，因此 IANA 更新了数据库。上文的问题在更新了系统的时区数据库后便解决了。</p></blockquote>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2.jpg\" alt=\"IANA TZDB 2018a 及之前版本的错误数据\" width=\"1750\" height=\"595\" class=\"aligncenter size-full wp-image-2491\" srcset=\"https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2.jpg 1750w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2-300x102.jpg 300w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2-1024x348.jpg 1024w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2-768x261.jpg 768w, https://acdn.flyhigher.top/wp-content/uploads/2021/10/time-2-1536x522.jpg 1536w\" sizes=\"(max-width: 1750px) 100vw, 1750px\"></a>\n<p><span>IANA TZDB 2018a 及之前版本的错误数据</span></p>\n<p>再来考虑另一种情况。你的应用的某位巴西用户在 2018 年保存了一个未来时间 <code>2022-01-15 12:00</code>（按当时的规律那应该是个夏令时时间），不巧那时候你的应用是以格式化的时间字符串形式保存的时间。之后你发现巴西已经于 2019 年 4 月宣布彻底取消夏令时制度，那么 <code>2022-01-15 12:00</code> 这个时间对应的 Unix 时间戳发生了变化，变得不再准确，要正确处理这一字符串就需要参考这一字符串生成的时间（或生成时计算的 UTC 偏移）来做不同的处理。<strong>因此，应用从一开始就应该避免使用字符串来传输、存储时间，而是使用 Unix 时间戳。</strong>如果不得不使用字符串存储时间，请尽可能：</p>\n<ul>\n<li>使用 UTC 描述时间，你永远不会知道本地时区在未来会发生什么</li>\n<li>如果需要以当地时间描述时间，一定带上当前 UTC 偏移</li>\n</ul>\n<p>时区历史带来的问题往往意想不到而且远比想象得多。实际上时区历史数据非常详细而繁多且跨设备不一致，并没有简单而统一的处理方法。在需要严谨处理时区时可能需要在应用程序中内嵌一套各端统一的时区数据库，但这样的方案放在前端又会带来不少问题：</p>\n<ul>\n<li>体积过大。moment.js 曾经设计过<a href=\"https://github.com/moment/moment-timezone/blob/develop/data/packed/2021a.json\" rel=\"noopener\">一种简洁的 TZDB 表示</a>，但尽管已经尽可能压缩整个文件仍然达到了 180+KB。在性能优先的 Web 应用中这是不可接受的</li>\n<li>需要持续更新。时区数据一直在变动，需要在时区数据更新时尽快更新应用内的时区数据，这带来了额外的维护成本</li>\n</ul>\n<p>ES6 为我们带来了 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl\" rel=\"noopener\"><code>Intl</code> 命名空间</a>。在这里，JavaScript 运行时提供了不少时间相关的国际化能力。因此，在不使用额外数据的情况下准确处理时区是可能的，但这并不完美：</p>\n<ul>\n<li>各端不统一。浏览器提供的时区数据受浏览器版本、系统版本等可能变化，最新的时区更新可能无法快速反映到所有设备上</li>\n<li>实现复杂。<code>JavaScript</code> 中 <code>Date</code> 对象的不良设计导致实现完善的时区处理并不容易，且 <code>Intl</code> 命名空间下的对象实例化性能开销较大，需要额外优化</li>\n</ul>\n<blockquote><p><code>Intl</code> 命名空间下还有很多实用的国际化相关方法，值得我们另开一篇文章来讲讲了。</p></blockquote>\n<p>在真实开发中，这需要取舍。目前主流的 JavaScript 时间处理库都已转向浏览器内置方法，并在需要时通过 Polyfill 保证跨端一致性。在这篇文章中，我们将尝试在不使用第三方库的情况下实现基本的时间国际化处理。此外，还有一些诸如需要使用 Unix 时间戳才能正确地在各端交换时间等细节需要注意。</p>\n<h1>时区转换</h1>\n<p>JavaScript 中的 <code>Date</code> 并不是不包含时区信息——实际上，<code>Date</code> 对象表示的一定是当前时区。通过尝试：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">new Date('1970-01-01T00:00:00Z')\n// Thu Jan 01 1970 08:00:00 GMT+0800 (中国标准时间)</pre>\n<p>就可以知道，JavaScript 运行时其实知道当前时区，并会在需要的时候将其他时区的时间转换为当前时区的时间。那么，如何将本地时间转换为其他时区的时间呢？从 <code>Date</code> 的角度看，这并不行，因为我们无法设置一个 <code>Date</code> 对象的时区。但我们可以“投机取巧”：将 <code>Date</code> 对象的时间加上/减去对应的时差，尽管 <code>Date</code> 对象仍然认为自己在本地时区，但这样不就可以正确显示了嘛！但我们会碰到上文提到的问题：时区之间的时间差并不固定，在没有额外数据的情况下很难正确计算。</p>\n<p>还好，ES6 基于 <code>Intl</code> 命名空间扩展了 <code>Date.prototype.toLocaleString()</code> 方法，使其可以接受时区参数并按指定时区格式化时间。如果你在搜索引擎中搜索如何使用 JavaScript 转换时区，你大概率会在 StackOverflow 上找到类似这样的答案：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const convertTimeZone = (date, timeZone) =&gt; {\n    return new Date(date.toLocaleString('en-US', { timeZone }))\n}\n\nconst now = new Date() // Wed Oct 13 2021 01:00:00 GMT+0800 (中国标准时间)\nconvertTimeZone(now, 'Europe/London') // Tue Oct 12 2021 18:00:00 GMT+0800 (中国标准时间)</pre>\n<p>很好理解，我们使用 <code>en-US</code> 的区域设置要求 JavaScript 运行时以我们指定的时区格式化时间，再将时间字符串重新解析为时间对象。这里的 <code>timeZone</code> 就是诸如 <code>Asia/Shanghai</code> 等的 IANA TZDB 时区名称。这个字符串确实需要自己提供，但这就是我们唯一需要自己准备的数据了！只要提供了时区名称，浏览器就会自动计算正确的时间，无需我们自行计算。</p>\n<blockquote><p>对于时区名称，你可以考虑使用 <a href=\"https://github.com/vvo/tzdb/\" rel=\"noopener\">@vvo/tzdb</a>。这是一个声称为自动更新的 IANA TZDB 的 JSON 导出，并已被数个大型项目使用。你可以从这个包中导出所有时区名称。</p></blockquote>\n<p>这个方法看起来还不错，对吧？但实际上，它有两个问题：</p>\n<ul>\n<li>指定了区域设置和时区的 <code>toLocaleString()</code> 实际上每次调用都会在 JavaScript 运行时中创建新的 <code>Intl.DateTimeFormat</code> 对象（在后文详述），而后者会带来昂贵的性能开销（在 Node 14 中，实例化一次会在 V8 中增加内存使用约 46.3Kb。但这是符合预期的，详见 <a href=\"https://bugs.chromium.org/p/v8/issues/detail?id=6528\" rel=\"noopener\">V8 Issue</a>）。因此，在密集调用的情况下需要考虑计算并缓存时差，并在一定时间后或需要时进行更新</li>\n<li>使用 <code>toLocaleString()</code> 并使用 <code>en-US</code> 区域设置格式化的默认时间格式类似于 <code>10/13/2021, 1:00:00 AM</code>。这可以被大部分浏览器正确解析，<strong>但这是不规范的，不同浏览器有可能产生不同结果。</strong>你也可以自行配置格式（同下文的 <code>Intl.DateTimeFormat</code>），但仍然无法构造出规范的字符串</li>\n</ul>\n<p>因此，更佳的方案是，我们需要建立一个可反复使用的格式化器以避免重复创建 <code>Intl.DateTimeFormat</code> 带来的额外开销，并需要手动构造出符合规范的时间字符串，并将其重新解析为 <code>Date</code> 对象。</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const timeZoneConverter = (timeZone) =&gt; {\n    // 新建 DateTimeFormat 对象以供对同一目标时区重用\n    // 由于时区属性必须在创建 DateTimeFormat 对象时指定，我们只能为同一时区重用格式化器\n    const formatter = new Intl.DateTimeFormat('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false,\n        timeZone\n    })\n    return {\n        // 提供 conver 方法以将提供的 Date 对象转换为指定时区\n        convert (date) {\n            // zh-CN 的区域设置会返回类似 1970/01/01 00:00:00 的字符串\n            // 替换字符即可构造出类似 1970-01-01T00:00:00 的 ISO 8601 标准格式时间字符串并被正确解析\n            return new Date(formatter.format(date).replace(/\\//g, '-').replace(' ', 'T').trim())\n        }\n    }\n}\n\nconst toLondonTime = timeZoneConverter('Europe/London') // 对于同一时区，此对象可重用\n\nconst now = new Date() // Wed Oct 13 2021 01:00:00 GMT+0800 (中国标准时间)\ntoLondonTime.convert(now) // Tue Oct 12 2021 18:00:00 GMT+0800 (中国标准时间)</pre>\n<blockquote><p>目前 <code>zh-CN</code> 的区域设置会产生类似 <code>1970/01/01 00:00:00</code> 的格式化字符串。这一格式目前跨端一致，但由于规范没有指定时间格式，<strong>这个格式在未来有可能变更。</strong>更好的方案是使用 <code>formatToParts()</code> 方法（在后文详述）获取时间字符串的各部分并手动拼接出标准格式的字符串，但在这个例子中直接 <code>replace</code> 拥有更好的性能。</p></blockquote>\n<p>现在，尝试反复转换时间至同一时区 1000 次，耗时从 <code>toLocaleString()</code> 1.5 秒降低到了 0.04 秒。尽管代码长了点，但这次重写在最好的情况下为我们带来了超过 20 倍的性能提升。</p>\n<p>需要注意的是，虽然这看起来就算最终方案了，但这个方案依然不完美。主要有以下两个问题：</p>\n<ul>\n<li>在需要密集转换为不同时区时，由于无法重用格式化器，性能依然较差且难以进一步优化</li>\n<li>由于 <code>Intl.DateTimeFormat</code> 不支持格式化毫秒，在格式化字符串的过程中毫秒会丢失，导致最终结果可能会与期望结果产生最高 999ms 的误差，需要额外处理。比如需要计算时差时，我们可能需要这么写：\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const calcTimeDiff = (date, converter) =&gt; {\n    const secDate = date - date.getMilliseconds() // 去掉毫秒，避免转换前后精度差异\n    return converter.convert(new Date(secDate), tzName) - secDate\n}\n\ncalcTimeDiff(new Date(), timeZoneConverter('Europe/London')) // -25200000</pre>\n</li>\n</ul>\n<p>无论如何，在折腾一番后我们还是把时区正确转换了。接下来准备格式化时间字符串了吗？不过在此之前，我们得先来聊聊语言、文字和区域。</p>\n<h1>语言文字区域傻傻分不清</h1>\n<blockquote><p>如何在计算机中表示中文？</p></blockquote>\n<p>“这不简单，”你可能会说，“用 <code>zh</code> 啊。”</p>\n<blockquote><p>那简体中文呢？</p></blockquote>\n<p>“<code>zh-CN</code>。”你或许会说出这个答案。</p>\n<blockquote><p>那用于新加坡的简体中文和用于中国大陆的简体中文该如何区分呢？</p></blockquote>\n<p>嗯……好问题。</p>\n<p>要能正确区分不同的简体中文，我们还得先回到定义上。实际上，“国际化”并不只是语言的翻译而已，国际化包含的是一整套对于各个<strong>区域</strong>的本地化方案。要准确表示一个国际化方案，我们实际至少需要确定三个属性：语言（Language）、文字（Script）和区域（Locale）。</p>\n<ul>\n<li>\n<strong>语言</strong>通常指的是<strong>声音语言</strong>。不同的语言都有一套自己的发音规则，很难互通。如中文和英语都属于语言</li>\n<li>\n<strong>文字</strong>对应的是某个语言的书写方式，同样的语言可能会有多种书写方案。如中文主要有简体和繁体两种书写方案</li>\n<li>\n<strong>区域</strong>指国际化面向的地区，相同的语言和文字，在不同地区也有可能会有不同的使用习惯。如新加坡和中国大陆都使用简体中文，但两地的用词习惯等有些许差异</li>\n</ul>\n<p>只有确定了这三个属性，我们才能正确定义一个国际化方案（或者说<strong>区域设置</strong>）。当然，还有很多其他属性可以更准确的表达某个区域设置，但通常有语言、文字和区域就已经足够了。</p>\n<p>于是，基于 <a href=\"https://tools.ietf.org/rfc/bcp/bcp47.txt\" rel=\"noopener\">BCP 47</a>，我们可以知道：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"raw\">cmn-Hans-CN = 中文普通话-简体-中国大陆\ncmn-Hans-SG = 中文普通话-简体-新加坡\ncmn-Hant-TW = 中文普通话-繁体-台湾\nyue-Hant-HK = 中文粤语-繁体-香港</pre>\n<p>等等，这都是啥？还有 BCP 47 又是啥？BCP 是 IETF 发布的“最佳当前实践”文档，而 BCP 47 是一些国际化相关的 ISO 和备忘录的集合，也是目前事实上由 HTML 和 ECMAScript 所使用的表达区域设置的标准。BCP 47 定义的区域设置标签实际上比较复杂，但对于大部分简单使用情况，上文示例中的格式已经完全够用了。简单来说，<strong>要表达一个区域设置，我们会使用 <code>语言[-文字][-区域]</code> 的格式，而文字和区域都是可选的。</strong>而对于每个部分的具体代码，BCP 47 也有做具体定义。其中：</p>\n<ul>\n<li>语言使用 ISO 639-1 定义的两位字母代码（如中文为 <code>zh</code>，英文为 <code>en</code>）或 <a href=\"https://iso639-3.sil.org/code_tables/639/data\" rel=\"noopener\">ISO 639-2/3</a> 定义的三位字母代码（如中文普通话为 <code>cmn</code>，英文为 <code>eng</code>），通常小写</li>\n<li>文字使用 <a href=\"https://unicode.org/iso15924/iso15924-codes.html\" rel=\"noopener\">ISO 15924</a> 定义的四位字母代码，通常首字母大写。如简体中文是 <code>Hans</code>，繁体中文是 <code>Hant</code>\n</li>\n<li>区域通常使用 <a href=\"https://www.iso.org/iso-3166-country-codes.html\" rel=\"noopener\">ISO 3166-1</a> 定义的两位字母代码，通常大写，如中国大陆为 <code>CN</code>，英国为 <code>GB</code>\n</li>\n</ul>\n<blockquote><p>ISO 639-1/2/3 的关系实际是：ISO 639-1 是最早制定的规范，使用两位字母表示语言，但语言数量之多并不能只用两位代码表示。因此后来修订了 ISO 639-2 和 3，使用三位字母表示了更多语言。通常 639-1 代码和 ISO-2/3 代码是一对多的关系。如中文 <code>zh</code> 其实是中文普通话 <code>cmn</code> 的宏语言（macrolanguage），同样使用 <code>zh</code> 为宏语言的语言还有 <code>wuu</code>（中文吴语）、<code>hak</code>（中文客家话）、<code>yue</code>（中文粤语）等数十种。<strong>从规范上我们现在应该使用 ISO 639-2/3 代码来替代 ISO 639-1 代码了</strong>，但由于历史阻力和真实需求中分类无需如此细致等原因，<strong>使用 ISO 639-1 指定语言仍然非常常见而且完全可以接受。</strong>此外，特别地，我们在 ISO 639-3 中定义未指明的语言为 <code>und</code>。</p></blockquote>\n<p>因此，对于这一节开头的两个问题，在 BCP 47 中正确答案其实是：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"raw\">zh = 中文\ncmn = 中文普通话\n\nzh-Hans = 中文-简体\ncmn-Hans = 中文普通话-简体</pre>\n<p>而 <code>zh-CN</code> 实际是指在中国大陆使用的中文，当然也包含在中国大陆使用的繁体中文。<strong>不过，由于大部分情况下一个区域只会通用一种文字，很多情况下我们可以忽略文字这一项</strong>，即使用 <code>zh-CN</code>（或者 <code>cmn-CN</code>）来表示中国大陆的简体中文普通话——毕竟在大部分业务中在中国大陆使用繁体和非普通话的情况非常少。</p>\n<blockquote><p>事实上，类似 <code>zh-Hans</code> 和 <code>zh-Hant</code> 开头的区域设置名称已经被标记为 <code>redundant 废弃</code>，因此尽可能只使用 <code>zh-CN</code> 或者 <code>cmn-Hans-CN</code> 这样的区域设置名称。所有区域设置名称的列表可以在 <a href=\"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\" rel=\"noopener\">IANA</a> 找到。</p></blockquote>\n<p>现在我们可以准确定义一个区域设置了。不过我们还有一些小小的需求。比如我们想在 <code>cmn-Hans-CN</code> 的区域设置中使用农历来表示日期，但显然我们上文定义的表示方法并不能表达这一需求。好在，Unicode 为 BCP 47 提供了 u 扩展。在区域设置名称后面加上 <code>-u-[选项]</code> 就可以表达更细致的变体了。所以我们有：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"raw\">cmn-Hans-CN-u-ca-chinese = 中文普通话-简体-中国大陆-u-日历-中国农历\njpn-Jpan-JP-u-ca-japanese = 日语-日文汉字/平假名/片假名-日本-u-日历-日本日历\ncmn-Hans-CN-u-nu-hansfin = 中文普通话-简体-中国大陆-u-数字-简体大写数字</pre>\n<p>u 扩展的具体可选项可以在 <a href=\"https://www.unicode.org/reports/tr35/tr35-21.html#Unicode_locale_identifier\" rel=\"noopener\">Unicode 网站</a>上找到。而多个 u 扩展还可以连接——于是我们甚至可以写出 <code>cmn-Hans-CN-u-ca-chinese-nu-hansfin</code> 这种丧心病狂的区域设置名称。当然，相信你现在已经可以看懂这个区域设置的意思了。</p>\n<blockquote><p>不同地区可能会有不同的日历使用习惯，如中国有使用农历的需求，泰国有使用佛历的需求，我们可以通过 u 扩展指定不同的日历。不过，大部分情况下我们会使用标准的 ISO 8601 日历（gregory），JavaScript 的 <code>Date</code> 对象也只支持这种日历。</p></blockquote>\n<blockquote><p>你可以使用 <a href=\"https://r12a.github.io/app-subtags/\" rel=\"noopener\">BCP47 language subtag lookup</a> 工具快速检查你编写的 BCP 47 区域标签是否规范。</p></blockquote>\n<p>终于我们可以正确表达一个完美符合我们需求的区域设置了。接下来，让我们开始格式化时间吧。</p>\n<h1>格式化时间</h1>\n<p>这题我会！</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const formatDate(date) =&gt; {\n    return `${date.getFullYear()}-${`${date.getMonth() + 1}`.padStart(2, '0')}-${`${date.getDate()}`.padStart(2, '0')} ${`${date.getHours()}`.padStart(2, '0')}:${`${date.getMinutes()}`.padStart(2, '0')}:${`${date.getSeconds()}`.padStart(2, '0')}`\n}\n\nformatDate(new Date()) // 2021-10-13 01:00:00</pre>\n<p>就完事了……吗？先不论这样的格式化代码难以阅读，尽管上文这样的日期格式国际通用，<strong>但并非所有区域都习惯于这样的日期表示方法。</strong>比如英语国家/地区在很多时候习惯在日期中加入星期，而阿拉伯语国家/地区在部分情况下习惯使用阿拉伯语数字（而非常用的阿拉伯-印度数字）；再比如美式英语国家/地区习惯月-日-年的日期表示法，而英式英语国家/地区习惯日-月-年的日期表示法……不同区域在时间表示格式习惯上的差异是巨大的，<strong>我们很难通过一个简单的方法来正确地、国际化地格式化一个日期。</strong></p>\n<p>好在 ES6 早就为我们铺平了道路。还记得上文提到过的 <code>Intl.DateTimeFormat</code> 吗？我们通过它来实例化一个日期格式化器并用进行日期的国际化。</p>\n<p>直接来看例子吧：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const options = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    weekday: 'long'\n}\nconst now = new Date()\n\nconst enUSFormatter = new Intl.DateTimeFormat('en-US', options)\n\nconst zhCNFormatter = new Intl.DateTimeFormat('zh-CN', options)\nconst zhCNAltFormatter = new Intl.DateTimeFormat('zh-CN-u-ca-chinese', options)\nconst zhCNAlt2Formatter = new Intl.DateTimeFormat('zh-CN-u-ca-roc-nu-hansfin', options)\n\nconst jaFormatter = new Intl.DateTimeFormat('ja', options)\nconst jaAltFormatter = new Intl.DateTimeFormat('ja-JP-u-ca-japanese', options)\n\nconst arEGFormatter = new Intl.DateTimeFormat('ar-EG', options)\n\nenUSFormatter.format(now) // Wednesday, Oct 13, 2021\n\nzhCNFormatter.format(now) // 2021年10月13日星期三\nzhCNAltFormatter.format(now) // 2021辛丑年九月8星期三\nzhCNAlt2Formatter.format(now) // 民国壹佰壹拾年拾月拾叁日星期三\n\njaFormatter.format(now) // 2021年10月13日水曜日\njaAltFormatter.format(now) // 令和3年10月13日水曜日\n\narEGFormatter.format(now) // الأربعاء، ١٣ أكتوبر ٢٠٢١</pre>\n<blockquote><p>在这里我们使用 ISO 639-1 代码来表示语言，是由于事实上 ISO 639-1 代码更加常见与通用。在大部分支持 <code>Intl.DateTimeFormat</code> 的 JavaScript 运行时中我们也可以使用 ISO 639-2/3 代码来表示语言（但实际会 fallback 至对应的 ISO 639-1 代码）。</p></blockquote>\n<blockquote><p>你也可以通过在 <code>options</code> 中设置 <code>calendar</code> 属性和 <code>numberingSystem</code> 属性来替换区域设置名称中对 u 扩展的使用。这也是推荐方式。</p></blockquote>\n<p>这非常直观，我们可以指定区域设置和格式化选项来初始化一个格式化器，并在之后使用格式化器对象的 <code>format</code> 方法来格式化一个 <code>Date</code> 对象。这里的格式化选项其实非常灵活，能格式化的不只是日期，时间也可以被灵活地格式化，有非常多的组合可以选择。我们不会在这里详细解释每一个选项，你可以访问 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat\" rel=\"noopener\">MDN 文档</a>来了解更多。</p>\n<blockquote><p>如前文所述，<code>Intl.DateTimeFormat</code> 无法格式化毫秒。</p></blockquote>\n<p>不过需要注意的是，<strong>JavaScript 运行时不一定支持所有区域设置，也不一定支持所有格式化选项。</strong>在遇到不支持的情况时，<code>Intl.DateTimeFormat</code> 默认会静默 fallback 到最匹配的支持项，因此在处理不常见的区域设置或选项时，你可能需要再额外检查。你可以通过 <code>Intl.DateTimeFormat.supportedLocalesOf()</code> 静态方法判断当前运行时是否支持指定的区域设置，也可以在实例化格式化器后在对象上调用 <code>resolvedOptions()</code> 方法来检查运行时的解析结果是否与预期一致。</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">new Intl.DateTimeFormat('yue-Hant-CN').resolvedOptions()\n// {locale: 'zh-CN', calendar: 'gregory', …}\n// fallback 至 zh-CN，与 yue-CN 的预期不一致</pre>\n<p>此外，正如你所看到的，各种语言在日期格式化中使用的文本 JavaScript 运行时都已经帮我们内置了。因此，我们甚至可以利用这些国际化特性来为我们的应用减少一点需要翻译的字符串——打包进应用的翻译越少，应用体积也就越小了嘛——比如说获取一周七天对应的名字：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const getWeekdayNames = (locale) =&gt; {\n     // 基于一个固定日期计算，这里选择 1970.1.1\n     // 不能使用 0，因为 Unix 时间戳 0 在不同时区的日期不一样\n    const base = new Date(1970, 0, 1).getTime()\n    const formatter = new Intl.DateTimeFormat(locale, { weekday: 'short' })\n    return Array.from({ length: 7 }, (_, day) =&gt; (\n        formatter.format(new Date(base + 3600000 * 24 * (-4 + day))) // 1970.1.1 是周四\n    ))\n}\n\ngetWeekdayNames('en-US') // ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\ngetWeekdayNames('zh-CN') // ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\ngetWeekdayNames('ja') // ['日', '月', '火', '水', '木', '金', '土']\ngetWeekdayNames('ar-EG') // ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت']</pre>\n<p>当然，如果你还是不喜欢运行时为你提供的格式，我们还有上文提到过的 <code>formatToParts()</code> 方法可以用。来看一个简单的例子吧：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">new Intl.DateTimeFormat('zh-CN', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    weekday: 'long',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n}).formatToParts(new Date())\n// [\n//     { type: 'year', value: '2021' },\n//     { type: 'literal', value: '年' },\n//     { type: 'month', value: '10' },\n//     { type: 'literal', value: '月' },\n//     { type: 'day', value: '13' },\n//     { type: 'literal', value: '日' },\n//     { type: 'weekday', value: '星期三' },\n//     { type: 'literal', value: ' ' },\n//     { type: 'dayPeriod', value: '上午' },\n//     { type: 'hour', value: '1' },\n//     { type: 'literal', value: ':' },\n//     { type: 'minute', value: '00' },\n//     { type: 'literal', value: ':' },\n//     { type: 'second', value: '00' }\n// ]</pre>\n<p>随后，你就可以自己解析这个数组来构造出你想要的时间格式了。最后，我们还可以使用 <code>Intl.RelativeTimeFormat</code> 来格式化相对日期。当然我们不会在这里详细讲解这个 API，你可以参考 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat\" rel=\"noopener\">MDN 文档</a>。直接来看一个简单例子吧：</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const getRelativeTime = (num, unit, locale) =&gt; {\n    return new Intl.RelativeTimeFormat(locale, { numeric: 'auto' }).format(num, unit)\n}\n\ngetRelativeTime(-3, 'day', 'en-US') // 3 days ago\ngetRelativeTime(-1, 'day', 'zh-CN') // 昨天\ngetRelativeTime(0, 'second', 'zh-CN') // 现在\ngetRelativeTime(3, 'hour', 'ja') // 3 時間後</pre>\n<blockquote><p><code>Intl.RelativeTimeFormat</code> 是一个相对较晚进入标准的对象，因此浏览器支持程度较差，可能需要使用 <a href=\"https://formatjs.io/docs/polyfills/intl-relativetimeformat\" rel=\"noopener\">Polyfill</a>。不过目前（2021.10）主流浏览器的最新版本均已支持此 API。</p></blockquote>\n<h1>未来</h1>\n<p>我希望这篇文章时区转换的部分可以很快过时——这并非无稽之谈，目前（2021.10）TC39 的 <a href=\"https://github.com/tc39/proposal-temporal\" rel=\"noopener\"><code>Temporal</code> 提案</a>已经进入 Stage 3 了。<strong><code>Temporal</code> 提案定义了一个新的、时区友好的 <code>Temporal</code> 命名空间，并期望在不久后就能进入标准并最终应用于生产环境。</strong><code>Temporal</code> 定义了完整的时区、时间段、日历规则的处理，且拥有简单明了的 API。那时候，JavaScript 的时区处理就不会再如此痛苦了。由于目前 <code>Temporal</code> 提案还未进入标准，API 暂未稳定，我们无法将其用于生产环境，但我们可以来看一个简单的例子感受一下这个 API 的强大。</p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"js\">const zonedDateTime = Temporal.ZonedDateTime.from({\n  timeZone: 'America/Los_Angeles',\n  year: 1995,\n  month: 12,\n  day: 7,\n  hour: 3,\n  minute: 24,\n  second: 30,\n  millisecond: 0,\n  microsecond: 3,\n  nanosecond: 500,\n  calendar: 'iso8601'\n}) // 1995-12-07T03:24:30.0000035-08:00[America/Los_Angeles]</pre>\n<p>如果你希望立刻开始使用 <code>Temporal</code>，现在已有 Polyfill 可用。</p>\n<div class=\"mdx-github-cot\" data-mdxgithuba=\"js-temporal\" data-mdxgithubp=\"temporal-polyfill\" data-mdxgithubg=\"https://api.github.com/\"><div class=\"mdx-github-wait-out-c2\"><div class=\"mdx-github-wait-out-c mdui-valign\"><div class=\"mdx-github-wait-out\"><div class=\"mdx-github-wait\"><a href=\"https://github.com/js-temporal/temporal-polyfill\"><div class=\"mdui-spinner\"></div></a></div></div></div></div></div>\n<p>不过，时区问题不会消失，各地区的习惯也很难融合到一起。时间的国际化处理是<a href=\"https://yourcalendricalfallacyis.com/\" rel=\"noopener\">极其复杂</a>的，前端中的时间国际化仍然值得我们认真关注。</p>\n","link":"https://flyhigher.top/develop/2482.html"},{"title":"使用 Python 爬取故宫壁纸","date":"2021-07-17 05:55:00","description":"\n<p>我非常喜欢故宫壁纸，但是一张一张下载的速度就太慢了。</p>\n<p>于是，我就写了个简单的 Python 小程序自动爬取故宫壁纸。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E4%BB%A3%E7%A0%81\" class=\"headerlink\" title=\"代码\"></a>代码</h2>\n<p>首先，我们通过简单的查看，知道故宫壁纸的页面并没有使用 JavaScript 载入。</p>\n<p>但是故宫壁纸很多，所以还需要分类。</p>\n<p>故宫壁纸大多都是以分类开头，如 <code>爱上紫禁城 紫藤</code>, <code>清   虚谷紫藤金鱼图轴（局部）</code> 等等，所以一般只需要做个简单的 <code>startswith()</code> 判断就 OK 了。</p>\n<p>很多壁纸的标题都是一样的，所以还可以使用 <code>random</code> 库在文件名末尾追加一个随机数。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests, bs4, time, random</span><br><span class=\"line\">path = <span class=\"string\">\"./wallpaper/爱上紫禁城\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">catch = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, <span class=\"number\">119</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 组合请求 URL</span></span><br><span class=\"line\">    url = <span class=\"string\">\"https://www.dpm.org.cn/lights/royal/p/{}.html\"</span>.<span class=\"built_in\">format</span>(i)</span><br><span class=\"line\">    <span class=\"comment\"># 发送请求</span></span><br><span class=\"line\">    response = requests.get(url)</span><br><span class=\"line\">    <span class=\"comment\"># 设定页面编码为 UTF-8</span></span><br><span class=\"line\">    response.encoding = <span class=\"string\">\"UTF-8\"</span></span><br><span class=\"line\">    <span class=\"comment\"># 从 HTML 中解析数据</span></span><br><span class=\"line\">    soup = bs4.BeautifulSoup(response.text, <span class=\"string\">\"lxml\"</span>)</span><br><span class=\"line\">    image = soup.find_all(name=<span class=\"string\">\"div\"</span>, class_=<span class=\"string\">\"pic\"</span>)</span><br><span class=\"line\">    <span class=\"comment\"># 循环输出图片</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> image:</span><br><span class=\"line\">        catch = catch + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># 获得壁纸名称</span></span><br><span class=\"line\">        <span class=\"comment\"># 分类，不是以【爱上紫禁城】开头的壁纸都忽略</span></span><br><span class=\"line\">        img_name = n.a.img[<span class=\"string\">\"title\"</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> img_name.startswith(<span class=\"string\">\"明\"</span>):</span><br><span class=\"line\">            print(<span class=\"string\">\"{}. {}\"</span>.<span class=\"built_in\">format</span>(catch, n.a.img[<span class=\"string\">\"title\"</span>]))</span><br><span class=\"line\">            <span class=\"comment\"># 组合获得壁纸页面</span></span><br><span class=\"line\">            url_1080 = <span class=\"string\">\"https://www.dpm.org.cn\"</span> + n.a[<span class=\"string\">\"href\"</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 请求高清版网页</span></span><br><span class=\"line\">            response_img = requests.get(url_1080)</span><br><span class=\"line\">            <span class=\"comment\"># 再次解析</span></span><br><span class=\"line\">            soup_img = bs4.BeautifulSoup(response_img.text, <span class=\"string\">\"lxml\"</span>)</span><br><span class=\"line\">            <span class=\"comment\"># 获取页面中的图片</span></span><br><span class=\"line\">            data = soup_img.find_all(name=<span class=\"string\">\"img\"</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 获得壁纸图片的链接</span></span><br><span class=\"line\">            img_url = data[<span class=\"string\">\"src\"</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 保存图片</span></span><br><span class=\"line\">            pic = requests.get(img_url).content</span><br><span class=\"line\">            file_name = path + img_name + <span class=\"string\">\"-\"</span> + <span class=\"built_in\">str</span>(random.randint(<span class=\"number\">100000</span>, <span class=\"number\">999999</span>)) + <span class=\"string\">\".jpg\"</span></span><br><span class=\"line\">            <span class=\"comment\"># 写入文件</span></span><br><span class=\"line\">            <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(file_name, <span class=\"string\">\"wb\"</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">                file.write(pic)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            print(<span class=\"string\">\"!Ignore: \"</span> + img_name)</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E5%90%8E\" class=\"headerlink\" title=\"后\"></a>后</h2>\n<p>我把一些我下载下来的壁纸放在了 <a href=\"https://t.yfun.top/dpm-wallpaper\">这里</a>，可以直接预览并下载。</p>\n<p><del>OK，又水了一篇文（</del></p>\n","link":"https://blog.yfun.top/posts/2021/dpm-wallpaper/"},{"title":"使用 Prettier 格式化代码","date":"2021-07-15 06:45:00","description":"\n<p>格式化代码可以提高代码的可读性，使代码更加美观。</p>\n<p>Prettier 支持：</p>\n<ul>\n<li>JavaScript (including experimental features)</li>\n<li>JSX</li>\n<li>Angular</li>\n<li>Vue</li>\n<li>Flow</li>\n<li>TypeScript</li>\n<li>CSS, Less, and SCSS</li>\n<li>HTML</li>\n<li>JSON</li>\n<li>GraphQL</li>\n<li>Markdown, including GFM and MDX</li>\n<li>YAML</li>\n</ul>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%AE%89%E8%A3%85\" class=\"headerlink\" title=\"安装\"></a>安装</h2>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%8F%92%E4%BB%B6\" class=\"headerlink\" title=\"插件\"></a>插件</h3>\n<p>你可以很方便的在 VSCode 等 IDE 上安装插件，插件名为 <code>Prettier</code>.</p>\n<p>以 VSCode 为例：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.10/rawimg/6a3ad0ea42d55.png\"></p>\n<blockquote><p>如果安装了其他格式化插件，则需要点击 [格式化文档的方式]，选择 <code>Prettier</code>。</p></blockquote>\n<h3>\n<a href=\"https://blog.yfun.top/#CLI\" class=\"headerlink\" title=\"CLI\"></a>CLI</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo npm i -g prettier</span><br></pre></td></tr></table></figure><p>相关的文档可参见官网: <a href=\"https://prettier.io/docs/en/cli.html\">https://prettier.io/docs/en/cli.html</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">prettier --write . <span class=\"comment\"># 格式化当前文件夹的所有文件</span></span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E9%85%8D%E7%BD%AE\" class=\"headerlink\" title=\"配置\"></a>配置</h2>\n<p>参见官方文档：</p>\n<ul>\n<li><p><a href=\"https://prettier.io/docs/en/configuration.html\">https://prettier.io/docs/en/configuration.html</a></p></li>\n<li><p><a href=\"https://prettier.io/docs/en/options.html\">https://prettier.io/docs/en/options.html</a></p></li>\n</ul>\n<p>Prettier 的配置文件有多种写法：</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.10/rawimg/a4cc583d84c12.png\"></p>\n<p>以使用 <code>YAML</code> 书写的 <code>.prettierrc</code> 为例：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 单行最长字符数</span></span><br><span class=\"line\"><span class=\"attr\">printWidth:</span> <span class=\"number\">80</span></span><br><span class=\"line\"><span class=\"comment\"># 制表符长度</span></span><br><span class=\"line\"><span class=\"attr\">tabWidth:</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"comment\"># 是否使用 Tab</span></span><br><span class=\"line\"><span class=\"attr\">useTabs:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"comment\"># 是否加入分号</span></span><br><span class=\"line\"><span class=\"attr\">semi:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># 单引号</span></span><br><span class=\"line\"><span class=\"attr\">singleQuote:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ...</span></span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E6%95%88%E6%9E%9C\" class=\"headerlink\" title=\"效果\"></a>效果</h2>\n<p>格式化前：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">fetch(<span class=\"string\">\"https://blog.yfun.top/search.json\"</span>).then(<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>res.json()).then(<span class=\"function\">(<span class=\"params\">content</span>) =&gt;</span> {<span class=\"built_in\">console</span>.log(content);<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; content.length; i++){<span class=\"built_in\">console</span>.log(content[i][<span class=\"string\">'title'</span>] + <span class=\"string\">\" --- https://blog.yfun.top\"</span> + content[i][<span class=\"string\">'url'</span>])}})</span><br></pre></td></tr></table></figure><p>格式化后：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">fetch(<span class=\"string\">\"https://blog.yfun.top/search.json\"</span>)</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> res.json())</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">content</span>) =&gt;</span> {</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(content);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; content.length; i++) {</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">                content[i][<span class=\"string\">\"title\"</span>] +</span><br><span class=\"line\">                    <span class=\"string\">\" --- https://blog.yfun.top\"</span> +</span><br><span class=\"line\">                    content[i][<span class=\"string\">\"url\"</span>]</span><br><span class=\"line\">            );</span><br><span class=\"line\">        }</span><br><span class=\"line\">    });</span><br></pre></td></tr></table></figure>\n","link":"https://blog.yfun.top/posts/2021/format-code-using-prettier/"},{"title":"树莓派超频","date":"2021-06-25 07:50:00","description":"\n<div class=\"note note-info\">            <p>本文操作系统为 Ubuntu Server 20.04，其他操作系统可能有所不同。</p>          </div>\n<div class=\"note note-warning\">            <p>超频是有风险的，温度也会更高，需要比较良好的散热。</p>          </div>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%BC%80%E5%A7%8B\" class=\"headerlink\" title=\"开始\"></a>开始</h2>\n<p>登录树莓派，进入 <code>/boot/firmware/</code> 目录：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /boot/firmware/</span><br></pre></td></tr></table></figure><div class=\"note note-warning\">            <p>网上很多教程让你修改 <code>config.txt</code> 文件，但注释里已经很明确的写了：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Please DO NOT modify this file; if you need to modify the boot config, the</span><br><span class=\"line\"># \"usercfg.txt\" file is the place to include user changes. Please refer to</span><br><span class=\"line\"># the README file for a description of the various configuration files on</span><br><span class=\"line\"># the boot partition.</span><br></pre></td></tr></table></figure>\n</div>\n<p>我们修改 <code>usercfg.txt</code> 文件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo vim usercfg.txt</span><br></pre></td></tr></table></figure><p>在文件末尾追加配置信息，以下是我的，仅供参考：</p>\n<div class=\"note note-danger\">            <p>我使用的是 <code>Raspberry Pi 4 (4GB)</code>，并且有小风扇和散热片。<br>请根据自己的需要和配置进行更改。</p>          </div>\n<figure class=\"highlight text\"><table><tr><td class=\"code\"><pre><span class=\"line\">force_turbo=0</span><br><span class=\"line\">arm_freq=1850</span><br><span class=\"line\">over_voltage=6</span><br><span class=\"line\">gpu_freq=650</span><br><span class=\"line\">core_freq=650</span><br><span class=\"line\">gpu_mem=620</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E9%87%8D%E5%90%AF\" class=\"headerlink\" title=\"重启\"></a>重启</h2>\n<p>保存文件，使用命令重启：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo reboot</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E5%90%8E\" class=\"headerlink\" title=\"后\"></a>后</h2>\n<p>重启完毕后，再使用 <code>lscpu</code> 命令看看 CPU 状况。</p>\n","link":"https://blog.yfun.top/posts/1445549919/"},{"title":"加速 GitHub 下载","date":"2021-06-18 09:30:00","description":"\n<p>GitHub 在国内的访问情况不太稳定，仓库克隆速度也非常慢。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E2%9C%88%EF%B8%8F\" class=\"headerlink\" title=\"✈️\"></a>✈️</h2>\n<p>不必多说。</p>\n<p>例如 <a href=\"http://127.0.0.1:7890/\">http://127.0.0.1:7890</a> 为代理地址，你可以使用下方的命令更改：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config --global http.proxy http://127.0.0.1:7890</span><br></pre></td></tr></table></figure><p>如果有一天不需要了，输入下面代码取消：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config --global --<span class=\"built_in\">unset</span> http.proxy</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#FastGit\" class=\"headerlink\" title=\"FastGit\"></a>FastGit</h2>\n<p>使用 <a href=\"https://fastgit.org/\">FastGit</a> 提供的 GitHub 镜像。</p>\n<p>镜像地址：<a href=\"https://hub.fastgit.org/\">https://hub.fastgit.org</a></p>\n<p>支持 HTTPS 克隆，并且提供 raw.githubusercontent.com 的镜像，地址为 <a href=\"https://raw.fastgit.org/\">https://raw.fastgit.org</a></p>\n<h2>\n<a href=\"https://blog.yfun.top/#CNPM\" class=\"headerlink\" title=\"CNPM\"></a>CNPM</h2>\n<p>使用 <a href=\"https://cnpmjs.org/\">CNPM</a> 提供的 GitHub 镜像。</p>\n<p>镜像地址：<a href=\"https://github.com.cnpmjs.org/\">https://github.com.cnpmjs.org</a></p>\n<p>支持 HTTPS 克隆。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#Hosts\" class=\"headerlink\" title=\"Hosts\"></a>Hosts</h2>\n<p>通过更改 Hosts 文件的方式解决，但大有可能失效：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"code\"><pre><span class=\"line\">199.232.69.194  github.global.ssl.fastly.net</span><br><span class=\"line\">140.82.113.4    github.com</span><br></pre></td></tr></table></figure><p>GitHub 上的 <a href=\"https://github.com/521xueweihan/GitHub520\">521xueweihan/GitHub520</a> 项目提供了更多关于 GitHub Hosts 列表。</p>\n<blockquote><p><a href=\"https://github.com/521xueweihan/GitHub520/issues/53\">521xueweihan/GitHub520 #53</a></p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#Gitee\" class=\"headerlink\" title=\"Gitee\"></a>Gitee</h2>\n<p>网上挺多教程，使用 Gitee 的「从 GitHub 导入」功能。</p>\n<p>不过 Gitee 限制仓库 500MB。。</p>\n<h2>\n<a href=\"https://blog.yfun.top/#Coding\" class=\"headerlink\" title=\"Coding\"></a>Coding</h2>\n<p>进入 Coding 控制台，点击「创建项目」。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/k7uHJm.png\"></p>\n<p>项目模版选择「代码托管」就好，仅做下载的话无需开启太多。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/bEO0vX.png\"></p>\n<p>填写项目基本信息，如名称、标识等。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/N4xjSv.png\"></p>\n<p>新建一个镜像仓库。</p>\n<p>「Git 仓库 URL」填写 GitHub 公开仓库 HTTPS 克隆地址，如：<a href=\"https://github.com/twbs/bootstrap.git\">https://github.com/twbs/bootstrap.git</a></p>\n<p>创建完成后请稍等，系统就会自动导入。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/YxnnDj.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/FmfWkf.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/OV7w4v.png\"></p>\n<p>导入完成后，点击「克隆」就能找到克隆地址。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.9/rawimg/bWszbu.png\"></p>\n<p>克隆速度挺快的：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cloning into <span class=\"string\">'bootstrap'</span>...</span><br><span class=\"line\">remote: Enumerating objects: 169214, <span class=\"keyword\">done</span>.</span><br><span class=\"line\">remote: Counting objects: 100% (169214/169214), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">remote: Compressing objects: 100% (51634/51634), <span class=\"keyword\">done</span>.</span><br><span class=\"line\">Receiving objects:  57% (96728/169214), 90.58 MiB | 6.83 MiB/s </span><br></pre></td></tr></table></figure><p>此外，Coding 还支持自动同步，可以设置每天的同步时间。</p>\n","link":"https://blog.yfun.top/posts/2517388641/"},{"title":"GitHub Action 监测京东商品价格","date":"2021-05-18 10:32:00","description":"\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%89%8D%E8%A8%80\" class=\"headerlink\" title=\"前言\"></a>前言</h2>\n<p>我会在京东上买些电子产品和文具，那么如何获得商品降价信息，使用更低的价格购买呢？</p>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%BC%80%E5%A7%8B\" class=\"headerlink\" title=\"开始\"></a>开始</h2>\n<p>新建一个 <code>GitHub</code> 仓库，创建 <code>main.py</code> , <code>notify.py</code> 和 <code>.github/workflows/auto.yml</code> 三个文件，内容如下：</p>  <details class=\"post-details\"><summary><code>main.py</code> (点击展开)</summary><div class=\"details-content\">  <figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"><span class=\"comment\"># 导入模块</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib.request, random, json, notify</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 商品列表</span></span><br><span class=\"line\">check = [</span><br><span class=\"line\">    <span class=\"comment\"># 闪迪（SanDisk）64GB TF（MicroSD）存储卡</span></span><br><span class=\"line\">    <span class=\"string\">'1887526'</span>,</span><br><span class=\"line\">    <span class=\"comment\"># 晨光(M&amp;G)文具 0.5mm 黑色中性笔</span></span><br><span class=\"line\">    <span class=\"string\">'277393'</span></span><br><span class=\"line\"><span class=\"comment\"># ...</span></span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 价格列表，用于临时存储获取到的价格数据</span></span><br><span class=\"line\">price = {}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 读取上次的价格文件</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    file = <span class=\"built_in\">open</span>(<span class=\"string\">'./price.json'</span>, mode=<span class=\"string\">'r'</span>)</span><br><span class=\"line\">    lastPrice = json.loads(file.readlines()[<span class=\"number\">0</span>])</span><br><span class=\"line\"><span class=\"keyword\">except</span>:</span><br><span class=\"line\">    print(<span class=\"string\">\"读取文件时出现错误！\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 遍历列表，比对价格</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> itemId <span class=\"keyword\">in</span> check:</span><br><span class=\"line\">    <span class=\"comment\"># 组合请求 URL</span></span><br><span class=\"line\">    <span class=\"comment\"># http://p.3.cn/prices/mgets?skuIds=J_</span></span><br><span class=\"line\">    url = <span class=\"string\">'http://p.3.cn/prices/mgets?skuIds=J_{}'</span>.<span class=\"built_in\">format</span>(itemId)</span><br><span class=\"line\">    <span class=\"comment\"># User-Agent 列表</span></span><br><span class=\"line\">    ua = [<span class=\"string\">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36'</span>,<span class=\"string\">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36'</span>,<span class=\"string\">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 OPR/26.0.1656.60'</span>,<span class=\"string\">'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50'</span>,<span class=\"string\">'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50'</span>]</span><br><span class=\"line\">    <span class=\"comment\"># 随机获得一个 User-Agent，如不带 User-Agent 请求，就会被拒绝。</span></span><br><span class=\"line\">    headers = {</span><br><span class=\"line\">        <span class=\"string\">'User-Agent'</span>: ua[random.randint(<span class=\"number\">0</span>,<span class=\"number\">4</span>)]</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"comment\"># 组合请求参数</span></span><br><span class=\"line\">    request = urllib.request.Request(url = url, headers = headers)</span><br><span class=\"line\">    <span class=\"comment\"># 向京东发起请求</span></span><br><span class=\"line\">    response = urllib.request.urlopen(request)</span><br><span class=\"line\">    <span class=\"comment\"># 将获得的数据转为 JSON</span></span><br><span class=\"line\">    page_text = json.loads(response.read().decode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">    thisPrice = <span class=\"built_in\">float</span>(page_text[<span class=\"number\">0</span>][<span class=\"string\">'p'</span>])</span><br><span class=\"line\">    <span class=\"comment\"># 将价格输入至价格变量</span></span><br><span class=\"line\">    price[itemId] = thisPrice</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 尝试对比价格</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> thisPrice &gt; lastPrice[itemId]:</span><br><span class=\"line\">            print(<span class=\"string\">\"{0} 涨价\"</span>.<span class=\"built_in\">format</span>(itemId))</span><br><span class=\"line\"></span><br><span class=\"line\">            print(thisPrice - lastPrice[itemId])</span><br><span class=\"line\">            notify.notify(itemId, <span class=\"number\">0</span>, thisPrice - lastPrice[itemId], thisPrice)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> thisPrice &lt; lastPrice[itemId]:</span><br><span class=\"line\">            print(<span class=\"string\">\"{0} 降价\"</span>.<span class=\"built_in\">format</span>(itemId))</span><br><span class=\"line\">            print(lastPrice[itemId] - thisPrice)</span><br><span class=\"line\">            notify.notify(itemId, <span class=\"number\">2</span>, lastPrice[itemId] - thisPrice, thisPrice)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> lastPrice[itemId] == thisPrice:</span><br><span class=\"line\">            print(<span class=\"string\">\"{0} 价格不变\"</span>.<span class=\"built_in\">format</span>(itemId))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            print(<span class=\"string\">\"{0} 未知错误\"</span>.<span class=\"built_in\">format</span>(itemId))</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        print(<span class=\"string\">\"无法进行比对\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将 JSON 转为 字符串</span></span><br><span class=\"line\">priceStr = json.dumps(price)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 写入价格文件，便于下次查询</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    file = <span class=\"built_in\">open</span>(<span class=\"string\">'./price.json'</span>, mode = <span class=\"string\">'w'</span>)</span><br><span class=\"line\">    file.write(priceStr)</span><br><span class=\"line\">    file.close()</span><br><span class=\"line\"><span class=\"keyword\">except</span>:</span><br><span class=\"line\">    print(<span class=\"string\">\"写入文件时出现错误\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">print(price)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div></details><details class=\"post-details\"><summary><code>notify.py</code> (点击展开)</summary><div class=\"details-content\">  <figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib.request, json, urllib.parse, ssl</span><br><span class=\"line\">ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">提醒的服务，支持 `wechat` 与 `qmsg`。</span></span><br><span class=\"line\"><span class=\"string\">需要在下方进行下一步的配置</span></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\">server = [<span class=\"string\">'qmsg'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">WeChat 采用的是 Server 酱 (https://sc.ftqq.com/3.version) 提供的服务</span></span><br><span class=\"line\"><span class=\"string\">key：Server 酱提供的 Token，必填。</span></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\">wechat = {</span><br><span class=\"line\">    <span class=\"string\">\"key\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">Qmsg 采用的是 Qmsg 酱 (https://qmsg.zendee.cn/) 提供的服务</span></span><br><span class=\"line\"><span class=\"string\">key：Qmsg 酱提供的 KEY，必填。</span></span><br><span class=\"line\"><span class=\"string\">qid：接收消息的 QQ 号（不支持 QQ 群），可以添加多个，以半角逗号分割，如：`10001,10002`（必须均在您的 Qmsg 酱 QQ 号列表中）。</span></span><br><span class=\"line\"><span class=\"string\">'''</span></span><br><span class=\"line\">qmsg = {</span><br><span class=\"line\">    <span class=\"string\">\"key\"</span>: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"qid\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wechat_send</span>(<span class=\"params\">key, title, text</span>):</span></span><br><span class=\"line\">    url = <span class=\"string\">'http://sc.ftqq.com/{0}.send?text={1}&amp;desp={2}'</span>.<span class=\"built_in\">format</span>(key, urllib.parse.quote(title), urllib.parse.quote(text))</span><br><span class=\"line\">    headers = {</span><br><span class=\"line\">        <span class=\"string\">'User-Agent'</span>: <span class=\"string\">\"Check Price Bot\"</span></span><br><span class=\"line\">    }</span><br><span class=\"line\">    request = urllib.request.Request(url=url, headers=headers)</span><br><span class=\"line\">    response = urllib.request.urlopen(request)</span><br><span class=\"line\">    page_text = json.loads(response.read().decode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> page_text[<span class=\"string\">'errno'</span>] == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">qmsg_send</span>(<span class=\"params\">key, <span class=\"built_in\">id</span>, text</span>):</span></span><br><span class=\"line\">    url = <span class=\"string\">'http://qmsg.zendee.cn/send/{0}?msg={1}&amp;qq={2}'</span>.<span class=\"built_in\">format</span>(key, urllib.parse.quote(text), <span class=\"built_in\">id</span>)</span><br><span class=\"line\">    headers = {</span><br><span class=\"line\">        <span class=\"string\">'User-Agent'</span>: <span class=\"string\">\"Check Price Bot\"</span></span><br><span class=\"line\">    }</span><br><span class=\"line\">    request = urllib.request.Request(url=url, headers=headers)</span><br><span class=\"line\">    response = urllib.request.urlopen(request)</span><br><span class=\"line\">    page_text = json.loads(response.read().decode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> page_text[<span class=\"string\">'code'</span>] == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">notify</span>(<span class=\"params\"><span class=\"built_in\">id</span>,<span class=\"built_in\">type</span>,price,nowPrice</span>):</span></span><br><span class=\"line\">    <span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">    type:</span></span><br><span class=\"line\"><span class=\"string\">        0: 涨价</span></span><br><span class=\"line\"><span class=\"string\">        1: 无变化</span></span><br><span class=\"line\"><span class=\"string\">        2: 降价</span></span><br><span class=\"line\"><span class=\"string\">    id: 商品 ID</span></span><br><span class=\"line\"><span class=\"string\">    price: 差价</span></span><br><span class=\"line\"><span class=\"string\">    nowPrice: 现价</span></span><br><span class=\"line\"><span class=\"string\">    '''</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> svId <span class=\"keyword\">in</span> server:</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">send</span>(<span class=\"params\">title,content</span>):</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> svId == <span class=\"string\">'wechat'</span>:</span><br><span class=\"line\">                wechat_send(wechat[<span class=\"string\">\"key\"</span>],title,content)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> svId == <span class=\"string\">'qmsg'</span>:</span><br><span class=\"line\">                qmsg_send(qmsg[<span class=\"string\">\"key\"</span>],qmsg[<span class=\"string\">\"qid\"</span>],title + <span class=\"string\">\"\\n\"</span> + content)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"built_in\">type</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            title = <span class=\"string\">\"商品 {0} 涨价!\"</span>.<span class=\"built_in\">format</span>(<span class=\"built_in\">id</span>)</span><br><span class=\"line\">            content = <span class=\"string\">\"您关注的商品 {0} 涨价咯！价格相较于上次监测，高了 {1} 元，现价 {2} 元。商品详情：https://item.jd.com/{0}.html\"</span>.<span class=\"built_in\">format</span>(<span class=\"built_in\">id</span>,price,nowPrice)</span><br><span class=\"line\">            send(title,content)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> <span class=\"built_in\">type</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            print(<span class=\"string\">\"价格没有变化，不推送通知。\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> <span class=\"built_in\">type</span> == <span class=\"number\">2</span>:</span><br><span class=\"line\">            title = <span class=\"string\">\"商品 {0} 降价!\"</span>.<span class=\"built_in\">format</span>(<span class=\"built_in\">id</span>)</span><br><span class=\"line\">            content = <span class=\"string\">\"您关注的商品 {0} 降价咯！价格相较于上次监测，低了 {1} 元，现价 {2} 元。商品详情：https://item.jd.com/{0}.html\"</span>.<span class=\"built_in\">format</span>(<span class=\"built_in\">id</span>, price,nowPrice)</span><br><span class=\"line\">            send(title, content)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n</div></details><details class=\"post-details\"><summary><code>.github/workflows/auto.yml</code> (点击展开)</summary><div class=\"details-content\">  <figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Check</span> <span class=\"string\">Price</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span> </span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span></span><br><span class=\"line\">  <span class=\"attr\">schedule:</span></span><br><span class=\"line\">    <span class=\"comment\"># 每 1 小时运行一次</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">cron:</span> <span class=\"string\">\"0 * * * *\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">check:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Clone</span> <span class=\"string\">repository</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">'Set up Python'</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-python@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">python-version:</span> <span class=\"number\">3.7</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Run</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">python</span> <span class=\"string\">main.py</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Push</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">config</span> <span class=\"string\">--local</span> <span class=\"string\">user.email</span> <span class=\"string\">\"icolabot@e.yfun.top\"</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">config</span> <span class=\"string\">--local</span> <span class=\"string\">user.name</span> <span class=\"string\">\"iColaBot\"</span></span><br><span class=\"line\">          <span class=\"string\">date</span> <span class=\"string\">+\"%Y-%m-%d</span> <span class=\"string\">%H:%M:%S.%N\"</span> <span class=\"string\">&gt;</span> <span class=\"string\">date.txt</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">add</span> <span class=\"string\">-A</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">commit</span> <span class=\"string\">-am</span> <span class=\"string\">\"Update price.json\"</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">push</span> <span class=\"string\">origin</span> <span class=\"string\">master</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div></details><h2>\n<a href=\"https://blog.yfun.top/#%E6%B3%A8%E6%84%8F\" class=\"headerlink\" title=\"注意\"></a>注意</h2>\n<p>计划任务语法有 5 个字段，中间用空格分隔，每个字段代表一个时间单位。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">┌───────────── 分钟 (0 - 59)</span><br><span class=\"line\">│ ┌───────────── 小时 (0 - 23)</span><br><span class=\"line\">│ │ ┌───────────── 日 (1 - 31)</span><br><span class=\"line\">│ │ │ ┌───────────── 月 (1 - 12 或 JAN-DEC)</span><br><span class=\"line\">│ │ │ │ ┌───────────── 星期 (0 - 6 或 SUN-SAT)</span><br><span class=\"line\">│ │ │ │ │</span><br><span class=\"line\">│ │ │ │ │</span><br><span class=\"line\">│ │ │ │ │</span><br><span class=\"line\">* * * * *</span><br></pre></td></tr></table></figure><p>每个时间字段的含义：</p>\n<table>\n<thead><tr>\n<th align=\"center\">符号</th>\n<th align=\"center\">描述</th>\n<th align=\"center\">举例</th>\n</tr></thead>\n<tbody>\n<tr>\n<td align=\"center\"><code>*</code></td>\n<td align=\"center\">任意值</td>\n<td align=\"center\">\n<code>* * * * *</code> 每天每小时每分钟</td>\n</tr>\n<tr>\n<td align=\"center\"><code>,</code></td>\n<td align=\"center\">值分隔符</td>\n<td align=\"center\">\n<code>1,3,4,7 * * * *</code> 每小时的 1 3 4 7 分钟</td>\n</tr>\n<tr>\n<td align=\"center\"><code>-</code></td>\n<td align=\"center\">范围</td>\n<td align=\"center\">\n<code>1-6 * * * *</code> 每小时的 1-6 分钟</td>\n</tr>\n<tr>\n<td align=\"center\"><code>/</code></td>\n<td align=\"center\">每</td>\n<td align=\"center\">\n<code>*/15 * * * *</code> 每隔 15 分钟</td>\n</tr>\n</tbody>\n</table>\n<blockquote><p>注：由于 GitHub Actions 的限制，如果设置为 <code>* * * * *</code> 实际的执行频率为每 5 分执行一次。</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%90%8E\" class=\"headerlink\" title=\"后\"></a>后</h2>\n<p>新建文件 并 配置 <code>notify.py</code> 后，GitHub Action 就会定时执行代码。如果有降价或涨价，就会按照 <code>notify.py</code> 的配置进行通知。</p>\n<p>京东也有降价提醒的功能，但我实在是不想给 京东 开通知权限，经常推送商品广告。</p>\n<p>本文部分内容参考：<a href=\"https://github.com/justjavac/auto-green#readme\">justjavac/auto-green#readme</a></p>\n","link":"https://blog.yfun.top/posts/1238639652/"},{"title":"我的图床解决方案","date":"2021-05-08 10:30:00","description":"\n<p>博客的文章经常需要插入图片，如果我将文档与图片放在一起，那么图片的加载速度将会很慢，于是我使用了图床。</p>\n<p>图床的选择有很多，<a href=\"https://blog.yfun.top/posts/3867215122/\">笔者之前写过一篇关于免费图床的汇总</a>，本文就来介绍下我采用的方案：NPM。</p>\n<blockquote><p>本文假设您已有 NPM 账号、GitHub 账号。</p></blockquote>\n<h2>\n<a href=\"https://blog.yfun.top/#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2>\n<h3>\n<a href=\"https://blog.yfun.top/#%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93\" class=\"headerlink\" title=\"新建仓库\"></a>新建仓库</h3>\n<p>新建一个 GitHub 仓库，公开或是私人都可以，此处不再赘述。</p>\n<p>在 Git 仓库中新建 <code>rawimg/.gitkeep</code> 与 <code>webpimg/.gitkeep</code> 两个文件。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E8%8E%B7%E5%8F%96%E4%BB%A4%E7%89%8C\" class=\"headerlink\" title=\"获取令牌\"></a>获取令牌</h3>\n<p>登录 <a href=\"https://npmjs.com/\">https://npmjs.com</a> ，点击右上角的头像，进入 <code>Access Token</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/1Xbrlw.png\"></p>\n<p>点击页面中的 <code>Generate New Token</code> 获取新的令牌。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/OQMmsB.png\"></p>\n<p>选择 <code>Automation</code>，点击 <code>Generate Token</code> 生成令牌。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/4Ob3xs.png\"></p>\n<p>将生成的令牌复制下来。</p>\n<p>进入 GitHub 仓库，点击 <code>Settings</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/UfBqld.png\"></p>\n<p>点击菜单栏中的 <code>Secrets</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/SStNlF.png\"></p>\n<p>点击 <code>New repository secret</code> 新建一个 Secret。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/UYSnao.png\"></p>\n<p>Secret Name 为 <code>NPM_TOKEN</code>，Value 是你的 NPM 令牌，点击 <code>Add secret</code> 添加。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/OY4C6A.png\"></p>\n<p>在仓库中新建 <code>package.json</code> 文件，参考如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"ocoke-osg\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"version\"</span>: <span class=\"string\">\"0.0.0\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"Somewhere to save the file from @oCoke\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"author\"</span>: <span class=\"string\">\"YFun(@oCoke)\"</span></span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure><h2>\n<a href=\"https://blog.yfun.top/#%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%8E%E5%8F%91%E5%B8%83\" class=\"headerlink\" title=\"图片转换与发布\"></a>图片转换与发布</h2>\n<p>为了方便多端写作，我使用 GitHub 临时存储所需的图片，GitHub Action 发布 NPM 包。</p>\n<p>WebP 可以大大缩减图片的尺寸，我们还可以借助 GitHub Action 在发布前自动转换。</p>  <details class=\"post-details\"><summary>GitHub Action 代码 (点击展开)</summary><div class=\"details-content\">  <figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">NPM</span> <span class=\"string\">&amp;</span> <span class=\"string\">WebP</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在 Release 发布时 或手动执行</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">release:</span></span><br><span class=\"line\">     <span class=\"attr\">types:</span></span><br><span class=\"line\">       <span class=\"bullet\">-</span> <span class=\"string\">published</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">publish-npm:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"comment\"># Clone 仓库</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Checkout</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">ref:</span> <span class=\"string\">master</span></span><br><span class=\"line\">      <span class=\"comment\"># 安装 Node.js    </span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Setup</span> <span class=\"string\">Node</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v1</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">node-version:</span> <span class=\"string\">\"12.x\"</span></span><br><span class=\"line\">          <span class=\"attr\">registry-url:</span> <span class=\"string\">https://registry.npmjs.org/</span></span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"comment\"># rawimg/ 作为原始图片存储，webpimg/ 作为压缩图片存储处，最后合并。</span></span><br><span class=\"line\">      <span class=\"comment\"># 安装相关插件，转换图片。</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Install</span> <span class=\"string\">&amp;</span> <span class=\"string\">Convert</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">npm</span> <span class=\"string\">install</span> <span class=\"string\">-g</span> <span class=\"string\">webp-batch-convert</span></span><br><span class=\"line\">          <span class=\"string\">cwebp-batch</span> <span class=\"string\">--in</span> <span class=\"string\">rawimg</span> <span class=\"string\">--out</span> <span class=\"string\">webpimg</span> <span class=\"string\">-q</span> <span class=\"number\">75</span> <span class=\"string\">-quiet</span></span><br><span class=\"line\">          <span class=\"string\">mv</span> <span class=\"string\">webpimg/*.webp</span> <span class=\"string\">rawimg/</span></span><br><span class=\"line\">          </span><br><span class=\"line\">      <span class=\"comment\"># 发布 NPM 包</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Publish</span> <span class=\"string\">Package</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">config</span> <span class=\"string\">--global</span> <span class=\"string\">user.email</span> <span class=\"string\">\"icolabot@e.yfun.top\"</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">config</span> <span class=\"string\">--global</span> <span class=\"string\">user.name</span> <span class=\"string\">\"iColaBot\"</span></span><br><span class=\"line\">          <span class=\"string\">npm</span> <span class=\"string\">version</span> <span class=\"string\">patch</span></span><br><span class=\"line\">          <span class=\"string\">npm</span> <span class=\"string\">publish</span></span><br><span class=\"line\">        <span class=\"attr\">env:</span></span><br><span class=\"line\">          <span class=\"attr\">NODE_AUTH_TOKEN:</span> <span class=\"string\">${{secrets.npm_token}}</span></span><br><span class=\"line\">          </span><br><span class=\"line\">      <span class=\"comment\"># 删除 rawimg/ 和 webpimg/ 下的所有文件</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Delete</span> <span class=\"string\">Files</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">rm</span> <span class=\"string\">-rf</span> <span class=\"string\">webpimg/*</span></span><br><span class=\"line\">          <span class=\"string\">rm</span> <span class=\"string\">-rf</span> <span class=\"string\">rawimg/*</span></span><br><span class=\"line\">          <span class=\"string\">touch</span> <span class=\"string\">webpimg/.gitkeep</span></span><br><span class=\"line\">          <span class=\"string\">touch</span> <span class=\"string\">rawimg/.gitkeep</span></span><br><span class=\"line\">          </span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Push</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">add</span> <span class=\"string\">-A</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">commit</span> <span class=\"string\">-m</span> <span class=\"string\">\"Publish\"</span></span><br><span class=\"line\">          <span class=\"string\">git</span> <span class=\"string\">push</span> <span class=\"string\">origin</span> <span class=\"string\">master</span></span><br></pre></td></tr></table></figure>\n</div></details><h2>\n<a href=\"https://blog.yfun.top/#%E4%BD%BF%E7%94%A8\" class=\"headerlink\" title=\"使用\"></a>使用</h2>\n<h3>\n<a href=\"https://blog.yfun.top/#%E4%B8%8A%E4%BC%A0\" class=\"headerlink\" title=\"上传\"></a>上传</h3>\n<p>将图片文件上传至仓库的 <code>rawimg/</code> 文件夹下即可。</p>\n<p>当然也可以使用 PicGo / UPic / HexoPlusPlus 等工具上传。</p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E5%8F%91%E5%B8%83\" class=\"headerlink\" title=\"发布\"></a>发布</h3>\n<p>在 GitHub 中新建 Release，将自动修改版本号并发布 NPM 包，无需手动修改 <code>package.json</code>。</p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/t2afFy.png\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/npm/ocoke-osg@0.0.8/rawimg/0wAmRV.png\"></p>\n<h3>\n<a href=\"https://blog.yfun.top/#%E8%AE%BF%E9%97%AE\" class=\"headerlink\" title=\"访问\"></a>访问</h3>\n<h4>\n<a href=\"https://blog.yfun.top/#%E6%8E%A8%E8%8D%90%E7%9A%84%E9%95%9C%E5%83%8F\" class=\"headerlink\" title=\"推荐的镜像\"></a>推荐的镜像</h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">https://cdn.jsdelivr.net/npm/  <span class=\"comment\"># jsDelivr</span></span><br><span class=\"line\">https://unpkg.zhimg.com/ <span class=\"comment\"># 知乎</span></span><br><span class=\"line\">https://code.bdstatic.com/npm/ <span class=\"comment\"># 百度 (不推荐)</span></span><br><span class=\"line\">https://shadow.elemecdn.com/npm/ <span class=\"comment\"># 饿了么</span></span><br><span class=\"line\">https://unpkg.com/ <span class=\"comment\"># Unpkg</span></span><br></pre></td></tr></table></figure><p>镜像推荐选择访问速度快的，比较稳定的，拉取速度快的。</p>\n<p>我选择的是 jsDelivr，国内外速度都很优秀。</p>\n<h4>\n<a href=\"https://blog.yfun.top/#%E9%93%BE%E6%8E%A5\" class=\"headerlink\" title=\"链接\"></a>链接</h4>\n<p>以 jsDelivr 为例，原图链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">https://cdn.jsdelivr.net/npm/[package-name]@[version]/rawimg/[filename].[suffix]</span><br></pre></td></tr></table></figure><p>WebP 图片链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">https://cdn.jsdelivr.net/npm/[package-name]@[version]/rawimg/[filename].webp</span><br></pre></td></tr></table></figure><table>\n<thead><tr>\n<th>[值]</th>\n<th>说明</th>\n</tr></thead>\n<tbody>\n<tr>\n<td><code>package-name</code></td>\n<td>NPM 包的名称 (<code>package.json</code> 文件中 <code>name</code> 的值)</td>\n</tr>\n<tr>\n<td><code>version</code></td>\n<td>当前版本 (<code>package.json</code> 文件中 <code>version</code> 的值，通常需要在发布 Release 1 分钟后更新)</td>\n</tr>\n<tr>\n<td><code>filename</code></td>\n<td>文件名</td>\n</tr>\n<tr>\n<td><code>suffix</code></td>\n<td>文件后缀名</td>\n</tr>\n</tbody>\n</table>\n","link":"https://blog.yfun.top/posts/2876015612/"},{"title":"无垠 2020 年度总结","date":"2020-12-29 21:04:02","description":"\n<p>2020 即将过去，2021 已在眼前。2020 实在是多灾多难的一年，新冠疫情可以说是严重打乱了我的生活计划，希望新的一年，一切都可以变好吧。</p>\n<p>2020 还剩下最后两天，是时候总结一下这一年了。</p>\n<h1>统计数据</h1>\n<p>依然是一些统计数据。以下数据截止 2020 年 12 月 29 日 23:39:59。</p>\n<h2>博客主站</h2>\n<p>无垠博客主站，年 UV 28,888 (<span>+7.4%</span>)，年 PV 76,583 (<span>-1.66%</span>)，日均 UV 79.36，平均停留时间 4分8秒 (<span>-21.4%</span>)，平均跳出率 51% (<span>-3.77%</span>)。一年有效文章数 5 (<span>+150%</span>)，新增评论 242 条 (<span>-44.9%</span>)。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/blog-2020.png\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/blog-2020.png\" alt=\"\" width=\"515\" height=\"670\" class=\"aligncenter size-full wp-image-2432\"></a>\n<p>文章数提升，访问量也有所提升，但 PV 和停留时间却下降了，或许我还需要继续提高文章的质量...</p>\n<h2>个人主页</h2>\n<p>个人主页依然是几乎没有更新过。什么时候能把 TODO List 上的东西做了呢？我也不知道。不过访问量倒是比去年上升了不少。</p>\n<p>个人页总 UV 3,515 (<span>+64.2%</span>)，总 PV 3,929 (<span>+43.2%</span>)，日均 UV 9.9 (<span>+65%</span>)，平均停留时间 63秒 (<span>+1.6%</span>)。和去年一样，主要来源是知乎和 V2EX。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/axton-2020.png\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/axton-2020.png\" alt=\"\" width=\"515\" height=\"670\" class=\"aligncenter size-full wp-image-2433\"></a>\n<h2>MDx</h2>\n<p>一年中，MDx 更新了 7 次，新增 328 commits (<span>+91.8%</span>)，Star 数增加了 306，现有 614。感谢所有人的支持。当然，虽然 2.0 咕咕咕了很久（甚至离最早的承诺已经过去将近一年半了），但我已经在对 2.0 进行最后的完善（改动确实比较大）。相信在 2021 的开头，MDx 2.0 就能顺利发布了。</p>\n<div class=\"mdx-github-cot\" data-mdxgithuba=\"yrccondor\" data-mdxgithubp=\"mdx\" data-mdxgithubg=\"https://api.github.com/\"><div class=\"mdx-github-wait-out-c2\"><div class=\"mdx-github-wait-out-c mdui-valign\"><div class=\"mdx-github-wait-out\"><div class=\"mdx-github-wait\"><a href=\"https://github.com/yrccondor/mdx\"><div class=\"mdui-spinner\"></div></a></div></div></div></div></div>\n<h1>大事记</h1>\n<ul>\n<li>一月：我经历过的最长的“寒假”开始了</li>\n<li>二月：GitHub followers 换虚拟币，成功换到 3.5k CNY 没有翻车</li>\n<li>三月：<a href=\"https://flyhigher.top/develop/2160.html\">WP-WebAuthn</a> 插件成功上线 <a href=\"https://wordpress.org/plugins/wp-webauthn/\">WordPress 插件目录</a>\n</li>\n<li>四月：Cytus II 主线大结局<del>，我当场通关 </del>\n</li>\n<li>五月：开始学车</li>\n<li>五月：MDx 达到 500 Stars</li>\n<li>七月：第一次实习，公司的前端技术栈和我熟悉的完全一致<del>，于是愉快地在公司里写了一个半月的各种表格 </del>\n</li>\n<li>八月：实习结束，部门同事都很棒，确实学到了很多</li>\n<li>九月：和 Ralph 面基一整天</li>\n<li>九月：入手树莓派 4B</li>\n<li>十月：搬家</li>\n<li>十月：和宁诺合作的 H5 上线</li>\n<li>十一月：TEDxNingbo 年度大会，H5 上线<del>，持续摸鱼中 </del>\n</li>\n<li>十一月：终于买了块副屏，<del> 秃头 </del>写代码更快乐了</li>\n<li>十二月：MDx 喜提 600 Stars</li>\n</ul>\n<h1>跨年红包</h1>\n<p><del>传统艺能时间！和以前一样，红包不是白拿的，你需要一点点技术力来解密拿到红包。有效期截至 2021 年 1 月 1 日 22 时。</del></p>\n<p>今年的解谜旅程，从下面这段颜文字开始。</p>\n<pre>ﾟωﾟﾉ= /｀ｍ´）ﾉ ~┻━┻   //*´∇｀*/ ['_']; o=(ﾟｰﾟ)  =_=3; c=(ﾟΘﾟ) =(ﾟｰﾟ)-(ﾟｰﾟ); (ﾟДﾟ) =(ﾟΘﾟ)= (o^_^o)/ (o^_^o);(ﾟДﾟ)={ﾟΘﾟ: '_' ,ﾟωﾟﾉ : ((ﾟωﾟﾉ==3) +'_') [ﾟΘﾟ] ,ﾟｰﾟﾉ :(ﾟωﾟﾉ+ '_')[o^_^o -(ﾟΘﾟ)] ,ﾟДﾟﾉ:((ﾟｰﾟ==3) +'_')[ﾟｰﾟ] }; (ﾟДﾟ) [ﾟΘﾟ] =((ﾟωﾟﾉ==3) +'_') [c^_^o];(ﾟДﾟ) ['c'] = ((ﾟДﾟ)+'_') [ (ﾟｰﾟ)+(ﾟｰﾟ)-(ﾟΘﾟ) ];(ﾟДﾟ) ['o'] = ((ﾟДﾟ)+'_') [ﾟΘﾟ];(ﾟoﾟ)=(ﾟДﾟ) ['c']+(ﾟДﾟ) ['o']+(ﾟωﾟﾉ +'_')[ﾟΘﾟ]+ ((ﾟωﾟﾉ==3) +'_') [ﾟｰﾟ] + ((ﾟДﾟ) +'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ ((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [(ﾟｰﾟ) - (ﾟΘﾟ)]+(ﾟДﾟ) ['c']+((ﾟДﾟ)+'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ (ﾟДﾟ) ['o']+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ];(ﾟДﾟ) ['_'] =(o^_^o) [ﾟoﾟ] [ﾟoﾟ];(ﾟεﾟ)=((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟДﾟ) .ﾟДﾟﾉ+((ﾟДﾟ)+'_') [(ﾟｰﾟ) + (ﾟｰﾟ)]+((ﾟｰﾟ==3) +'_') [o^_^o -ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟωﾟﾉ +'_') [ﾟΘﾟ]; (ﾟｰﾟ)+=(ﾟΘﾟ); (ﾟДﾟ)[ﾟεﾟ]='\\\\'; (ﾟДﾟ).ﾟΘﾟﾉ=(ﾟДﾟ+ ﾟｰﾟ)[o^_^o -(ﾟΘﾟ)];(oﾟｰﾟo)=(ﾟωﾟﾉ +'_')[c^_^o];(ﾟДﾟ) [ﾟoﾟ]='\\\"';(ﾟДﾟ) ['_'] ( (ﾟДﾟ) ['_'] (ﾟεﾟ+(ﾟДﾟ)[ﾟoﾟ]+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (o^_^o))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((o^_^o) +(o^_^o))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((o^_^o) +(o^_^o))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+((o^_^o) +(o^_^o))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((o^_^o) +(o^_^o))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟoﾟ]) (ﾟΘﾟ)) ('_')</pre>\n<p><del>和去年一样，红包限时不限量。</del>为了保持解谜乐趣，请不要将答案透露给他人，也请不要重复领取红包，否则视情况活动可能会提前结束。</p>\n<p>由于出现大量重复领取/未解题即领取红包的现象，红包解谜活动立即结束，当前红包领完后将不再更新新的红包口令码。<strong>我发起红包解谜活动是为了解题的乐趣而不是发钱，请各位理解。</strong>以下是详细信息。</p>\n<p>出于对参与者的信任，今年的题目中没有对参与者是否已完成前序步骤进行任何验证，但在最后的 WebSocket 中我记录下了所有成功连接的 IP。今年共发出了 32 个红包，但最后一个步骤的日志只记录到了 25 个不重复 IP（鉴于第一批 10 个红包领完时只记录到了四个 IP，实际人数应该小于 25）。查阅支付宝的红包领取记录可以发现有多位用户多次领取了红包，还有一些用户疑似是从他人处获取答案并直接领取的。鉴于活动已经完全失去意义，我选择提前结束了红包解谜活动。</p>\n<h2>红包答案</h2>\n<p>现在，让我们来看看答案吧。今年的题目难度不高，由于事情比较多，我的准备时间确实不多。</p>\n<p>第一阶段非常简单，这段颜文字就是 Javascript，只是使用了著名的 aaencode 将其编码为了颜文字<del>（多亏了 js 优秀的自动类型转换）</del>。将这段颜文字扔进浏览器控制台即可得到 <code>https://rp.dlij.site/2021/</code>。</p>\n<p>前往这个 URL，可以看到这张图。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/index.png\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/index.png\" alt=\"\" width=\"2000\" height=\"1125\" class=\"aligncenter size-full wp-image-2444\"></a>\n<p>今年八月宝塔面板 7.4.2 的 phpMyAdmin 未授权访问漏洞很多人都知道了，如果你不清楚，搜索“宝塔面板 7.4.2”也能找到相关信息。首先找到 <code>rp.dlij.site</code> 对应的 IP 是 <code>121.196.27.125</code>，访问 <code>http://121.196.27.125:888/pma</code> 即可看到一个 phpMyAdmin 的界面（为了把这个页面扒下来我还装了一个真的宝塔面板...）。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/pma.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/pma.jpg\" alt=\"\" width=\"1600\" height=\"867\" class=\"aligncenter size-full wp-image-2448\"></a>\n<p>可以看到信息是 <code>7972632E6D652F6738546D444A3132</code>。和前年一样，这其实是十六进制的 ASCII 码，每两位转为 ASCII 字符即可得到 <code>yrc.me/g8TmDJ12</code>。访问这个页面，可以看到如下信息。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/apl.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/apl.jpg\" alt=\"\" width=\"1500\" height=\"248\" class=\"aligncenter size-full wp-image-2447\"></a>\n<p>这是 APL，一种有趣的函数式编程语言。你可能不了解它，但只要你搜索网页的 <code>title</code>，就能找到这个在线运行 APL 的页面：<a href=\"https://tryapl.org/\">TryAPL</a>。在这个页面中粘贴这段代码，即可得到 <code>https://rp.dlij.site/2021/2554038.75</code>。访问这个 URL，可以看到一张图。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/2021-b.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/2021-b.jpg\" alt=\"\" width=\"720\" height=\"960\" class=\"aligncenter size-full wp-image-2445\"></a>\n<p>连续三年的传统艺能了，压缩包藏在了图片里。下载图片，将后缀改为 .zip 然后打开，可以看到一个 README.md。其中要求我们去 <code>ws://121.196.27.125:8080/NvAhoZ9@H2Au</code> 获取最终红包口令码。这是一个 WebSocket 协议的地址，在浏览器中开一个新 Console，执行 <code>new WebSocket('ws://121.196.27.125:8080/NvAhoZ9@H2Au')</code> 即可在 Network 选项卡中看见服务器下发的红包口令码。当然，别忘了将其反转。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/message.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/message.jpg\" alt=\"\" width=\"475\" height=\"179\" class=\"aligncenter size-full wp-image-2446\"></a>\n<h1>跨年海报</h1>\n<p>依然是传统艺能，今年的海报只用到了 PS。</p>\n<a href=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/2021.jpg\"><img loading=\"lazy\" src=\"https://acdn.flyhigher.top/wp-content/uploads/2020/12/2021.jpg\" alt=\"2021\" width=\"720\" height=\"960\" class=\"aligncenter size-full wp-image-2407\"></a>\n<p>提前祝各位新年快乐！</p>\n","link":"https://flyhigher.top/diary/2405.html"},{"title":"[译] HentaiVerse 建议和指导","date":"2020-12-24 22:31:00","description":"\n<p>著名的同人本资源集散地 E-hentai 有一个完全没有人在意的角落 ——「HentaiVerse」，一个纯文字网页 RPG 游戏。虽然这个游戏应该不会有太多新玩家了，不过还是翻译一篇给新玩家的指导文吧。</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/209138/1/18651/50218/622032acEf83a8d68/fc6db86aebb679ff.png\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/hentaiverse-advice/\">https://blog.skk.moe/post/hentaiverse-advice/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/hentaiverse-advice/"},{"title":"ZSH 自动读取 macOS 系统代理配置并设置环境变量","date":"2020-12-07 02:47:00","description":"\n<p>和其它 Linux 的 DE 一样，macOS 也支持在「系统偏好设置」中设置 HTTP 代理、HTTPS 代理，但是 macOS 并不会在终端（Terminal、iTerm）的 shell 中自动生效系统代理配置。为了方便日常使用，我决定好好研究一下 macOS 的系统代理。macOS 系统代理的行为和 Linux 和 Windows 只有一种系统代理配置不同，macOS 为每一种网络设备（Wi-Fi、Ethernet、Bluetooth PAN 等）维护了独立的网络配置，包括代理配置在内。因此当切换网络设备时，macOS 会使用不同的代理配置；如果同时连接了多个网络设备，则操作系统会优先采用在「系统偏好设置」网络「Service Order」靠上的设备的代理配置：...</p>\n<img src=\"https://img10.360buyimg.com/ddimg/jfs/t1/207910/19/18573/59096/622032b0E05c1d4be/5d89d557f7889730.jpg\"><br><p>请前往 <a href=\"https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/\">https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/</a> 阅读全文</p>\n","link":"https://blog.skk.moe/post/macos-auto-read-proxy-settings-zsh/"},{"title":"谈谈 WebAuthn","date":"2020-03-23 14:57:59","description":"WebAuthn，即 Web Authentication，是一个用于在浏览器上进行认证的 API，W3C 将 […]","link":"https://flyhigher.top/develop/2160.html"}]